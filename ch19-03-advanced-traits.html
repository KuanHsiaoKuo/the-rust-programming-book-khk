<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>⭐️Advanced Traits - The Rust Programming Language</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="md-favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="assets/ferris/ferris.css">
        <link rel="stylesheet" href="theme/2018-edition.css">
        <link rel="stylesheet" href="assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="assets/css/mdbook-admonish.css">

</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('navy')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="not_involved_resources.html"><strong aria-hidden="true">1.</strong> Not Involved Resources</a></li><li class="chapter-item expanded "><a href="overviews.html"><strong aria-hidden="true">2.</strong> Overviews</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="overviews/rbe_radial_tree_embed.html"><strong aria-hidden="true">2.1.</strong> Rust By Examples</a></li></ol></li><li class="chapter-item expanded "><a href="title-page.html"><strong aria-hidden="true">3.</strong> The Rust Programming Language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="foreword.html"><strong aria-hidden="true">3.1.</strong> Foreword</a></li><li class="chapter-item "><a href="ch00-00-introduction.html"><strong aria-hidden="true">3.2.</strong> Introduction</a></li><li class="chapter-item "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">3.3.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch01-01-installation.html"><strong aria-hidden="true">3.3.1.</strong> Installation</a></li><li class="chapter-item "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">3.3.2.</strong> Hello, World!</a></li><li class="chapter-item "><a href="ch01-03-hello-cargo.html"><strong aria-hidden="true">3.3.3.</strong> Hello, Cargo!</a></li><li class="chapter-item "><a href="ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">3.3.4.</strong> Programming a Guessing Game</a></li><li class="chapter-item "><a href="ch03-00-common-programming-concepts.html"><strong aria-hidden="true">3.3.5.</strong> Common Programming Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch03-01-variables-and-mutability.html"><strong aria-hidden="true">3.3.5.1.</strong> Variables and Mutability</a></li><li class="chapter-item "><a href="ch03-02-data-types.html"><strong aria-hidden="true">3.3.5.2.</strong> Data Types</a></li><li class="chapter-item "><a href="ch03-03-how-functions-work.html"><strong aria-hidden="true">3.3.5.3.</strong> ✨Functions</a></li><li class="chapter-item "><a href="ch03-04-comments.html"><strong aria-hidden="true">3.3.5.4.</strong> Comments</a></li><li class="chapter-item "><a href="ch03-05-control-flow.html"><strong aria-hidden="true">3.3.5.5.</strong> Control Flow</a></li></ol></li><li class="chapter-item "><a href="ch04-00-understanding-ownership.html"><strong aria-hidden="true">3.3.6.</strong> Understanding Ownership</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch04-01-what-is-ownership.html"><strong aria-hidden="true">3.3.6.1.</strong> What is Ownership?</a></li><li class="chapter-item "><a href="ch04-02-references-and-borrowing.html"><strong aria-hidden="true">3.3.6.2.</strong> References and Borrowing</a></li><li class="chapter-item "><a href="ch04-03-slices.html"><strong aria-hidden="true">3.3.6.3.</strong> The Slice Type</a></li></ol></li><li class="chapter-item "><a href="ch05-00-structs.html"><strong aria-hidden="true">3.3.7.</strong> Using Structs to Structure Related Data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch05-01-defining-structs.html"><strong aria-hidden="true">3.3.7.1.</strong> Defining and Instantiating Structs</a></li><li class="chapter-item "><a href="ch05-02-example-structs.html"><strong aria-hidden="true">3.3.7.2.</strong> An Example Program Using Structs</a></li><li class="chapter-item "><a href="ch05-03-method-syntax.html"><strong aria-hidden="true">3.3.7.3.</strong> ✨Method Syntax</a></li></ol></li><li class="chapter-item "><a href="ch06-00-enums.html"><strong aria-hidden="true">3.3.8.</strong> Enums and Pattern Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch06-01-defining-an-enum.html"><strong aria-hidden="true">3.3.8.1.</strong> Defining an Enum</a></li><li class="chapter-item "><a href="ch06-02-match.html"><strong aria-hidden="true">3.3.8.2.</strong> The match Control Flow Construct</a></li><li class="chapter-item "><a href="ch06-03-if-let.html"><strong aria-hidden="true">3.3.8.3.</strong> Concise Control Flow with if let</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.</strong> Basic Rust Literacy</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch07-00-managing-growing-projects-with-packages-crates-and-modules.html"><strong aria-hidden="true">3.4.1.</strong> Managing Growing Projects with Packages, Crates, and Modules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch07-01-packages-and-crates.html"><strong aria-hidden="true">3.4.1.1.</strong> Packages and Crates</a></li><li class="chapter-item "><a href="ch07-02-defining-modules-to-control-scope-and-privacy.html"><strong aria-hidden="true">3.4.1.2.</strong> Defining Modules to Control Scope and Privacy</a></li><li class="chapter-item "><a href="ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html"><strong aria-hidden="true">3.4.1.3.</strong> Paths for Referring to an Item in the Module Tree</a></li><li class="chapter-item "><a href="ch07-04-bringing-paths-into-scope-with-the-use-keyword.html"><strong aria-hidden="true">3.4.1.4.</strong> Bringing Paths Into Scope with the use Keyword</a></li><li class="chapter-item "><a href="ch07-05-separating-modules-into-different-files.html"><strong aria-hidden="true">3.4.1.5.</strong> Separating Modules into Different Files</a></li></ol></li><li class="chapter-item "><a href="ch08-00-common-collections.html"><strong aria-hidden="true">3.4.2.</strong> Common Collections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch08-01-vectors.html"><strong aria-hidden="true">3.4.2.1.</strong> Storing Lists of Values with Vectors</a></li><li class="chapter-item "><a href="ch08-02-strings.html"><strong aria-hidden="true">3.4.2.2.</strong> Storing UTF-8 Encoded Text with Strings</a></li><li class="chapter-item "><a href="ch08-03-hash-maps.html"><strong aria-hidden="true">3.4.2.3.</strong> Storing Keys with Associated Values in Hash Maps</a></li></ol></li><li class="chapter-item "><a href="ch09-00-error-handling.html"><strong aria-hidden="true">3.4.3.</strong> Error Handling</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">3.4.3.1.</strong> Unrecoverable Errors with panic!</a></li><li class="chapter-item "><a href="ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">3.4.3.2.</strong> ⭐️Recoverable Errors with Result</a></li><li class="chapter-item "><a href="ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">3.4.3.3.</strong> To panic! or Not to panic!</a></li></ol></li><li class="chapter-item "><a href="ch10-00-generics.html"><strong aria-hidden="true">3.4.4.</strong> Generic Types, Traits, and Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch10-01-syntax.html"><strong aria-hidden="true">3.4.4.1.</strong> ✨Generic Data Types</a></li><li class="chapter-item "><a href="ch10-02-traits.html"><strong aria-hidden="true">3.4.4.2.</strong> 🪐Traits: Defining Shared Behavior</a></li><li class="chapter-item "><a href="ch10-03-lifetime-syntax.html"><strong aria-hidden="true">3.4.4.3.</strong> ⭐️Validating References with Lifetimes</a></li></ol></li><li class="chapter-item "><a href="ch11-00-testing.html"><strong aria-hidden="true">3.4.5.</strong> Writing Automated Tests</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch11-01-writing-tests.html"><strong aria-hidden="true">3.4.5.1.</strong> How to Write Tests</a></li><li class="chapter-item "><a href="ch11-02-running-tests.html"><strong aria-hidden="true">3.4.5.2.</strong> Controlling How Tests Are Run</a></li><li class="chapter-item "><a href="ch11-03-test-organization.html"><strong aria-hidden="true">3.4.5.3.</strong> Test Organization</a></li></ol></li><li class="chapter-item "><a href="ch12-00-an-io-project.html"><strong aria-hidden="true">3.4.6.</strong> An I/O Project: Building a Command Line Program</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">3.4.6.1.</strong> Accepting Command Line Arguments</a></li><li class="chapter-item "><a href="ch12-02-reading-a-file.html"><strong aria-hidden="true">3.4.6.2.</strong> Reading a File</a></li><li class="chapter-item "><a href="ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">3.4.6.3.</strong> Refactoring to Improve Modularity and Error Handling</a></li><li class="chapter-item "><a href="ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">3.4.6.4.</strong> Developing the Library’s Functionality with Test Driven Development</a></li><li class="chapter-item "><a href="ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">3.4.6.5.</strong> Working with Environment Variables</a></li><li class="chapter-item "><a href="ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">3.4.6.6.</strong> Writing Error Messages to Standard Error Instead of Standard Output</a></li></ol></li></ol></li><li class="chapter-item "><a href="thinking_in_rust.html"><strong aria-hidden="true">3.5.</strong> 🤔Thinking in Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch13-00-functional-features.html"><strong aria-hidden="true">3.5.1.</strong> Functional Language Features: Iterators and Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch13-01-closures.html"><strong aria-hidden="true">3.5.1.1.</strong> Closures: Anonymous Functions that Capture Their Environment</a></li><li class="chapter-item "><a href="ch13-02-iterators.html"><strong aria-hidden="true">3.5.1.2.</strong> Processing a Series of Items with Iterators</a></li><li class="chapter-item "><a href="ch13-03-improving-our-io-project.html"><strong aria-hidden="true">3.5.1.3.</strong> Improving Our I/O Project</a></li><li class="chapter-item "><a href="ch13-04-performance.html"><strong aria-hidden="true">3.5.1.4.</strong> Comparing Performance: Loops vs. Iterators</a></li></ol></li><li class="chapter-item "><a href="ch14-00-more-about-cargo.html"><strong aria-hidden="true">3.5.2.</strong> More about Cargo and Crates.io</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch14-01-release-profiles.html"><strong aria-hidden="true">3.5.2.1.</strong> Customizing Builds with Release Profiles</a></li><li class="chapter-item "><a href="ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">3.5.2.2.</strong> Publishing a Crate to Crates.io</a></li><li class="chapter-item "><a href="ch14-03-cargo-workspaces.html"><strong aria-hidden="true">3.5.2.3.</strong> Cargo Workspaces</a></li><li class="chapter-item "><a href="ch14-04-installing-binaries.html"><strong aria-hidden="true">3.5.2.4.</strong> Installing Binaries from Crates.io with cargo install</a></li><li class="chapter-item "><a href="ch14-05-extending-cargo.html"><strong aria-hidden="true">3.5.2.5.</strong> Extending Cargo with Custom Commands</a></li></ol></li><li class="chapter-item "><a href="ch15-00-smart-pointers.html"><strong aria-hidden="true">3.5.3.</strong> ✨Smart Pointers: Heap、Deref、Drop、Rc、RefCell、Reference Cycle</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch15-01-box.html"><strong aria-hidden="true">3.5.3.1.</strong> Heap: Using Box&lt;T&gt; to Point to Data on the Heap</a></li><li class="chapter-item "><a href="ch15-02-deref.html"><strong aria-hidden="true">3.5.3.2.</strong> Deref: Treating Smart Pointers Like Regular References with the Deref Trait</a></li><li class="chapter-item "><a href="ch15-03-drop.html"><strong aria-hidden="true">3.5.3.3.</strong> Drop: Running Code on Cleanup with the Drop Trait</a></li><li class="chapter-item "><a href="ch15-04-rc.html"><strong aria-hidden="true">3.5.3.4.</strong> Rc&lt;T&gt;: immutable references of multiple owners, the Reference Counted Smart Pointer</a></li><li class="chapter-item "><a href="ch15-05-interior-mutability.html"><strong aria-hidden="true">3.5.3.5.</strong> RefCell&lt;T&gt; and the Interior Mutability Pattern</a></li><li class="chapter-item "><a href="ch15-06-reference-cycles.html"><strong aria-hidden="true">3.5.3.6.</strong> Reference Cycles Can Leak Memory</a></li></ol></li><li class="chapter-item "><a href="ch16-00-concurrency.html"><strong aria-hidden="true">3.5.4.</strong> Fearless Concurrency</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch16-01-threads.html"><strong aria-hidden="true">3.5.4.1.</strong> Using Threads to Run Code Simultaneously</a></li><li class="chapter-item "><a href="ch16-02-message-passing.html"><strong aria-hidden="true">3.5.4.2.</strong> Using Message Passing to Transfer Data Between Threads</a></li><li class="chapter-item "><a href="ch16-03-shared-state.html"><strong aria-hidden="true">3.5.4.3.</strong> Shared-State Concurrency</a></li><li class="chapter-item "><a href="ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">3.5.4.4.</strong> Extensible Concurrency with the Sync and Send Traits</a></li></ol></li><li class="chapter-item "><a href="ch17-00-oop.html"><strong aria-hidden="true">3.5.5.</strong> Object Oriented Programming Features of Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch17-01-what-is-oo.html"><strong aria-hidden="true">3.5.5.1.</strong> Characteristics of Object-Oriented Languages</a></li><li class="chapter-item "><a href="ch17-02-trait-objects.html"><strong aria-hidden="true">3.5.5.2.</strong> 🌛️Using Trait Objects That Allow for Values of Different Types</a></li><li class="chapter-item "><a href="ch17-03-oo-design-patterns.html"><strong aria-hidden="true">3.5.5.3.</strong> Implementing an Object-Oriented Design Pattern</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.6.</strong> Advanced Topics</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch18-00-patterns.html"><strong aria-hidden="true">3.6.1.</strong> Patterns and Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch18-01-all-the-places-for-patterns.html"><strong aria-hidden="true">3.6.1.1.</strong> All the Places Patterns Can Be Used</a></li><li class="chapter-item "><a href="ch18-02-refutability.html"><strong aria-hidden="true">3.6.1.2.</strong> Refutability: Whether a Pattern Might Fail to Match</a></li><li class="chapter-item "><a href="ch18-03-pattern-syntax.html"><strong aria-hidden="true">3.6.1.3.</strong> ⭐️Pattern Syntax</a></li></ol></li><li class="chapter-item expanded "><a href="ch19-00-advanced-features.html"><strong aria-hidden="true">3.6.2.</strong> Advanced Features</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch19-01-unsafe-rust.html"><strong aria-hidden="true">3.6.2.1.</strong> Unsafe Rust</a></li><li class="chapter-item expanded "><a href="ch19-03-advanced-traits.html" class="active"><strong aria-hidden="true">3.6.2.2.</strong> ⭐️Advanced Traits</a></li><li class="chapter-item "><a href="ch19-04-advanced-types.html"><strong aria-hidden="true">3.6.2.3.</strong> ✨Advanced Types</a></li><li class="chapter-item "><a href="ch19-05-advanced-functions-and-closures.html"><strong aria-hidden="true">3.6.2.4.</strong> Advanced Functions and Closures</a></li><li class="chapter-item "><a href="ch19-06-macros.html"><strong aria-hidden="true">3.6.2.5.</strong> Macros</a></li></ol></li><li class="chapter-item "><a href="ch20-00-final-project-a-web-server.html"><strong aria-hidden="true">3.6.3.</strong> Final Project: Building a Multithreaded Web Server</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ch20-01-single-threaded.html"><strong aria-hidden="true">3.6.3.1.</strong> Building a Single-Threaded Web Server</a></li><li class="chapter-item "><a href="ch20-02-multithreaded.html"><strong aria-hidden="true">3.6.3.2.</strong> Turning Our Single-Threaded Server into a Multithreaded Server</a></li><li class="chapter-item "><a href="ch20-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">3.6.3.3.</strong> Graceful Shutdown and Cleanup</a></li></ol></li><li class="chapter-item "><a href="appendix-00.html"><strong aria-hidden="true">3.6.4.</strong> Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="appendix-01-keywords.html"><strong aria-hidden="true">3.6.4.1.</strong> A - Keywords</a></li><li class="chapter-item "><a href="appendix-02-operators.html"><strong aria-hidden="true">3.6.4.2.</strong> B - Operators and Symbols</a></li><li class="chapter-item "><a href="appendix-03-derivable-traits.html"><strong aria-hidden="true">3.6.4.3.</strong> ✨️C - Derivable Traits</a></li><li class="chapter-item "><a href="appendix-04-useful-development-tools.html"><strong aria-hidden="true">3.6.4.4.</strong> D - Useful Development Tools</a></li><li class="chapter-item "><a href="appendix-05-editions.html"><strong aria-hidden="true">3.6.4.5.</strong> E - Editions</a></li><li class="chapter-item "><a href="appendix-06-translation.html"><strong aria-hidden="true">3.6.4.6.</strong> F - Translations of the Book</a></li><li class="chapter-item "><a href="appendix-07-nightly-rust.html"><strong aria-hidden="true">3.6.4.7.</strong> G - How Rust is Made and “Nightly Rust”</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="rust_by_example_src/index.html"><strong aria-hidden="true">4.</strong> Rust By Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/hello.html"><strong aria-hidden="true">4.1.</strong> Hello World</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/hello/comment.html"><strong aria-hidden="true">4.1.1.</strong> Comments</a></li><li class="chapter-item "><a href="rust_by_example_src/hello/print.html"><strong aria-hidden="true">4.1.2.</strong> Formatted print</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/hello/print/print_debug.html"><strong aria-hidden="true">4.1.2.1.</strong> Debug</a></li><li class="chapter-item "><a href="rust_by_example_src/hello/print/print_display.html"><strong aria-hidden="true">4.1.2.2.</strong> Display</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/hello/print/print_display/testcase_list.html"><strong aria-hidden="true">4.1.2.2.1.</strong> Testcase: List</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/hello/print/fmt.html"><strong aria-hidden="true">4.1.2.3.</strong> Formatting</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.2.</strong> Types: Primitives, custom Types, Bindings and Change/Define/Advanced Conversion</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/primitives.html"><strong aria-hidden="true">4.2.1.</strong> Primitives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/primitives/literals.html"><strong aria-hidden="true">4.2.1.1.</strong> Literals and operators</a></li><li class="chapter-item "><a href="rust_by_example_src/primitives/tuples.html"><strong aria-hidden="true">4.2.1.2.</strong> Tuples: a collection of values of different types</a></li><li class="chapter-item "><a href="rust_by_example_src/primitives/array.html"><strong aria-hidden="true">4.2.1.3.</strong> Arrays and Slices: a collection of objects of the same type T</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/custom_types.html"><strong aria-hidden="true">4.2.2.</strong> Custom Types: struct and enum</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/custom_types/structs.html"><strong aria-hidden="true">4.2.2.1.</strong> Structures: Tuple, C structs and Unit structs</a></li><li class="chapter-item "><a href="rust_by_example_src/custom_types/enum.html"><strong aria-hidden="true">4.2.2.2.</strong> ✨Enums: and Type alias</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/custom_types/enum/enum_use.html"><strong aria-hidden="true">4.2.2.2.1.</strong> use</a></li><li class="chapter-item "><a href="rust_by_example_src/custom_types/enum/c_like.html"><strong aria-hidden="true">4.2.2.2.2.</strong> C-like</a></li><li class="chapter-item "><a href="rust_by_example_src/custom_types/enum/testcase_linked_list.html"><strong aria-hidden="true">4.2.2.2.3.</strong> Testcase: linked-list</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/custom_types/constants.html"><strong aria-hidden="true">4.2.2.3.</strong> constants: const and static</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/variable_bindings.html"><strong aria-hidden="true">4.2.3.</strong> Variable Bindings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/variable_bindings/mut.html"><strong aria-hidden="true">4.2.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="rust_by_example_src/variable_bindings/scope.html"><strong aria-hidden="true">4.2.3.2.</strong> Scope ({}) and Shadowing</a></li><li class="chapter-item "><a href="rust_by_example_src/variable_bindings/declare.html"><strong aria-hidden="true">4.2.3.3.</strong> Declare first</a></li><li class="chapter-item "><a href="rust_by_example_src/variable_bindings/freeze.html"><strong aria-hidden="true">4.2.3.4.</strong> Freezing</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/types.html"><strong aria-hidden="true">4.2.4.</strong> 🚶Basic Conversion: Change or Define Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/types/cast.html"><strong aria-hidden="true">4.2.4.1.</strong> as: Casting using as keyword</a></li><li class="chapter-item "><a href="rust_by_example_src/types/literals.html"><strong aria-hidden="true">4.2.4.2.</strong> Literals</a></li><li class="chapter-item "><a href="rust_by_example_src/types/inference.html"><strong aria-hidden="true">4.2.4.3.</strong> Inference</a></li><li class="chapter-item "><a href="rust_by_example_src/types/alias.html"><strong aria-hidden="true">4.2.4.4.</strong> ✨Type Aliasing: give a new name to an existing type</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/conversion.html"><strong aria-hidden="true">4.2.5.</strong> 💃Advanced Conversion: From/Into trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/conversion/from_into.html"><strong aria-hidden="true">4.2.5.1.</strong> From and Into</a></li><li class="chapter-item "><a href="rust_by_example_src/conversion/try_from_try_into.html"><strong aria-hidden="true">4.2.5.2.</strong> TryFrom and TryInto: used for fallible conversions, return Result</a></li><li class="chapter-item "><a href="rust_by_example_src/conversion/string.html"><strong aria-hidden="true">4.2.5.3.</strong> ToString and FromStr trait: To and from Strings</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.3.</strong> Control: Statements, Functions and Error handling</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/expression.html"><strong aria-hidden="true">4.3.1.</strong> ✨Expressions: statements end with ;</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control.html"><strong aria-hidden="true">4.3.2.</strong> 🧮 Flow of Control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/flow_control/if_else.html"><strong aria-hidden="true">4.3.2.1.</strong> if/else</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/loop.html"><strong aria-hidden="true">4.3.2.2.</strong> loop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/flow_control/loop/nested.html"><strong aria-hidden="true">4.3.2.2.1.</strong> Nesting and labels: a little like lifetime annotations</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/loop/return.html"><strong aria-hidden="true">4.3.2.2.2.</strong> Returning from loops</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/while.html"><strong aria-hidden="true">4.3.2.3.</strong> while</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/while_let.html"><strong aria-hidden="true">4.3.2.4.</strong> ✨while_let</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/for.html"><strong aria-hidden="true">4.3.2.5.</strong> for and range</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/match.html"><strong aria-hidden="true">4.3.2.6.</strong> ⭐️match</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/flow_control/match/destructuring.html"><strong aria-hidden="true">4.3.2.6.1.</strong> ✨✨✨Destructuring</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/match/guard.html"><strong aria-hidden="true">4.3.2.6.2.</strong> Guards: to filter the arm</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/match/binding.html"><strong aria-hidden="true">4.3.2.6.3.</strong> @ Binding</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/if_let.html"><strong aria-hidden="true">4.3.2.7.</strong> if let</a></li><li class="chapter-item "><a href="rust_by_example_src/flow_control/while_let.html"><strong aria-hidden="true">4.3.2.8.</strong> while let</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/fn.html"><strong aria-hidden="true">4.3.3.</strong> ✨Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/fn/methods.html"><strong aria-hidden="true">4.3.3.1.</strong> Methods</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures.html"><strong aria-hidden="true">4.3.3.2.</strong> ✨Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/fn/closures/capture.html"><strong aria-hidden="true">4.3.3.2.1.</strong> Capturing</a></li><li class="chapter-item "><div><strong aria-hidden="true">4.3.3.2.2.</strong> Fn/FnMut/FnOnce</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/fn/closures/anonymity.html"><strong aria-hidden="true">4.3.3.2.2.1.</strong> Type anonymity</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures/input_parameters.html"><strong aria-hidden="true">4.3.3.2.2.2.</strong> As input parameters</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures/output_parameters.html"><strong aria-hidden="true">4.3.3.2.2.3.</strong> As output parameters</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures/input_functions.html"><strong aria-hidden="true">4.3.3.2.2.4.</strong> Input functions</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures/closure_examples.html"><strong aria-hidden="true">4.3.3.2.3.</strong> Examples in std</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/fn/closures/closure_examples/iter_any.html"><strong aria-hidden="true">4.3.3.2.3.1.</strong> Iterator::any</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/closures/closure_examples/iter_find.html"><strong aria-hidden="true">4.3.3.2.3.2.</strong> Searching through iterators</a></li></ol></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/fn/hof.html"><strong aria-hidden="true">4.3.3.3.</strong> Higher Order Functions</a></li><li class="chapter-item "><a href="rust_by_example_src/fn/diverging.html"><strong aria-hidden="true">4.3.3.4.</strong> ✨Diverging functions: return !, different from ()</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/error.html"><strong aria-hidden="true">4.3.4.</strong> ⭐️Error handling: Panic、Option and Result</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/panic.html"><strong aria-hidden="true">4.3.4.1.</strong> panic!: unrecoverable, try-exception</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/abort_unwind.html"><strong aria-hidden="true">4.3.4.1.1.</strong> ✨abort & unwind: Two implementation mechanisms of panic</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/error/option_unwrap.html"><strong aria-hidden="true">4.3.4.2.</strong> Option & unwrap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/option_unwrap/map.html"><strong aria-hidden="true">4.3.4.2.1.</strong> Combinators of Option: map</a></li><li class="chapter-item "><a href="rust_by_example_src/error/option_unwrap/and_then.html"><strong aria-hidden="true">4.3.4.2.2.</strong> Combinators of Option: and_then</a></li><li class="chapter-item "><a href="rust_by_example_src/error/option_unwrap/defaults.html"><strong aria-hidden="true">4.3.4.2.3.</strong> Defaults: or, or_else, get_or_insert, 'get_or_insert_with`</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/error/result.html"><strong aria-hidden="true">4.3.4.3.</strong> Result & OK or ?: A Richer Version Of Option</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/result/result_map.html"><strong aria-hidden="true">4.3.4.3.1.</strong> map for Result: catch explicit Exception and Continue</a></li><li class="chapter-item "><a href="rust_by_example_src/error/result/result_alias.html"><strong aria-hidden="true">4.3.4.3.2.</strong> Custom Exception: aliases for Result</a></li><li class="chapter-item "><a href="rust_by_example_src/error/result/early_returns.html"><strong aria-hidden="true">4.3.4.3.3.</strong> Early returns: Catch Exception and Return</a></li></ol></li><li class="chapter-item "><a href="#.html"><strong aria-hidden="true">4.3.4.4.</strong> ?: the uses of question mark</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/result/enter_question_mark.html"><strong aria-hidden="true">4.3.4.4.1.</strong> Introducing ?</a></li><li class="chapter-item "><a href="rust_by_example_src/error/option_unwrap/question_mark.html"><strong aria-hidden="true">4.3.4.4.2.</strong> Unpacking options with ? to return the Some or terminate</a></li><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types/reenter_question_mark.html"><strong aria-hidden="true">4.3.4.4.3.</strong> Other uses of ?</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types.html"><strong aria-hidden="true">4.3.4.5.</strong> Multiple error types to interact</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types/option_result.html"><strong aria-hidden="true">4.3.4.5.1.</strong> Pulling Results out of Options</a></li><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types/define_error_type.html"><strong aria-hidden="true">4.3.4.5.2.</strong> Defining an error type</a></li><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types/boxing_errors.html"><strong aria-hidden="true">4.3.4.5.3.</strong> Boxing errors</a></li><li class="chapter-item "><a href="rust_by_example_src/error/multiple_error_types/wrap_error.html"><strong aria-hidden="true">4.3.4.5.4.</strong> Wrapping errors</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/error/iter_result.html"><strong aria-hidden="true">4.3.4.6.</strong> Iterating over Results</a></li><li class="chapter-item "><a href="rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">4.3.4.7.</strong> 📒Error Handling Practices -- ChatGPT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/error/error_handling_practices/basic_practics.html"><strong aria-hidden="true">4.3.4.7.1.</strong> Basic Practices</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">4.4.</strong> Encapsulation: Modules, Crates and Cargo</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/mod.html"><strong aria-hidden="true">4.4.1.</strong> Modules: hierarchically split and manage visibility</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/mod/visibility.html"><strong aria-hidden="true">4.4.1.1.</strong> Visibility</a></li><li class="chapter-item "><a href="rust_by_example_src/mod/struct_visibility.html"><strong aria-hidden="true">4.4.1.2.</strong> Struct visibility: an extra level of visibility with their fields</a></li><li class="chapter-item "><a href="rust_by_example_src/mod/use.html"><strong aria-hidden="true">4.4.1.3.</strong> The use declaration: bind a full path to a new name</a></li><li class="chapter-item "><a href="rust_by_example_src/mod/super.html"><strong aria-hidden="true">4.4.1.4.</strong> super and self: remove ambiguity</a></li><li class="chapter-item "><a href="rust_by_example_src/mod/split.html"><strong aria-hidden="true">4.4.1.5.</strong> File/Directory hierarchy</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/crates.html"><strong aria-hidden="true">4.4.2.</strong> Crates: compilation units in Rust, library or binary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/crates/lib.html"><strong aria-hidden="true">4.4.2.1.</strong> Creating a Library: --crate-type=lib</a></li><li class="chapter-item "><a href="rust_by_example_src/crates/using_lib.html"><strong aria-hidden="true">4.4.2.2.</strong> Using a Library: --extern</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/cargo.html"><strong aria-hidden="true">4.4.3.</strong> Cargo: package management tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/cargo/deps.html"><strong aria-hidden="true">4.4.3.1.</strong> Dependencies</a></li><li class="chapter-item "><a href="rust_by_example_src/cargo/conventions.html"><strong aria-hidden="true">4.4.3.2.</strong> Two Binaries Conventions</a></li><li class="chapter-item "><a href="rust_by_example_src/cargo/test.html"><strong aria-hidden="true">4.4.3.3.</strong> ✨Tests</a></li><li class="chapter-item "><a href="rust_by_example_src/cargo/build_scripts.html"><strong aria-hidden="true">4.4.3.4.</strong> Build Scripts</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.5.</strong> Rust Core: Generics, Traits and Scoping</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics.html"><strong aria-hidden="true">4.5.1.</strong> 🪐Generics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics/used_as_parameter.html"><strong aria-hidden="true">4.5.1.1.</strong> Used as Parameter</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics/gen_fn.html"><strong aria-hidden="true">4.5.1.1.1.</strong> Functions: Identify whether a generic function</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/impl.html"><strong aria-hidden="true">4.5.1.1.2.</strong> Impl Type fn: Identify whether a generic method</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/gen_trait.html"><strong aria-hidden="true">4.5.1.1.3.</strong> Impl Traits fn: Identify whether a generic method</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/generics/trait_bounds.html"><strong aria-hidden="true">4.5.1.2.</strong> Bounded by Trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics/bounds/testcase_empty.html"><strong aria-hidden="true">4.5.1.2.1.</strong> ✨Testcase: empty bounds</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/bounds/multi_trait_bounds.html"><strong aria-hidden="true">4.5.1.2.2.</strong> Multiple Trait Bounds</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/bounds/where_bounds.html"><strong aria-hidden="true">4.5.1.2.3.</strong> Where clauses bounds</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/generics/new_types.html"><strong aria-hidden="true">4.5.1.3.</strong> New Type Idiom</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/assoc_items.html"><strong aria-hidden="true">4.5.1.4.</strong> Associated items</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics/assoc_items/the_problem.html"><strong aria-hidden="true">4.5.1.4.1.</strong> ✨The Problem</a></li><li class="chapter-item "><a href="rust_by_example_src/generics/assoc_items/types.html"><strong aria-hidden="true">4.5.1.4.2.</strong> Associated types</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/generics/phantom.html"><strong aria-hidden="true">4.5.1.5.</strong> Phantom type parameters</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/generics/phantom/testcase_units.html"><strong aria-hidden="true">4.5.1.5.1.</strong> Testcase: unit clarification</a></li></ol></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/trait.html"><strong aria-hidden="true">4.5.2.</strong> 🪐Traits</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/trait/derive.html"><strong aria-hidden="true">4.5.2.1.</strong> ✨Derive Macro Traits</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/dyn.html"><strong aria-hidden="true">4.5.2.2.</strong> Returning Traits with dyn</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/ops.html"><strong aria-hidden="true">4.5.2.3.</strong> Operator Overloading</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/drop.html"><strong aria-hidden="true">4.5.2.4.</strong> Drop</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/iter.html"><strong aria-hidden="true">4.5.2.5.</strong> Iterators: Iterator Trait</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/impl_trait.html"><strong aria-hidden="true">4.5.2.6.</strong> ✨impl Trait</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/supertraits.html"><strong aria-hidden="true">4.5.2.7.</strong> Supertraits</a></li><li class="chapter-item "><a href="rust_by_example_src/trait/disambiguating.html"><strong aria-hidden="true">4.5.2.8.</strong> Fully Qualified Syntax: Disambiguating overlapping traits</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/scope.html"><strong aria-hidden="true">4.5.3.</strong> 🪐Scoping rules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/scope/raii.html"><strong aria-hidden="true">4.5.3.1.</strong> RAII</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/move.html"><strong aria-hidden="true">4.5.3.2.</strong> Ownership and moves</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/scope/move/mut.html"><strong aria-hidden="true">4.5.3.2.1.</strong> Mutability</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/move/partial_move.html"><strong aria-hidden="true">4.5.3.2.2.</strong> Partial moves</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/scope/borrow.html"><strong aria-hidden="true">4.5.3.3.</strong> Borrowing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/scope/borrow/mut.html"><strong aria-hidden="true">4.5.3.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/borrow/alias.html"><strong aria-hidden="true">4.5.3.3.2.</strong> Mutable or Immutable, Only One</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/borrow/ref.html"><strong aria-hidden="true">4.5.3.3.3.</strong> ✨The ref pattern</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime.html"><strong aria-hidden="true">4.5.3.4.</strong> Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/elision.html"><strong aria-hidden="true">4.5.3.4.1.</strong> Elision</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/explicit.html"><strong aria-hidden="true">4.5.3.4.2.</strong> ✨Explicit lifetime annotation: another Generic</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/fn_method_struct_trait.html"><strong aria-hidden="true">4.5.3.4.3.</strong> ✨Functions、methods、struct、trait</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/lifetime_bounds.html"><strong aria-hidden="true">4.5.3.4.4.</strong> Lifetime Bounds for generics</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/lifetime_coercion.html"><strong aria-hidden="true">4.5.3.4.5.</strong> Coercion</a></li><li class="chapter-item "><a href="rust_by_example_src/scope/lifetime/static_lifetime.html"><strong aria-hidden="true">4.5.3.4.6.</strong> Static</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.6.</strong> Macros: rules! and Attributes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/macros.html"><strong aria-hidden="true">4.6.1.</strong> macro_rules!</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/macros/syntax.html"><strong aria-hidden="true">4.6.1.1.</strong> Syntax</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/macros/designators.html"><strong aria-hidden="true">4.6.1.1.1.</strong> Designators</a></li><li class="chapter-item "><a href="rust_by_example_src/macros/overload.html"><strong aria-hidden="true">4.6.1.1.2.</strong> Overload</a></li><li class="chapter-item "><a href="rust_by_example_src/macros/repeat.html"><strong aria-hidden="true">4.6.1.1.3.</strong> Repeat</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/macros/dry.html"><strong aria-hidden="true">4.6.1.2.</strong> DRY (rust_by_example_src/Don't Repeat Yourself)</a></li><li class="chapter-item "><a href="rust_by_example_src/macros/dsl.html"><strong aria-hidden="true">4.6.1.3.</strong> DSL (rust_by_example_src/Domain Specific Languages)</a></li><li class="chapter-item "><a href="rust_by_example_src/macros/variadics.html"><strong aria-hidden="true">4.6.1.4.</strong> Variadics</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/attribute.html"><strong aria-hidden="true">4.6.2.</strong> 🧐 Attributes: metadata applied to some module, crate or item</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/attribute/unused.html"><strong aria-hidden="true">4.6.2.1.</strong> dead_code: disable the unused lint</a></li><li class="chapter-item "><a href="rust_by_example_src/attribute/crate.html"><strong aria-hidden="true">4.6.2.2.</strong> Crates: : crate_type and crate_name</a></li><li class="chapter-item "><a href="rust_by_example_src/attribute/cfg.html"><strong aria-hidden="true">4.6.2.3.</strong> cfg: Configuration conditional checks</a></li><li class="chapter-item "><a href="rust_by_example_src/attribute/cfg/custom.html"><strong aria-hidden="true">4.6.2.4.</strong> Custom: Custom conditionals</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.7.</strong> Std: Library types and Misc</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std.html"><strong aria-hidden="true">4.7.1.</strong> ⭐️Std library types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std/box.html"><strong aria-hidden="true">4.7.1.1.</strong> ✨Box, stack and heap</a></li><li class="chapter-item "><a href="rust_by_example_src/std/vec.html"><strong aria-hidden="true">4.7.1.2.</strong> ✨Vectors: re-sizable arrays</a></li><li class="chapter-item "><a href="rust_by_example_src/std/str.html"><strong aria-hidden="true">4.7.1.3.</strong> ✨Strings: String and &str</a></li><li class="chapter-item "><a href="rust_by_example_src/std/panic.html"><strong aria-hidden="true">4.7.1.4.</strong> panic!: Raise Exception , no Catch</a></li><li class="chapter-item "><a href="rust_by_example_src/std/option.html"><strong aria-hidden="true">4.7.1.5.</strong> Option: catching failure instead of calling panic!</a></li><li class="chapter-item "><a href="rust_by_example_src/std/result.html"><strong aria-hidden="true">4.7.1.6.</strong> Result: express why an operation failed</a></li><li class="chapter-item "><a href="rust_by_example_src/std/result/question_mark.html"><strong aria-hidden="true">4.7.1.7.</strong> ?: Chaining Results only match Ok(ok)</a></li><li class="chapter-item "><a href="rust_by_example_src/std/hash.html"><strong aria-hidden="true">4.7.1.8.</strong> HashMap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std/hash/alt_key_types.html"><strong aria-hidden="true">4.7.1.8.1.</strong> Alternate/custom key types</a></li><li class="chapter-item "><a href="rust_by_example_src/std/hash/hashset.html"><strong aria-hidden="true">4.7.1.8.2.</strong> HashSet</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/std/rc.html"><strong aria-hidden="true">4.7.1.9.</strong> Rc: for mutiple ownership, just like what python have done</a></li><li class="chapter-item "><a href="rust_by_example_src/std/arc.html"><strong aria-hidden="true">4.7.1.10.</strong> Arc: shared ownership between threads</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/std_misc.html"><strong aria-hidden="true">4.7.2.</strong> 🌌 Std misc</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std_misc/threads.html"><strong aria-hidden="true">4.7.2.1.</strong> Threads</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/threads/testcase_mapreduce.html"><strong aria-hidden="true">4.7.2.2.</strong> ✨Testcase: map-reduce</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/channels.html"><strong aria-hidden="true">4.7.2.3.</strong> Channels: Asynchronous communication between threads</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/path.html"><strong aria-hidden="true">4.7.2.4.</strong> Path</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/file.html"><strong aria-hidden="true">4.7.2.5.</strong> File I/O</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std_misc/file/open.html"><strong aria-hidden="true">4.7.2.5.1.</strong> open: read-only</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/file/create.html"><strong aria-hidden="true">4.7.2.5.2.</strong> create: write-only</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/file/read_lines.html"><strong aria-hidden="true">4.7.2.5.3.</strong> read lines: returns an iterator</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/process.html"><strong aria-hidden="true">4.7.2.6.</strong> Child processes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std_misc/process/pipe.html"><strong aria-hidden="true">4.7.2.6.1.</strong> Pipes: interaction with the underlying process</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/process/wait.html"><strong aria-hidden="true">4.7.2.6.2.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/fs.html"><strong aria-hidden="true">4.7.2.7.</strong> std::fs: Filesystem Operations</a></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/arg.html"><strong aria-hidden="true">4.7.2.8.</strong> Program arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/std_misc/arg/matching.html"><strong aria-hidden="true">4.7.2.8.1.</strong> Match to Argument parsing</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/std_misc/ffi.html"><strong aria-hidden="true">4.7.2.9.</strong> FFI: Foreign Function Interface</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.8.</strong> Misc: Testing, Unsafe, Compatibility and Meta</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/testing.html"><strong aria-hidden="true">4.8.1.</strong> Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/testing/unit_testing.html"><strong aria-hidden="true">4.8.1.1.</strong> ✨Unit testing for panic: #[cfg(test)], #[test], #[should_panic], #[ignore]</a></li><li class="chapter-item "><a href="rust_by_example_src/meta/doc.html"><strong aria-hidden="true">4.8.1.2.</strong> Documentation: cargo doc</a></li><li class="chapter-item "><a href="rust_by_example_src/testing/doc_testing.html"><strong aria-hidden="true">4.8.1.3.</strong> ⭐️Documentation testing</a></li><li class="chapter-item "><a href="rust_by_example_src/testing/integration_testing.html"><strong aria-hidden="true">4.8.1.4.</strong> Integration testing</a></li><li class="chapter-item "><a href="rust_by_example_src/testing/dev_dependencies.html"><strong aria-hidden="true">4.8.1.5.</strong> Dev-dependencies</a></li></ol></li><li class="chapter-item "><a href="rust_by_example_src/unsafe.html"><strong aria-hidden="true">4.8.2.</strong> Unsafe Operations</a></li><li class="chapter-item "><a href="rust_by_example_src/unsafe/asm.html"><strong aria-hidden="true">4.8.3.</strong> 🤔️asm!: Inline assembly in Unsafe</a></li><li class="chapter-item "><a href="rust_by_example_src/compatibility.html"><strong aria-hidden="true">4.8.4.</strong> Compatibility</a></li><li class="chapter-item "><a href="rust_by_example_src/compatibility/raw_identifiers.html"><strong aria-hidden="true">4.8.5.</strong> Raw identifiers: r#</a></li><li class="chapter-item "><a href="rust_by_example_src/meta.html"><strong aria-hidden="true">4.8.6.</strong> Meta</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="rust_by_example_src/meta/playground.html"><strong aria-hidden="true">4.8.6.1.</strong> Playground</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="PyO3_guides/src/index.html"><strong aria-hidden="true">5.</strong> The PyO3 Guide</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/getting_started.html"><strong aria-hidden="true">5.1.</strong> Getting started</a></li><li class="chapter-item "><a href="PyO3_guides/src/module.html"><strong aria-hidden="true">5.2.</strong> Python modules</a></li><li class="chapter-item "><a href="PyO3_guides/src/function.html"><strong aria-hidden="true">5.3.</strong> Python functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/function/signature.html"><strong aria-hidden="true">5.3.1.</strong> Function signatures</a></li><li class="chapter-item "><a href="PyO3_guides/src/function/error_handling.html"><strong aria-hidden="true">5.3.2.</strong> Error handling</a></li></ol></li><li class="chapter-item "><a href="PyO3_guides/src/class.html"><strong aria-hidden="true">5.4.</strong> Python classes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/class/protocols.html"><strong aria-hidden="true">5.4.1.</strong> Class customizations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/class/object.html"><strong aria-hidden="true">5.4.1.1.</strong> Basic object customization</a></li><li class="chapter-item "><a href="PyO3_guides/src/class/numeric.html"><strong aria-hidden="true">5.4.1.2.</strong> Emulating numeric types</a></li><li class="chapter-item "><a href="PyO3_guides/src/class/call.html"><strong aria-hidden="true">5.4.1.3.</strong> Emulating callable objects</a></li></ol></li></ol></li><li class="chapter-item "><a href="PyO3_guides/src/conversions.html"><strong aria-hidden="true">5.5.</strong> Type conversions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/conversions/tables.html"><strong aria-hidden="true">5.5.1.</strong> Mapping of Rust types to Python types</a></li><li class="chapter-item "><a href="PyO3_guides/src/conversions/traits.html"><strong aria-hidden="true">5.5.2.</strong> Conversion traits</a></li></ol></li><li class="chapter-item "><a href="PyO3_guides/src/exception.html"><strong aria-hidden="true">5.6.</strong> Python exceptions</a></li><li class="chapter-item "><a href="PyO3_guides/src/python_from_rust.html"><strong aria-hidden="true">5.7.</strong> Calling Python from Rust</a></li><li class="chapter-item "><a href="PyO3_guides/src/types.html"><strong aria-hidden="true">5.8.</strong> GIL, mutability and object types</a></li><li class="chapter-item "><a href="PyO3_guides/src/parallelism.html"><strong aria-hidden="true">5.9.</strong> Parallelism</a></li><li class="chapter-item "><a href="PyO3_guides/src/debugging.html"><strong aria-hidden="true">5.10.</strong> Debugging</a></li><li class="chapter-item "><a href="PyO3_guides/src/features.html"><strong aria-hidden="true">5.11.</strong> Features reference</a></li><li class="chapter-item "><a href="PyO3_guides/src/memory.html"><strong aria-hidden="true">5.12.</strong> Memory management</a></li><li class="chapter-item "><a href="PyO3_guides/src/advanced.html"><strong aria-hidden="true">5.13.</strong> Advanced topics</a></li><li class="chapter-item "><a href="PyO3_guides/src/building_and_distribution.html"><strong aria-hidden="true">5.14.</strong> ⭐️Building and distribution</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/building_and_distribution/multiple_python_versions.html"><strong aria-hidden="true">5.14.1.</strong> Supporting multiple Python versions</a></li></ol></li><li class="chapter-item "><a href="PyO3_guides/src/ecosystem.html"><strong aria-hidden="true">5.15.</strong> Useful crates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PyO3_guides/src/ecosystem/logging.html"><strong aria-hidden="true">5.15.1.</strong> Logging</a></li><li class="chapter-item "><a href="PyO3_guides/src/ecosystem/async-await.html"><strong aria-hidden="true">5.15.2.</strong> Using async and await</a></li></ol></li><li class="chapter-item "><a href="PyO3_guides/src/faq.html"><strong aria-hidden="true">5.16.</strong> FAQ and troubleshooting</a></li><li class="chapter-item "><a href="PyO3_guides/src/migration.html"><strong aria-hidden="true">5.17.</strong> Appendix A: Migration guide</a></li><li class="chapter-item "><a href="PyO3_guides/src/rust_cpython.html"><strong aria-hidden="true">5.18.</strong> Appendix B: PyO3 and rust-cpython</a></li><li class="chapter-item "><a href="PyO3_guides/src/trait_bounds.html"><strong aria-hidden="true">5.19.</strong> Appendix C: Trait bounds</a></li><li class="chapter-item "><a href="PyO3_guides/src/python_typing_hints.html"><strong aria-hidden="true">5.20.</strong> Appendix D: Python typing hints</a></li><li class="chapter-item "><a href="PyO3_guides/src/changelog.html"><strong aria-hidden="true">5.21.</strong> CHANGELOG</a></li><li class="chapter-item "><a href="PyO3_guides/src/contributing.html"><strong aria-hidden="true">5.22.</strong> Contributing</a></li></ol></li><li class="chapter-item expanded "><a href="checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">The Rust Programming Language</h1>
            <h4 class="menu-bar"><a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍，知行合一, 方见真我</a> -- 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/rust-lang/book" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-github"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="advanced-traits"><a class="header" href="#advanced-traits">Advanced Traits</a></h1>
<!--ts-->
<ul>
<li><a href="#advanced-traits">Advanced Traits</a>
<ul>
<li><a href="#associated-types-specifying-placeholder-types-in-trait-definitions">Associated Types: Specifying Placeholder Types in Trait Definitions</a></li>
<li><a href="#difference-between-associated-types-and-generics">Difference between associated types and generics</a></li>
<li><a href="#default-generic-type-parameters-and-operator-overloading">Default Generic Type Parameters and Operator Overloading</a></li>
<li><a href="#fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name">Fully Qualified Syntax for Disambiguation: Calling Methods with the Same Name</a></li>
<li><a href="#using-supertraits-to-require-one-traits-functionality-within-another-trait">Using Supertraits to Require One Trait’s Functionality Within Another Trait</a></li>
<li><a href="#using-the-newtype-pattern-to-implement-external-traits-on-external-types">Using the Newtype Pattern to Implement External Traits on External Types</a></li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Fri Dec 30 09:10:25 UTC 2022 -->
<!--te-->
<p>We first covered traits in the <a href="ch10-02-traits.html#traits-defining-shared-behavior">“Traits: Defining Shared
Behavior”</a><!-- ignore --> section of Chapter
10, but we didn’t discuss the more advanced details. Now that you know more
about Rust, we can get into the nitty-gritty.</p>
<h2 id="associated-types-specifying-placeholder-types-in-trait-definitions"><a class="header" href="#associated-types-specifying-placeholder-types-in-trait-definitions">Associated Types: Specifying Placeholder Types in Trait Definitions</a></h2>
<blockquote>
<p><em>Associated types</em> connect a <em>type placeholder</em> with a trait such that the trait
method definitions can use these placeholder types in their signatures. </p>
</blockquote>
<ul>
<li>The implementor of a trait will specify the concrete type to be used instead of the
placeholder type for the particular implementation. </li>
<li>That way, we can define a
trait that uses some types without needing to know exactly what those types are
until the trait is implemented.</li>
</ul>
<p>We’ve described most of the advanced features in this chapter as being rarely
needed. </p>
<blockquote>
<p>Associated types are somewhere in the middle: they’re used more rarely
than features explained in the rest of the book but more commonly than many of
the other features discussed in this chapter.</p>
</blockquote>
<ul>
<li>One example of a trait with an associated type is the <code>Iterator</code> trait that the
standard library provides. </li>
<li>The associated type is named <code>Item</code> and stands in
for the type of the values the type implementing the <code>Iterator</code> trait is
iterating over.</li>
</ul>
<p>The definition of the <code>Iterator</code> trait is as shown in Listing 19-12.</p>
<details id="admonition-listing-19-12-the-definition-of-the-iterator-trait-that-has-an-associated-type-item" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-12: The definition of the <em>Iterator</em> trait that has an associated type <em>Item</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-12-the-definition-of-the-iterator-trait-that-has-an-associated-type-item"></a></p>
</summary>
<div>
<pre><code class="language-rust noplayground">pub trait Iterator {
    type Item;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;
}
</code></pre>
</div>
</details>
<ul>
<li>The type <code>Item</code> is a placeholder</li>
<li>and the <code>next</code> method’s definition shows that
it will return values of type <code>Option&lt;Self::Item&gt;</code>. </li>
<li>Implementors of the <code>Iterator</code> trait will specify the concrete type for <code>Item</code>, and the <code>next</code>
method will return an <code>Option</code> containing a value of that concrete type.</li>
</ul>
<h2 id="difference-between-associated-types-and-generics"><a class="header" href="#difference-between-associated-types-and-generics">Difference between associated types and generics</a></h2>
<blockquote>
<p>Associated types might seem like a similar concept to generics, in that the
latter allow us to define a function without specifying what types it can
handle.</p>
</blockquote>
<details id="admonition-to-examine-the-difference-between-the-two-concepts-well-look-at-an-implementation-of-the-iterator-trait-on-a-type-named-counter-that-specifies-the-item-type-is-u32" class="admonition info">
<summary class="admonition-title">
<p>To examine the difference between the two concepts, we’ll look at an implementation of the <em>Iterator</em> trait on a type named <em>Counter</em> that specifies the <em>Item</em> type is <em>u32</em>:</p>
<p><a class="admonition-anchor-link" href="#admonition-to-examine-the-difference-between-the-two-concepts-well-look-at-an-implementation-of-the-iterator-trait-on-a-type-named-counter-that-specifies-the-item-type-is-u32"></a></p>
</summary>
<div>
<pre><code class="language-rust ignore"><span class="boring">struct Counter {
</span><span class="boring">    count: u32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Counter {
</span><span class="boring">    fn new() -&gt; Counter {
</span><span class="boring">        Counter { count: 0 }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl Iterator for Counter {
    type Item = u32;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt; {
        // --snip--
<span class="boring">        if self.count &lt; 5 {
</span><span class="boring">            self.count += 1;
</span><span class="boring">            Some(self.count)
</span><span class="boring">        } else {
</span><span class="boring">            None
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span></code></pre>
</div>
</details>
<p>This syntax seems comparable to that of generics.</p>
<blockquote>
<p>So why not just define the
<code>Iterator</code> trait with generics, as shown in Listing 19-13?</p>
</blockquote>
<details id="admonition-listing-19-13-a-hypothetical-definition-of-the-iterator-trait-using-generics" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-13: A hypothetical definition of the <em>Iterator</em> trait using generics</p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-13-a-hypothetical-definition-of-the-iterator-trait-using-generics"></a></p>
</summary>
<div>
<pre><code class="language-rust noplayground">pub trait Iterator&lt;T&gt; {
    fn next(&amp;mut self) -&gt; Option&lt;T&gt;;
}
</code></pre>
</div>
</details>
<p>The difference is that:</p>
<ol>
<li>
<p>when using generics, as in Listing 19-13, we must
annotate the types in each implementation; because we can also implement
<code>Iterator&lt;String&gt; for Counter</code> or any other type, we could have multiple
implementations of <code>Iterator</code> for <code>Counter</code>. </p>
</li>
<li>
<p>In other words, when a trait has a
generic parameter, it can be implemented for a type multiple times, changing
the concrete types of the generic type parameters each time. </p>
</li>
<li>
<p>When we use the
<code>next</code> method on <code>Counter</code>, we would have to provide type annotations to
indicate which implementation of <code>Iterator</code> we want to use.</p>
</li>
<li>
<p>With associated types, we don’t need to annotate types because we can’t
implement a trait on a type multiple times. </p>
</li>
</ol>
<blockquote>
<p>In Listing 19-12 with the
definition that uses associated types, we can only choose what the type of
<code>Item</code> will be once, because there can only be one <code>impl Iterator for Counter</code>.
We don’t have to specify that we want an iterator of <code>u32</code> values everywhere
that we call <code>next</code> on <code>Counter</code>.</p>
</blockquote>
<ol start="5">
<li>Associated types also become part of the trait’s contract: </li>
</ol>
<ul>
<li>implementors of the
trait must provide a type to stand in for the associated type placeholder.</li>
<li>Associated types often have a name that describes how the type will be used</li>
<li>and documenting the associated type in the API documentation is good practice.</li>
</ul>
<h2 id="default-generic-type-parameters-and-operator-overloading"><a class="header" href="#default-generic-type-parameters-and-operator-overloading">Default Generic Type Parameters and Operator Overloading</a></h2>
<p>When we use generic type parameters, we can specify a default concrete type for
the generic type. </p>
<p>This eliminates the need for implementors of the trait to
specify a concrete type if the default type works. </p>
<blockquote>
<p>You specify a default type
when declaring a generic type with the <code>&lt;PlaceholderType=ConcreteType&gt;</code> syntax.</p>
</blockquote>
<p>A great example of a situation where this technique is useful is with <em>operator
overloading</em>, in which you customize the behavior of an operator (such as <code>+</code>)
in particular situations.</p>
<p>Rust doesn’t allow you to create your own operators or overload arbitrary
operators. </p>
<blockquote>
<p>But you can overload the operations and corresponding traits listed
in <code>std::ops</code> by implementing the traits associated with the operator. </p>
</blockquote>
<p>For
example, in Listing 19-14 we overload the <code>+</code> operator to add two <code>Point</code>
instances together. We do this by implementing the <code>Add</code> trait on a <code>Point</code>
struct:</p>
<details id="admonition-listing-19-14-implementing-the-add-trait-to-overload-the--operator-for-point-instances" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-14: Implementing the <em>Add</em> trait to overload the <em>+</em> operator for <em>Point</em> instances</p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-14-implementing-the-add-trait-to-overload-the--operator-for-point-instances"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust">use std::ops::Add;

#[derive(Debug, Copy, Clone, PartialEq)]
struct Point {
    x: i32,
    y: i32,
}

impl Add for Point {
    type Output = Point;

    fn add(self, other: Point) -&gt; Point {
        Point {
            x: self.x + other.x,
            y: self.y + other.y,
        }
    }
}

fn main() {
    assert_eq!(
        Point { x: 1, y: 0 } + Point { x: 2, y: 3 },
        Point { x: 3, y: 3 }
    );
}
</code></pre></pre>
</div>
</details>
<ul>
<li>The <code>add</code> method adds the <code>x</code> values of two <code>Point</code> instances and the <code>y</code>
values of two <code>Point</code> instances to create a new <code>Point</code>. </li>
<li>The <code>Add</code> trait has an
associated type named <code>Output</code> that determines the type returned from the <code>add</code> method.</li>
</ul>
<details id="admonition-the-default-generic-type-in-this-code-is-within-the-add-trait-here-is-its-definition" class="admonition info">
<summary class="admonition-title">
<p>The default generic type in this code is within the <em>Add</em> trait. Here is its definition:</p>
<p><a class="admonition-anchor-link" href="#admonition-the-default-generic-type-in-this-code-is-within-the-add-trait-here-is-its-definition"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait Add&lt;Rhs=Self&gt; {
    type Output;

    fn add(self, rhs: Rhs) -&gt; Self::Output;
}
<span class="boring">}
</span></code></pre></pre>
</div>
</details>
<p>This code should look generally familiar: </p>
<ul>
<li>a trait with one method and an
associated type. </li>
<li>The new part is <code>Rhs=Self</code>: this syntax is called <em>default
type parameters</em>. </li>
</ul>
<blockquote>
<p>The <code>Rhs</code> generic type parameter (short for “right hand
side”) defines the type of the <code>rhs</code> parameter in the <code>add</code> method. </p>
</blockquote>
<ul>
<li>
<p>If we don’t
specify a concrete type for <code>Rhs</code> when we implement the <code>Add</code> trait, the type
of <code>Rhs</code> will default to <code>Self</code>, which will be the type we’re implementing
<code>Add</code> on.</p>
</li>
<li>
<p>When we implemented <code>Add</code> for <code>Point</code>, we used the default for <code>Rhs</code> because we
wanted to add two <code>Point</code> instances. </p>
</li>
</ul>
<p>Let’s look at an example of implementing
the <code>Add</code> trait where we want to customize the <code>Rhs</code> type rather than using the
default: </p>
<ol>
<li>We have two structs, <code>Millimeters</code> and <code>Meters</code>, holding values in different
units. </li>
</ol>
<blockquote>
<p>This thin wrapping of an existing type in another struct is known as the
<em>newtype pattern</em>, which we describe in more detail in the <a href="ch19-03-advanced-traits.html#using-the-newtype-pattern-to-implement-external-traits-on-external-types">“Using the Newtype
Pattern to Implement External Traits on External Types”</a><!-- ignore
 > --> section. </p>
</blockquote>
<ol start="2">
<li>
<p>We want to add values in millimeters to values in meters and have
the implementation of <code>Add</code> do the conversion correctly. </p>
</li>
<li>
<p>We can implement <code>Add</code>
for <code>Millimeters</code> with <code>Meters</code> as the <code>Rhs</code>, as shown in Listing 19-15.</p>
</li>
</ol>
<details id="admonition-listing-19-15-implementing-the-add-trait-on-millimeters-to-add-millimeters-to-meters" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-15: Implementing the <em>Add</em> trait on <em>Millimeters</em> to add <em>Millimeters</em> to <em>Meters</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-15-implementing-the-add-trait-on-millimeters-to-add-millimeters-to-meters"></a></p>
</summary>
<div>
<pre><code class="language-rust noplayground">use std::ops::Add;

struct Millimeters(u32);
struct Meters(u32);

impl Add&lt;Meters&gt; for Millimeters {
    type Output = Millimeters;

    fn add(self, other: Meters) -&gt; Millimeters {
        Millimeters(self.0 + (other.0 * 1000))
    }
}
</code></pre>
</div>
</details>
<ol start="4">
<li>
<p>To add <code>Millimeters</code> and <code>Meters</code>, we specify <code>impl Add&lt;Meters&gt;</code> to set the
value of the <code>Rhs</code> type parameter instead of using the default of <code>Self</code>.</p>
</li>
<li>
<p>You’ll use default type parameters in two main ways:</p>
</li>
</ol>
<ul>
<li>To extend a type without breaking existing code</li>
<li>To allow customization in specific cases most users won’t need</li>
</ul>
<blockquote>
<p>The standard library’s <code>Add</code> trait is an example of the second purpose:</p>
</blockquote>
<ul>
<li>usually, you’ll add two like types, but the <code>Add</code> trait provides the ability to
customize beyond that. </li>
<li>Using a default type parameter in the <code>Add</code> trait
definition means you don’t have to specify the extra parameter most of the
time. </li>
</ul>
<blockquote>
<p>In other words, a bit of implementation boilerplate isn’t needed, making
it easier to use the trait.</p>
</blockquote>
<p>The first purpose is similar to the second but in reverse: </p>
<ul>
<li>if you want to add a
type parameter to an existing trait, you can give it a default to allow
extension of the functionality of the trait without breaking the existing
implementation code.</li>
</ul>
<h2 id="fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name"><a class="header" href="#fully-qualified-syntax-for-disambiguation-calling-methods-with-the-same-name">Fully Qualified Syntax for Disambiguation: Calling Methods with the Same Name</a></h2>
<p>Nothing in Rust prevents a trait from having a method with the same name as
another trait’s method, nor does Rust prevent you from implementing both traits
on one type. </p>
<p>It’s also possible to implement a method directly on the type with
the same name as methods from traits.</p>
<blockquote>
<p>When calling methods with the same name, you’ll need to tell Rust which one you
want to use: </p>
</blockquote>
<ol>
<li>
<p>Consider the code in Listing 19-16 where we’ve defined two traits,
<code>Pilot</code> and <code>Wizard</code>, that both have a method called <code>fly</code>. </p>
</li>
<li>
<p>We then implement
both traits on a type <code>Human</code> that already has a method named <code>fly</code> implemented
on it. </p>
</li>
<li>
<p>Each <code>fly</code> method does something different.</p>
</li>
</ol>
<details id="admonition-listing-19-16-two-traits-are-defined-to-have-a-fly-method-and-are-implemented-on-the-human-type-and-a-fly-method-is-implemented-on-human-directly" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-16: Two traits are defined to have a <em>fly</em> method and are implemented on the <em>Human</em> type, and a <em>fly</em> method is implemented on <em>Human</em> directly</p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-16-two-traits-are-defined-to-have-a-fly-method-and-are-implemented-on-the-human-type-and-a-fly-method-is-implemented-on-human-directly"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust">trait Pilot {
    fn fly(&amp;self);
}

trait Wizard {
    fn fly(&amp;self);
}

struct Human;

impl Pilot for Human {
    fn fly(&amp;self) {
        println!(&quot;This is your captain speaking.&quot;);
    }
}

impl Wizard for Human {
    fn fly(&amp;self) {
        println!(&quot;Up!&quot;);
    }
}

impl Human {
    fn fly(&amp;self) {
        println!(&quot;*waving arms furiously*&quot;);
    }
}
<span class="boring">
</span><span class="boring">fn main() {}
</span></code></pre></pre>
</div>
</details>
<ol start="4">
<li>When we call <code>fly</code> on an instance of <code>Human</code>, the compiler defaults to calling
the method that is directly implemented on the type, as shown in Listing 19-17.</li>
</ol>
<details id="admonition-listing-19-17-calling-fly-on-an-instance-of-human" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-17: Calling <em>fly</em> on an instance of <em>Human</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-17-calling-fly-on-an-instance-of-human"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">trait Pilot {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">trait Wizard {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Human;
</span><span class="boring">
</span><span class="boring">impl Pilot for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;This is your captain speaking.&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Wizard for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;Up!&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;*waving arms furiously*&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let person = Human;
    person.fly();
}
</code></pre></pre>
</div>
</details>
<ol start="5">
<li>Running this code will print <code>*waving arms furiously*</code>, showing that Rust
called the <code>fly</code> method implemented on <code>Human</code> directly.</li>
</ol>
<blockquote>
<p>To call the <code>fly</code> methods from either the <code>Pilot</code> trait or the <code>Wizard</code> trait,
we need to use more explicit syntax to specify which <code>fly</code> method we mean.</p>
</blockquote>
<p>Listing 19-18 demonstrates this syntax.</p>
<details id="admonition-listing-19-18-specifying-which-traits-fly-method-we-want-to-call" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-18: Specifying which trait’s <em>fly</em> method we want to call</p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-18-specifying-which-traits-fly-method-we-want-to-call"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">trait Pilot {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">trait Wizard {
</span><span class="boring">    fn fly(&amp;self);
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Human;
</span><span class="boring">
</span><span class="boring">impl Pilot for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;This is your captain speaking.&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Wizard for Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;Up!&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Human {
</span><span class="boring">    fn fly(&amp;self) {
</span><span class="boring">        println!(&quot;*waving arms furiously*&quot;);
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    let person = Human;
    Pilot::fly(&amp;person);
    Wizard::fly(&amp;person);
    person.fly();
}
</code></pre></pre>
</div>
</details>
<ul>
<li>
<p>Specifying the trait name before the method name clarifies to Rust which
implementation of <code>fly</code> we want to call. </p>
</li>
<li>
<p>We could also write
<code>Human::fly(&amp;person)</code>, which is equivalent to the <code>person.fly()</code> that we used
in Listing 19-18, but this is a bit longer to write if we don’t need to
disambiguate.</p>
</li>
</ul>
<details id="admonition-running-this-code-prints-the-following" class="admonition info">
<summary class="admonition-title">
<p>Running this code prints the following:</p>
<p><a class="admonition-anchor-link" href="#admonition-running-this-code-prints-the-following"></a></p>
</summary>
<div>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.46s
     Running `target/debug/traits-example`
This is your captain speaking.
Up!
*waving arms furiously*
</code></pre>
</div>
</details>
<p>Because the <code>fly</code> method takes a <code>self</code> parameter, if we had two <em>types</em> that
both implement one <em>trait</em>, Rust could figure out which implementation of a
trait to use based on the type of <code>self</code>.</p>
<blockquote>
<p>However, <em>associated functions</em> that are not methods don’t have a <code>self</code>
parameter. When there are multiple types or traits that define non-method
functions with the same function name, Rust doesn’t always know which type you
mean unless you use <em>fully qualified syntax</em>. </p>
</blockquote>
<p>For example, in Listing 19-19 we
create a trait for an animal shelter that wants to name all baby dogs <em>Spot</em>.</p>
<p>We make an <code>Animal</code> trait with an associated non-method function <code>baby_name</code>.</p>
<p>The <code>Animal</code> trait is implemented for the struct <code>Dog</code>, on which we also
provide an associated non-method function <code>baby_name</code> directly.</p>
<details id="admonition-listing-19-19-a-trait-with-an-associated-function-and-a-type-with-an-associated-function-of-the-same-name-that-also-implements-the-trait" class="admonition info">
<summary class="admonition-title">
<blockquote>
<p>Listing 19-19: A trait with an associated function and a type with an associated function of the same name that also implements the trait</p>
</blockquote>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-19-a-trait-with-an-associated-function-and-a-type-with-an-associated-function-of-the-same-name-that-also-implements-the-trait"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust">trait Animal {
    fn baby_name() -&gt; String;
}

struct Dog;

impl Dog {
    fn baby_name() -&gt; String {
        String::from(&quot;Spot&quot;)
    }
}

impl Animal for Dog {
    fn baby_name() -&gt; String {
        String::from(&quot;puppy&quot;)
    }
}

fn main() {
    println!(&quot;A baby dog is called a {}&quot;, Dog::baby_name());
}
</code></pre></pre>
</div>
</details>
<ul>
<li>
<p>We implement the code for naming all puppies Spot in the <code>baby_name</code> associated
function that is defined on <code>Dog</code>.</p>
</li>
<li>
<p>The <code>Dog</code> type also implements the trait
<code>Animal</code>, which describes characteristics that all animals have. </p>
</li>
<li>
<p>Baby dogs are
called puppies, and that is expressed in the implementation of the <code>Animal</code>
trait on <code>Dog</code> in the <code>baby_name</code> function associated with the <code>Animal</code> trait.</p>
</li>
</ul>
<details id="admonition-in-main-we-call-the-dogbaby_name-function-which-calls-the-associated-function-defined-on-dog-directly-this-code-prints-the-following" class="admonition info">
<summary class="admonition-title">
<p>In <em>main</em>, we call the <em>Dog::baby_name</em> function, which calls the associated function defined on <em>Dog</em> directly. This code prints the following:</p>
<p><a class="admonition-anchor-link" href="#admonition-in-main-we-call-the-dogbaby_name-function-which-calls-the-associated-function-defined-on-dog-directly-this-code-prints-the-following"></a></p>
</summary>
<div>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.54s
     Running `target/debug/traits-example`
A baby dog is called a Spot
</code></pre>
</div>
</details>
<p>This output isn’t what we wanted. </p>
<p>We want to call the <code>baby_name</code> function that
is part of the <code>Animal</code> trait that we implemented on <code>Dog</code> so the code prints
<code>A baby dog is called a puppy</code>. </p>
<p>The technique of specifying the trait name that
we used in Listing 19-18 doesn’t help here; if we change <code>main</code> to the code in
Listing 19-20, we’ll get a compilation error.</p>
<details id="admonition-listing-19-20-attempting-to-call-the-baby_name-function-from-the-animal-trait-but-rust-doesnt-know-which-implementation-to-use" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-20: Attempting to call the <em>baby_name</em> function from the <em>Animal</em> trait, but Rust doesn’t know which implementation to use</p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-20-attempting-to-call-the-baby_name-function-from-the-animal-trait-but-rust-doesnt-know-which-implementation-to-use"></a></p>
</summary>
<div>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">trait Animal {
</span><span class="boring">    fn baby_name() -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Dog;
</span><span class="boring">
</span><span class="boring">impl Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from(&quot;Spot&quot;)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Animal for Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from(&quot;puppy&quot;)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    println!(&quot;A baby dog is called a {}&quot;, Animal::baby_name());
}
</code></pre>
</div>
</details>
<blockquote>
<p>Because <code>Animal::baby_name</code> doesn’t have a <code>self</code> parameter, and there could be
other types that implement the <code>Animal</code> trait, Rust can’t figure out which
implementation of <code>Animal::baby_name</code> we want.</p>
</blockquote>
<details id="admonition-well-get-this-compiler-error" class="admonition info">
<summary class="admonition-title">
<p>We’ll get this compiler error:</p>
<p><a class="admonition-anchor-link" href="#admonition-well-get-this-compiler-error"></a></p>
</summary>
<div>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
error[E0283]: type annotations needed
  --&gt; src/main.rs:20:43
   |
20 |     println!(&quot;A baby dog is called a {}&quot;, Animal::baby_name());
   |                                           ^^^^^^^^^^^^^^^^^ cannot infer type
   |
   = note: cannot satisfy `_: Animal`

For more information about this error, try `rustc --explain E0283`.
error: could not compile `traits-example` due to previous error
</code></pre>
</div>
</details>
<blockquote>
<p>To disambiguate and tell Rust that we want to use the implementation of
<code>Animal</code> for <code>Dog</code> as opposed to the implementation of <code>Animal</code> for some other
type, we need to use fully qualified syntax.</p>
</blockquote>
<p>Listing 19-21 demonstrates how to
use fully qualified syntax.</p>
<details id="admonition-listing-19-21-using-fully-qualified-syntax-to-specify-that-we-want-to-call-the-baby_name-function-from-the-animal-trait-as-implemented-on-dog" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-21: Using fully qualified syntax to specify that we want to call the <em>baby_name</em> function from the <em>Animal</em> trait as implemented on <em>Dog</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-21-using-fully-qualified-syntax-to-specify-that-we-want-to-call-the-baby_name-function-from-the-animal-trait-as-implemented-on-dog"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">trait Animal {
</span><span class="boring">    fn baby_name() -&gt; String;
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Dog;
</span><span class="boring">
</span><span class="boring">impl Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from(&quot;Spot&quot;)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl Animal for Dog {
</span><span class="boring">    fn baby_name() -&gt; String {
</span><span class="boring">        String::from(&quot;puppy&quot;)
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn main() {
    println!(&quot;A baby dog is called a {}&quot;, &lt;Dog as Animal&gt;::baby_name());
}
</code></pre></pre>
</div>
</details>
<ul>
<li>We’re providing Rust with a type annotation within the angle brackets, </li>
<li>which
indicates we want to call the <code>baby_name</code> method from the <code>Animal</code> trait as
implemented on <code>Dog</code> </li>
<li>by saying that we want to treat the <code>Dog</code> type as an
<code>Animal</code> for this function call.</li>
</ul>
<details id="admonition-this-code-will-now-print-what-we-want" class="admonition info">
<summary class="admonition-title">
<p>This code will now print what we want:</p>
<p><a class="admonition-anchor-link" href="#admonition-this-code-will-now-print-what-we-want"></a></p>
</summary>
<div>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.48s
     Running `target/debug/traits-example`
A baby dog is called a puppy
</code></pre>
</div>
</details>
<blockquote>
<p>In general, fully qualified syntax is defined as follows:</p>
</blockquote>
<pre><code class="language-rust ignore">&lt;Type as Trait&gt;::function(receiver_if_method, next_arg, ...);
</code></pre>
<p>For associated functions that aren’t methods, there would not be a <code>receiver</code>:</p>
<ul>
<li>there would only be the list of other arguments.</li>
<li>You could use fully qualified
syntax everywhere that you call functions or methods. </li>
<li>However, you’re allowed
to omit any part of this syntax that Rust can figure out from other information
in the program. </li>
</ul>
<blockquote>
<p>You only need to use this more verbose syntax in cases where
there are multiple implementations that use the same name and Rust needs help
to identify which implementation you want to call.</p>
</blockquote>
<h2 id="using-supertraits-to-require-one-traits-functionality-within-another-trait"><a class="header" href="#using-supertraits-to-require-one-traits-functionality-within-another-trait">Using Supertraits to Require One Trait’s Functionality Within Another Trait</a></h2>
<p>Sometimes, you might write a trait definition that depends on another trait:</p>
<ol>
<li>for a type to implement the first trait, you want to require that type to also
implement the second trait. </li>
<li>You would do this so that your trait definition can
make use of the associated items of the second trait. </li>
</ol>
<blockquote>
<p>The trait your trait
definition is relying on is called a <em>supertrait</em> of your trait.</p>
</blockquote>
<p>For example, let’s say we want to make an <code>OutlinePrint</code> trait with an
<code>outline_print</code> method that will print a given value formatted so that it’s
framed in asterisks. </p>
<blockquote>
<p>That is, given a <code>Point</code> struct that implements the
standard library trait <code>Display</code> to result in <code>(x, y)</code>, when we call
<code>outline_print</code> on a <code>Point</code> instance that has <code>1</code> for <code>x</code> and <code>3</code> for <code>y</code>, it
should print the following:</p>
</blockquote>
<pre><code class="language-text">**********
*        *
* (1, 3) *
*        *
**********
</code></pre>
<p>In the implementation of the <code>outline_print</code> method, we want to use the
<code>Display</code> trait’s functionality. </p>
<blockquote>
<p>Therefore, we need to specify that the
<code>OutlinePrint</code> trait will work only for types that also implement <code>Display</code> and
provide the functionality that <code>OutlinePrint</code> needs. </p>
</blockquote>
<p>We can do that in the
trait definition by specifying <code>OutlinePrint: Display</code>. </p>
<blockquote>
<p>This technique is
similar to adding a trait bound to the trait.</p>
</blockquote>
<p>Listing 19-22 shows an
implementation of the <code>OutlinePrint</code> trait.</p>
<details id="admonition-listing-19-22-implementing-the-outlineprint-trait-that-requires-the-functionality-from-display" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-22: Implementing the <em>OutlinePrint</em> trait that requires the functionality from <em>Display</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-22-implementing-the-outlineprint-trait-that-requires-the-functionality-from-display"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust">use std::fmt;

trait OutlinePrint: fmt::Display {
    fn outline_print(&amp;self) {
        let output = self.to_string();
        let len = output.len();
        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
        println!(&quot;* {} *&quot;, output);
        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
    }
}
<span class="boring">
</span><span class="boring">fn main() {}
</span></code></pre></pre>
</div>
</details>
<p>Because we’ve specified that <code>OutlinePrint</code> requires the <code>Display</code> trait, we
can use the <code>to_string</code> function that is automatically implemented for any type
that implements <code>Display</code>. </p>
<blockquote>
<p>If we tried to use <code>to_string</code> without adding a
colon and specifying the <code>Display</code> trait after the trait name, we’d get an
error saying that no method named <code>to_string</code> was found for the type <code>&amp;Self</code> in
the current scope.</p>
</blockquote>
<details id="admonition-lets-see-what-happens-when-we-try-to-implement-outlineprint-on-a-type-that-doesnt-implement-display-such-as-the-point-struct" class="admonition info">
<summary class="admonition-title">
<p>Let’s see what happens when we try to implement <em>OutlinePrint</em> on a type that doesn’t implement <em>Display</em>, such as the <em>Point</em> struct:</p>
<p><a class="admonition-anchor-link" href="#admonition-lets-see-what-happens-when-we-try-to-implement-outlineprint-on-a-type-that-doesnt-implement-display-such-as-the-point-struct"></a></p>
</summary>
<div>
<pre><code class="language-rust ignore does_not_compile"><span class="boring">use std::fmt;
</span><span class="boring">
</span><span class="boring">trait OutlinePrint: fmt::Display {
</span><span class="boring">    fn outline_print(&amp;self) {
</span><span class="boring">        let output = self.to_string();
</span><span class="boring">        let len = output.len();
</span><span class="boring">        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
</span><span class="boring">        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
</span><span class="boring">        println!(&quot;* {} *&quot;, output);
</span><span class="boring">        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
</span><span class="boring">        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>struct Point {
    x: i32,
    y: i32,
}

impl OutlinePrint for Point {}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let p = Point { x: 1, y: 3 };
</span><span class="boring">    p.outline_print();
</span><span class="boring">}
</span></code></pre>
</div>
</details>
<details id="admonition-we-get-an-error-saying-that-display-is-required-but-not-implemented" class="admonition info">
<summary class="admonition-title">
<p>We get an error saying that <em>Display</em> is required but not implemented:</p>
<p><a class="admonition-anchor-link" href="#admonition-we-get-an-error-saying-that-display-is-required-but-not-implemented"></a></p>
</summary>
<div>
<pre><code class="language-console">$ cargo run
   Compiling traits-example v0.1.0 (file:///projects/traits-example)
error[E0277]: `Point` doesn't implement `std::fmt::Display`
  --&gt; src/main.rs:20:6
   |
20 | impl OutlinePrint for Point {}
   |      ^^^^^^^^^^^^ `Point` cannot be formatted with the default formatter
   |
   = help: the trait `std::fmt::Display` is not implemented for `Point`
   = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead
note: required by a bound in `OutlinePrint`
  --&gt; src/main.rs:3:21
   |
3  | trait OutlinePrint: fmt::Display {
   |                     ^^^^^^^^^^^^ required by this bound in `OutlinePrint`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `traits-example` due to previous error
</code></pre>
</div>
</details>
<details id="admonition-to-fix-this-we-implement-display-on-point-and-satisfy-the-constraint-that-outlineprint-requires-like-so" class="admonition info">
<summary class="admonition-title">
<p>To fix this, we implement <em>Display</em> on <em>Point</em> and satisfy the constraint that <em>OutlinePrint</em> requires, like so:</p>
<p><a class="admonition-anchor-link" href="#admonition-to-fix-this-we-implement-display-on-point-and-satisfy-the-constraint-that-outlineprint-requires-like-so"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust"><span class="boring">trait OutlinePrint: fmt::Display {
</span><span class="boring">    fn outline_print(&amp;self) {
</span><span class="boring">        let output = self.to_string();
</span><span class="boring">        let len = output.len();
</span><span class="boring">        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
</span><span class="boring">        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
</span><span class="boring">        println!(&quot;* {} *&quot;, output);
</span><span class="boring">        println!(&quot;*{}*&quot;, &quot; &quot;.repeat(len + 2));
</span><span class="boring">        println!(&quot;{}&quot;, &quot;*&quot;.repeat(len + 4));
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">struct Point {
</span><span class="boring">    x: i32,
</span><span class="boring">    y: i32,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl OutlinePrint for Point {}
</span><span class="boring">
</span>use std::fmt;

impl fmt::Display for Point {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        write!(f, &quot;({}, {})&quot;, self.x, self.y)
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let p = Point { x: 1, y: 3 };
</span><span class="boring">    p.outline_print();
</span><span class="boring">}
</span></code></pre></pre>
</div>
</details>
<p>Then implementing the <code>OutlinePrint</code> trait on <code>Point</code> will compile
successfully, and we can call <code>outline_print</code> on a <code>Point</code> instance to display
it within an outline of asterisks.</p>
<h2 id="using-the-newtype-pattern-to-implement-external-traits-on-external-types"><a class="header" href="#using-the-newtype-pattern-to-implement-external-traits-on-external-types">Using the Newtype Pattern to Implement External Traits on External Types</a></h2>
<p>In Chapter 10 in the <a href="ch10-02-traits.html#implementing-a-trait-on-a-type">“Implementing a Trait on a
Type”</a><!-- ignore --> section, we mentioned the
<em>orphan rule</em> that states we’re only allowed to implement a trait on a type if
either the trait or the type are local to our crate. </p>
<blockquote>
<p>It’s possible to get
around this restriction using the <em>newtype pattern</em>, which involves creating a
new type in a tuple struct. (We covered tuple structs in the <a href="ch05-01-defining-structs.html#using-tuple-structs-without-named-fields-to-create-different-types">“Using Tuple
Structs without Named Fields to Create Different Types”</a><!--
 > ignore --> section of Chapter 5.): </p>
</blockquote>
<ul>
<li>The tuple struct will have one field and be a
thin wrapper around the type we want to implement a trait for. </li>
<li>Then the wrapper
type is local to our crate, and we can implement the trait on the wrapper.</li>
</ul>
<blockquote>
<p><em>Newtype</em> is a term that originates from the Haskell programming language.</p>
</blockquote>
<p>There is no runtime performance penalty for using this pattern, and the wrapper
type is elided at compile time.</p>
<p>As an example:</p>
<ol>
<li>
<p>let’s say we want to implement <code>Display</code> on <code>Vec&lt;T&gt;</code>, which the
orphan rule prevents us from doing directly because the <code>Display</code> trait and the
<code>Vec&lt;T&gt;</code> type are defined outside our crate.</p>
</li>
<li>
<p>We can make a <code>Wrapper</code> struct
that holds an instance of <code>Vec&lt;T&gt;</code>;</p>
</li>
<li>
<p>then we can implement <code>Display</code> on
<code>Wrapper</code> and use the <code>Vec&lt;T&gt;</code> value, as shown in Listing 19-23.</p>
</li>
</ol>
<details id="admonition-listing-19-23-creating-a-wrapper-type-around-vec-to-implement-display" class="admonition info">
<summary class="admonition-title">
<p>Listing 19-23: Creating a <em>Wrapper</em> type around <em>Vec<String></em> to implement <em>Display</em></p>
<p><a class="admonition-anchor-link" href="#admonition-listing-19-23-creating-a-wrapper-type-around-vec-to-implement-display"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust">use std::fmt;

struct Wrapper(Vec&lt;String&gt;);

impl fmt::Display for Wrapper {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        write!(f, &quot;[{}]&quot;, self.0.join(&quot;, &quot;))
    }
}

fn main() {
    let w = Wrapper(vec![String::from(&quot;hello&quot;), String::from(&quot;world&quot;)]);
    println!(&quot;w = {}&quot;, w);
}
</code></pre></pre>
</div>
</details>
<ul>
<li>
<p>The implementation of <code>Display</code> uses <code>self.0</code> to access the inner <code>Vec&lt;T&gt;</code></p>
</li>
<li>
<p>because <code>Wrapper</code> is a tuple struct and <code>Vec&lt;T&gt;</code> is the item at index 0 in the
tuple. </p>
</li>
<li>
<p>Then we can use the functionality of the <code>Display</code> type on <code>Wrapper</code>.</p>
</li>
</ul>
<blockquote>
<p>The downside of using this technique is that <code>Wrapper</code> is a new type, so it
doesn’t have the methods of the value it’s holding. </p>
</blockquote>
<ul>
<li>We would have to implement
all the methods of <code>Vec&lt;T&gt;</code> directly on <code>Wrapper</code> such that the methods
delegate to <code>self.0</code>, which would allow us to treat <code>Wrapper</code> exactly like a
<code>Vec&lt;T&gt;</code>.</li>
</ul>
<blockquote>
<p>If we wanted the new type to have every method the inner type has,
implementing the <code>Deref</code> trait (discussed in Chapter 15 in the <a href="ch15-02-deref.html#treating-smart-pointers-like-regular-references-with-the-deref-trait">“Treating Smart
Pointers Like Regular References with the <code>Deref</code>
Trait”</a><!-- ignore --> section) on the <code>Wrapper</code> to return
the inner type would be a solution.</p>
</blockquote>
<p>If we don’t want the <code>Wrapper</code> type to have
all the methods of the inner type—for example, to restrict the <code>Wrapper</code> type’s
behavior—we would have to implement just the methods we do want manually.</p>
<blockquote>
<p>This newtype pattern is also useful even when traits are not involved.</p>
</blockquote>
<p>Let’s
switch focus and look at some advanced ways to interact with Rust’s type system.</p>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="ch19-01-unsafe-rust.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="ch19-04-advanced-types.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="ch19-01-unsafe-rust.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="ch19-04-advanced-types.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>



    <script type="text/javascript">
        window.playground_line_numbers = true;
    </script>

    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="assets/ferris/ferris.js"></script>
    <script type="text/javascript" src="assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="assets/smart-anchor.js"></script>
    <script type="text/javascript" src="assets/pagetoc/sidebar.js"></script>

</body>
</html>
