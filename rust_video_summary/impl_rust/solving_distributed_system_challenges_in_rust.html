<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Solving Distributed System Challenges - The Rust Programming Language</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../md-favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../assets/ferris/ferris.css">
        <link rel="stylesheet" href="../../theme/2018-edition.css">
        <link rel="stylesheet" href="../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../assets/css/mdbook-admonish.css">

</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('navy')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../not_involved_resources.html"><strong aria-hidden="true">1.</strong> Not Involved Resources</a></li><li class="chapter-item expanded "><a href="../../overviews.html"><strong aria-hidden="true">2.</strong> Overviews</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../overviews/rbe_radial_tree_embed.html"><strong aria-hidden="true">2.1.</strong> Rust By Examples</a></li></ol></li><li class="chapter-item expanded "><a href="../../title-page.html"><strong aria-hidden="true">3.</strong> Rust Topics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../cheat_sheets/cheat_sheets.html"><strong aria-hidden="true">3.1.</strong> Cheat Sheets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../cheat_sheets/rust_language_cheat_sheet.html"><strong aria-hidden="true">3.1.1.</strong> Rust Language Cheat Sheet</a></li><li class="chapter-item "><a href="../../cheat_sheets/quick_ref_me_rust.html"><strong aria-hidden="true">3.1.2.</strong> Quick Ref Me Rust</a></li><li class="chapter-item "><a href="../../cheat_sheets/phaiax_rust_cheet_sheet.html"><strong aria-hidden="true">3.1.3.</strong> Phaiax Rust Cheet Sheet</a></li></ol></li><li class="chapter-item "><a href="../../chatgpt_rust/chatgpt_rust_prompts.html"><strong aria-hidden="true">3.2.</strong> chatGPT Rust Q&A</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../chatgpt_rust/rust_grammar_experience_pitfalls.html"><strong aria-hidden="true">3.2.1.</strong> Experience & Pitfall</a></li></ol></li><li class="chapter-item expanded "><a href="../../rust_video_summary/rust_video_summary.html"><strong aria-hidden="true">3.3.</strong> Rust Video Summary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/rust_crash_course_rustlang.html"><strong aria-hidden="true">3.3.1.</strong> Rust Crash Course</a></li><li class="chapter-item "><a href="../../rust_video_summary/stop_duplicating_your_code.html"><strong aria-hidden="true">3.3.2.</strong> Generics, Traits, Lifetimes: Stop Duplicating Your Code</a></li><li class="chapter-item expanded "><a href="../../rust_video_summary/impl_rust/impl_rust.html"><strong aria-hidden="true">3.3.3.</strong> Impl Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/impl_rust/from_cargo_to_crates_io_and_back_again.html"><strong aria-hidden="true">3.3.3.1.</strong> (3/7h)From cargo to crates.io and back again</a></li><li class="chapter-item "><a href="../../rust_video_summary/impl_rust/implementing_and_optimizing_a_wordle_solver_in_rust.html"><strong aria-hidden="true">3.3.3.2.</strong> (3/6h)Implementing and optimizing a wordle solver in rust</a></li><li class="chapter-item expanded "><a href="../../rust_video_summary/impl_rust/solving_distributed_system_challenges_in_rust.html" class="active"><strong aria-hidden="true">3.3.3.3.</strong> Solving Distributed System Challenges</a></li><li class="chapter-item "><a href="../../rust_video_summary/impl_rust/setting_up_ci_and_property_testing_for_a_rust_crate.html"><strong aria-hidden="true">3.3.3.4.</strong> Setting up CI and property testing for a Rust Crate</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/code_to_the_moon/code_to_the_moon.html"><strong aria-hidden="true">3.3.4.</strong> Code to the Moon</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/learn_rust_programming.html"><strong aria-hidden="true">3.3.5.</strong> Learn Rust Programming</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/ownership_and_borrow_checker.html"><strong aria-hidden="true">3.3.5.1.</strong> Ownership and borrow checker</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/what_is_ownership_in_rust.html"><strong aria-hidden="true">3.3.5.1.1.</strong> What is Ownership in Rust?</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/what_is_rust_borrow_checker_and_why_is_it_useful.html"><strong aria-hidden="true">3.3.5.1.2.</strong> What is Rust Borrow-checker and why is it useful</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/types.html"><strong aria-hidden="true">3.3.5.2.</strong> Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/what_is_the_difference_between_string_and_str_in_rust.html"><strong aria-hidden="true">3.3.5.2.1.</strong> What is the difference between String and &str in rust</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/why_enums_are_your_superpower.html"><strong aria-hidden="true">3.3.5.2.2.</strong> Why Enums are your superpower</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/implementing_the_trie_data_structure_in_rust.html"><strong aria-hidden="true">3.3.5.2.3.</strong> Implementing The Trie Data Structure In Rust</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/happy_little_fractals_coding_the_mandelbrot_set_in_rust.html"><strong aria-hidden="true">3.3.5.2.4.</strong> Happy little fractals coding the Mandelbrot set in Rust</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/rust_polymorphism.html"><strong aria-hidden="true">3.3.5.3.</strong> Rust Polymorphism</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/rust_polymorphism_generics_and_trait_objects_explained.html"><strong aria-hidden="true">3.3.5.3.1.</strong> Rust Polymorphism: Generics and Trait Objects explained</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/introducing_traits_in_rust_what_they_are_and_how_to_use_them.html"><strong aria-hidden="true">3.3.5.3.2.</strong> Introducing traits in rust: what they are and how to use them</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/rust_programming_for_the_object_oriented_developer.html"><strong aria-hidden="true">3.3.5.3.3.</strong> Rust Programming for The Object-Oriented Developer</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/error_and_test.html"><strong aria-hidden="true">3.3.5.4.</strong> Error & Test</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/all_about_error_handling_in_the_rust_programming_language.html"><strong aria-hidden="true">3.3.5.4.1.</strong> All About Error Handling in the Rust Programming Language</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/unit_testing_basics.html"><strong aria-hidden="true">3.3.5.4.2.</strong> Unit Testing Basics</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/iterate.html"><strong aria-hidden="true">3.3.5.5.</strong> Iterate</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/introducing_iterators_in_rust.html"><strong aria-hidden="true">3.3.5.5.1.</strong> Introducing iterators in rust</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/how_to_implement_the_intoiterator_trait.html"><strong aria-hidden="true">3.3.5.5.2.</strong> How to implement the intoiterator trait</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/implementing_iterators_in_rust_creating_a_random_number_generator.html"><strong aria-hidden="true">3.3.5.5.3.</strong> Implementing Iterators in rust & creating a random number generator</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/qa_and_code_review.html"><strong aria-hidden="true">3.3.5.6.</strong> QA & Code Review</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/answers_to_stackoverflow_top_rust_programming_questions_explained.html"><strong aria-hidden="true">3.3.5.6.1.</strong> Answers to StackOverflow Top Rust Programming Questions Explained</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/conducting_a_code_review_of_the_jwtinfo_crate.html"><strong aria-hidden="true">3.3.5.6.2.</strong> Conducting a code review of the jwtinfo crate</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/rust_programming_qa.html"><strong aria-hidden="true">3.3.5.6.3.</strong> Rust Programming Q&A</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/considering_rust.html"><strong aria-hidden="true">3.3.6.</strong> Considering Rust</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/crust_of_rust.html"><strong aria-hidden="true">3.3.7.</strong> Crust Of Rust Series</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/async_await.html"><strong aria-hidden="true">3.3.7.1.</strong> Async/Await</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/atomics_and_memory_ordering.html"><strong aria-hidden="true">3.3.7.2.</strong> Atomics and Memory Ordering</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/channels.html"><strong aria-hidden="true">3.3.7.3.</strong> Channels</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/declarative_macros.html"><strong aria-hidden="true">3.3.7.4.</strong> Declarative Macros</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/dispatch_and_fat_pointers.html"><strong aria-hidden="true">3.3.7.5.</strong> Dispatch and Fat Pointers</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/functions_closures_and_their_traits.html"><strong aria-hidden="true">3.3.7.6.</strong> Functions, Closures and their traits</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/iterators.html"><strong aria-hidden="true">3.3.7.7.</strong> Iterators</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/lifetime_annotations.html"><strong aria-hidden="true">3.3.7.8.</strong> Lifetime Annotations</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/smart_pointers_and_interior_mutability.html"><strong aria-hidden="true">3.3.7.9.</strong> Smart Pointers And Interior Mutability</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/sorting_algorithms.html"><strong aria-hidden="true">3.3.7.10.</strong> Sorting Algorithms</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/subtyping_and_variance.html"><strong aria-hidden="true">3.3.7.11.</strong> Subtyping and Variance</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/the_drop_check.html"><strong aria-hidden="true">3.3.7.12.</strong> The Drop Check</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/implementing_hazard_pointers.html"><strong aria-hidden="true">3.3.8.</strong> Implementing Hazard Pointers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part1.html"><strong aria-hidden="true">3.3.8.1.</strong> Part 1</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part2.html"><strong aria-hidden="true">3.3.8.2.</strong> Part 2</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part3.html"><strong aria-hidden="true">3.3.8.3.</strong> Part 3</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part4.html"><strong aria-hidden="true">3.3.8.4.</strong> Part 4</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/open_source_streams.html"><strong aria-hidden="true">3.3.9.</strong> Open-Source streams</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/rust_open_source_contributions_stream.html"><strong aria-hidden="true">3.3.9.1.</strong> Rust Open Source Contributions Stream</a></li><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/rust_tools_and_std_future.html"><strong aria-hidden="true">3.3.9.2.</strong> Rust Toos and std::future</a></li><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/day_in_the_life_of_open_source_maintenance_2022_06_19.html"><strong aria-hidden="true">3.3.9.3.</strong> Day in the life of Open Source Maintenance 2022-06-19</a></li><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/day_in_the_life_of_open_source_maintenance_2022_10_08.html"><strong aria-hidden="true">3.3.9.4.</strong> Day in the life of Open Source Maintenance 2022-10-08</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.</strong> Associated Items</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../topics/at_gat.html"><strong aria-hidden="true">3.4.1.</strong> Associated type, Generic associate types</a></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.2.</strong> Associated Types</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/types.html"><strong aria-hidden="true">3.4.2.1.</strong> Associated types examples</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.3.</strong> Generic Associated Types</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.4.</strong> Associated Functions & Methods</div></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../title-page.html"><strong aria-hidden="true">4.</strong> The Rust Programming Language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../foreword.html"><strong aria-hidden="true">4.1.</strong> Foreword</a></li><li class="chapter-item "><a href="../../ch00-00-introduction.html"><strong aria-hidden="true">4.2.</strong> Introduction</a></li><li class="chapter-item "><a href="../../ch01-00-getting-started.html"><strong aria-hidden="true">4.3.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch01-01-installation.html"><strong aria-hidden="true">4.3.1.</strong> Installation</a></li><li class="chapter-item "><a href="../../ch01-02-hello-world.html"><strong aria-hidden="true">4.3.2.</strong> Hello, World!</a></li><li class="chapter-item "><a href="../../ch01-03-hello-cargo.html"><strong aria-hidden="true">4.3.3.</strong> Hello, Cargo!</a></li><li class="chapter-item "><a href="../../ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">4.3.4.</strong> Programming a Guessing Game</a></li><li class="chapter-item "><a href="../../ch03-00-common-programming-concepts.html"><strong aria-hidden="true">4.3.5.</strong> Common Programming Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch03-01-variables-and-mutability.html"><strong aria-hidden="true">4.3.5.1.</strong> ⚠️Variables and Mutability</a></li><li class="chapter-item "><a href="../../ch03-02-data-types.html"><strong aria-hidden="true">4.3.5.2.</strong> Data Types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/expression.html"><strong aria-hidden="true">4.3.5.3.</strong> RBE(Rust by Examples): Expressions and Statements</a></li><li class="chapter-item "><a href="../../ch03-03-how-functions-work.html"><strong aria-hidden="true">4.3.5.4.</strong> ✨Functions Basic: Statements, Expressions, Last Return, Early Return</a></li><li class="chapter-item "><a href="../../ch03-04-comments.html"><strong aria-hidden="true">4.3.5.5.</strong> Comments</a></li><li class="chapter-item "><a href="../../ch03-05-control-flow.html"><strong aria-hidden="true">4.3.5.6.</strong> Control Flow</a></li></ol></li><li class="chapter-item "><a href="../../ch04-00-understanding-ownership.html"><strong aria-hidden="true">4.3.6.</strong> Understanding Ownership</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch04-01-what-is-ownership.html"><strong aria-hidden="true">4.3.6.1.</strong> What is Ownership?</a></li><li class="chapter-item "><a href="../../ch04-02-references-and-borrowing.html"><strong aria-hidden="true">4.3.6.2.</strong> References and Borrowing</a></li><li class="chapter-item "><a href="../../ch04-03-slices.html"><strong aria-hidden="true">4.3.6.3.</strong> The Slice Type</a></li></ol></li><li class="chapter-item "><a href="../../ch05-00-structs.html"><strong aria-hidden="true">4.3.7.</strong> Using Structs to Structure Related Data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch05-01-defining-structs.html"><strong aria-hidden="true">4.3.7.1.</strong> Defining and Instantiating Structs</a></li><li class="chapter-item "><a href="../../ch05-02-example-structs.html"><strong aria-hidden="true">4.3.7.2.</strong> An Example Program Using Structs</a></li><li class="chapter-item "><a href="../../ch05-03-method-syntax.html"><strong aria-hidden="true">4.3.7.3.</strong> ✨Method Syntax</a></li></ol></li><li class="chapter-item "><a href="../../ch06-00-enums.html"><strong aria-hidden="true">4.3.8.</strong> Enums and Pattern Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch06-01-defining-an-enum.html"><strong aria-hidden="true">4.3.8.1.</strong> Defining an Enum</a></li><li class="chapter-item "><a href="../../ch06-02-match.html"><strong aria-hidden="true">4.3.8.2.</strong> The match Control Flow Construct</a></li><li class="chapter-item "><a href="../../ch06-03-if-let.html"><strong aria-hidden="true">4.3.8.3.</strong> Concise Control Flow with if let</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.4.</strong> Basic Rust Literacy</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch07-00-managing-growing-projects-with-packages-crates-and-modules.html"><strong aria-hidden="true">4.4.1.</strong> Managing Growing Projects with Packages, Crates, and Modules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch07-01-packages-and-crates.html"><strong aria-hidden="true">4.4.1.1.</strong> Packages and Crates</a></li><li class="chapter-item "><a href="../../ch07-02-defining-modules-to-control-scope-and-privacy.html"><strong aria-hidden="true">4.4.1.2.</strong> Defining Modules to Control Scope and Privacy</a></li><li class="chapter-item "><a href="../../ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html"><strong aria-hidden="true">4.4.1.3.</strong> Paths for Referring to an Item in the Module Tree</a></li><li class="chapter-item "><a href="../../ch07-04-bringing-paths-into-scope-with-the-use-keyword.html"><strong aria-hidden="true">4.4.1.4.</strong> Bringing Paths Into Scope with the use Keyword</a></li><li class="chapter-item "><a href="../../ch07-05-separating-modules-into-different-files.html"><strong aria-hidden="true">4.4.1.5.</strong> Separating Modules into Different Files</a></li></ol></li><li class="chapter-item "><a href="../../ch08-00-common-collections.html"><strong aria-hidden="true">4.4.2.</strong> Common Collections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch08-01-vectors.html"><strong aria-hidden="true">4.4.2.1.</strong> Vectors: Storing Lists of The Same Type of Values</a></li><li class="chapter-item "><a href="../../ch08-02-strings.html"><strong aria-hidden="true">4.4.2.2.</strong> Strings: Storing UTF-8 Encoded Text</a></li><li class="chapter-item "><a href="../../ch08-03-hash-maps.html"><strong aria-hidden="true">4.4.2.3.</strong> HasnMap&lt;K, V&gt;: Storing Keys with Associated Values</a></li></ol></li><li class="chapter-item "><a href="../../ch09-00-error-handling.html"><strong aria-hidden="true">4.4.3.</strong> Error Handling</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">4.4.3.1.</strong> Unrecoverable Errors with panic!</a></li><li class="chapter-item "><a href="../../ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">4.4.3.2.</strong> ⭐️Recoverable Errors with Result</a></li><li class="chapter-item "><a href="../../ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">4.4.3.3.</strong> To panic! or Not to panic!</a></li></ol></li><li class="chapter-item "><a href="../../ch10-00-generics.html"><strong aria-hidden="true">4.4.4.</strong> Generic Types, Traits, and Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch10-01-syntax.html"><strong aria-hidden="true">4.4.4.1.</strong> ✨Generic Data Types</a></li><li class="chapter-item "><a href="../../ch10-02-traits.html"><strong aria-hidden="true">4.4.4.2.</strong> 🪐Traits: Defining Shared Behavior</a></li><li class="chapter-item "><a href="../../ch10-03-lifetime-syntax.html"><strong aria-hidden="true">4.4.4.3.</strong> ⭐️Validating References with Lifetimes</a></li></ol></li><li class="chapter-item "><a href="../../ch11-00-testing.html"><strong aria-hidden="true">4.4.5.</strong> Writing Automated Tests</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch11-01-writing-tests.html"><strong aria-hidden="true">4.4.5.1.</strong> How to Write Tests</a></li><li class="chapter-item "><a href="../../ch11-02-running-tests.html"><strong aria-hidden="true">4.4.5.2.</strong> Controlling How Tests Are Run</a></li><li class="chapter-item "><a href="../../ch11-03-test-organization.html"><strong aria-hidden="true">4.4.5.3.</strong> Test Organization</a></li></ol></li><li class="chapter-item "><a href="../../ch12-00-an-io-project.html"><strong aria-hidden="true">4.4.6.</strong> An I/O Project: Building a Command Line Program</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">4.4.6.1.</strong> Accepting Command Line Arguments</a></li><li class="chapter-item "><a href="../../ch12-02-reading-a-file.html"><strong aria-hidden="true">4.4.6.2.</strong> Reading a File</a></li><li class="chapter-item "><a href="../../ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">4.4.6.3.</strong> Refactoring to Improve Modularity and Error Handling</a></li><li class="chapter-item "><a href="../../ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">4.4.6.4.</strong> Developing the Library’s Functionality with Test Driven Development</a></li><li class="chapter-item "><a href="../../ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">4.4.6.5.</strong> Working with Environment Variables</a></li><li class="chapter-item "><a href="../../ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">4.4.6.6.</strong> Writing Error Messages to Standard Error Instead of Standard Output</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../thinking_in_rust.html"><strong aria-hidden="true">4.5.</strong> 🤔Thinking in Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch13-00-functional-features.html"><strong aria-hidden="true">4.5.1.</strong> Functional Language Features: Iterators and Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch13-01-closures.html"><strong aria-hidden="true">4.5.1.1.</strong> Closures: Anonymous Functions that Capture Their Environment</a></li><li class="chapter-item "><a href="../../ch13-02-iterators.html"><strong aria-hidden="true">4.5.1.2.</strong> Processing a Series of Items with Iterators</a></li><li class="chapter-item "><a href="../../ch13-03-improving-our-io-project.html"><strong aria-hidden="true">4.5.1.3.</strong> Improving Our I/O Project</a></li><li class="chapter-item "><a href="../../ch13-04-performance.html"><strong aria-hidden="true">4.5.1.4.</strong> Comparing Performance: Loops vs. Iterators</a></li></ol></li><li class="chapter-item "><a href="../../ch14-00-more-about-cargo.html"><strong aria-hidden="true">4.5.2.</strong> More about Cargo and Crates.io</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch14-01-release-profiles.html"><strong aria-hidden="true">4.5.2.1.</strong> Customizing Builds with Release Profiles</a></li><li class="chapter-item "><a href="../../ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">4.5.2.2.</strong> Publishing a Crate to Crates.io</a></li><li class="chapter-item "><a href="../../ch14-03-cargo-workspaces.html"><strong aria-hidden="true">4.5.2.3.</strong> Cargo Workspaces</a></li><li class="chapter-item "><a href="../../ch14-04-installing-binaries.html"><strong aria-hidden="true">4.5.2.4.</strong> Installing Binaries from Crates.io with cargo install</a></li><li class="chapter-item "><a href="../../ch14-05-extending-cargo.html"><strong aria-hidden="true">4.5.2.5.</strong> Extending Cargo with Custom Commands</a></li></ol></li><li class="chapter-item "><a href="../../ch15-00-smart-pointers.html"><strong aria-hidden="true">4.5.3.</strong> ✨Smart Pointers(2+3): (Deref、Drop) + (Box/heap、Rc、RefCell/Reference Cycle）</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../smart_pointers_deref_drop.html"><strong aria-hidden="true">4.5.3.1.</strong> Two Typical Traits: Deref & Drop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-02-deref.html"><strong aria-hidden="true">4.5.3.1.1.</strong> Deref(* operator): Treating Smart Pointers Like Regular References with the Deref Trait</a></li><li class="chapter-item "><a href="../../ch15-03-drop.html"><strong aria-hidden="true">4.5.3.1.2.</strong> Drop: Running Code on Cleanup with the Drop Trait</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.5.3.2.</strong> Three main types</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-01-box.html"><strong aria-hidden="true">4.5.3.2.1.</strong> Heap: Using Box&lt;T&gt; to Point to Data on the Heap</a></li><li class="chapter-item "><a href="../../rc_refcell.html"><strong aria-hidden="true">4.5.3.2.2.</strong> References Tracking Pointer Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-04-rc.html"><strong aria-hidden="true">4.5.3.2.2.1.</strong> Rc&lt;T&gt;(Reference Counting): single-threaded scenarios, immutable references of multiple owners, the Reference Counted Smart Pointer</a></li><li class="chapter-item "><a href="../../ch15-05-interior-mutability.html"><strong aria-hidden="true">4.5.3.2.2.2.</strong> RefCell&lt;T&gt;(reference counting cell): single-threaded scenarios, runtime borrow checking, the Interior Mutability Pattern</a></li><li class="chapter-item "><a href="../../ch15-06-reference-cycles.html"><strong aria-hidden="true">4.5.3.2.2.3.</strong> 🌟Reference Cycles Can Leak Memory: Mainly from Incorrect Usage of Rc&lt;T&gt; and RefCell&lt;T&gt;</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../ch16-00-concurrency.html"><strong aria-hidden="true">4.5.4.</strong> Fearless Concurrency</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch16-01-threads.html"><strong aria-hidden="true">4.5.4.1.</strong> Using Threads to Run Code Simultaneously</a></li><li class="chapter-item "><a href="../../ch16-02-message-passing.html"><strong aria-hidden="true">4.5.4.2.</strong> Using Message Passing to Transfer Data Between Threads</a></li><li class="chapter-item "><a href="../../ch16-03-shared-state.html"><strong aria-hidden="true">4.5.4.3.</strong> Shared-State Concurrency</a></li><li class="chapter-item "><a href="../../ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">4.5.4.4.</strong> Extensible Concurrency with the Sync and Send Traits</a></li></ol></li><li class="chapter-item "><a href="../../ch17-00-oop.html"><strong aria-hidden="true">4.5.5.</strong> Object Oriented Programming Features of Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch17-01-what-is-oo.html"><strong aria-hidden="true">4.5.5.1.</strong> Characteristics of Object-Oriented Languages</a></li><li class="chapter-item "><a href="../../ch17-02-trait-objects.html"><strong aria-hidden="true">4.5.5.2.</strong> 🌛️Using Trait Objects That Allow for Values of Different Types</a></li><li class="chapter-item "><a href="../../ch17-03-oo-design-patterns.html"><strong aria-hidden="true">4.5.5.3.</strong> Implementing an Object-Oriented Design Pattern</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.6.</strong> Advanced Topics</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch18-00-patterns.html"><strong aria-hidden="true">4.6.1.</strong> Patterns and Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch18-01-all-the-places-for-patterns.html"><strong aria-hidden="true">4.6.1.1.</strong> All the Places Patterns Can Be Used</a></li><li class="chapter-item "><a href="../../ch18-02-refutability.html"><strong aria-hidden="true">4.6.1.2.</strong> Refutability: Whether a Pattern Might Fail to Match</a></li><li class="chapter-item "><a href="../../ch18-03-pattern-syntax.html"><strong aria-hidden="true">4.6.1.3.</strong> ⭐️Pattern Syntax</a></li></ol></li><li class="chapter-item "><a href="../../ch19-00-advanced-features.html"><strong aria-hidden="true">4.6.2.</strong> Advanced Features</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch19-01-unsafe-rust.html"><strong aria-hidden="true">4.6.2.1.</strong> Unsafe Rust</a></li><li class="chapter-item "><a href="../../ch19-03-advanced-traits.html"><strong aria-hidden="true">4.6.2.2.</strong> ⭐️Advanced Traits</a></li><li class="chapter-item "><a href="../../ch19-04-advanced-types.html"><strong aria-hidden="true">4.6.2.3.</strong> ✨Advanced Types</a></li><li class="chapter-item "><a href="../../ch19-05-advanced-functions-and-closures.html"><strong aria-hidden="true">4.6.2.4.</strong> 📦Advanced Functions and Closures</a></li><li class="chapter-item "><a href="../../ch19-06-macros.html"><strong aria-hidden="true">4.6.2.5.</strong> Macros</a></li></ol></li><li class="chapter-item "><a href="../../ch20-00-final-project-a-web-server.html"><strong aria-hidden="true">4.6.3.</strong> Final Project: Building a Multithreaded Web Server</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch20-01-single-threaded.html"><strong aria-hidden="true">4.6.3.1.</strong> Building a Single-Threaded Web Server</a></li><li class="chapter-item "><a href="../../ch20-02-multithreaded.html"><strong aria-hidden="true">4.6.3.2.</strong> Turning Our Single-Threaded Server into a Multithreaded Server</a></li><li class="chapter-item "><a href="../../ch20-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">4.6.3.3.</strong> Graceful Shutdown and Cleanup</a></li></ol></li><li class="chapter-item "><a href="../../appendix-00.html"><strong aria-hidden="true">4.6.4.</strong> Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../appendix-01-keywords.html"><strong aria-hidden="true">4.6.4.1.</strong> A - Keywords</a></li><li class="chapter-item "><a href="../../appendix-02-operators.html"><strong aria-hidden="true">4.6.4.2.</strong> B - Operators and Symbols</a></li><li class="chapter-item "><a href="../../appendix-03-derivable-traits.html"><strong aria-hidden="true">4.6.4.3.</strong> ✨️C - Derivable Traits</a></li><li class="chapter-item "><a href="../../appendix-04-useful-development-tools.html"><strong aria-hidden="true">4.6.4.4.</strong> D - Useful Development Tools</a></li><li class="chapter-item "><a href="../../appendix-05-editions.html"><strong aria-hidden="true">4.6.4.5.</strong> E - Editions</a></li><li class="chapter-item "><a href="../../appendix-06-translation.html"><strong aria-hidden="true">4.6.4.6.</strong> F - Translations of the Book</a></li><li class="chapter-item "><a href="../../appendix-07-nightly-rust.html"><strong aria-hidden="true">4.6.4.7.</strong> G - How Rust is Made and “Nightly Rust”</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../rust_by_example_src/index.html"><strong aria-hidden="true">5.</strong> Rust By Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello.html"><strong aria-hidden="true">5.1.</strong> Hello World</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/comment.html"><strong aria-hidden="true">5.1.1.</strong> Comments</a></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print.html"><strong aria-hidden="true">5.1.2.</strong> Formatted print</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_debug.html"><strong aria-hidden="true">5.1.2.1.</strong> Debug</a></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_display.html"><strong aria-hidden="true">5.1.2.2.</strong> Display</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_display/testcase_list.html"><strong aria-hidden="true">5.1.2.2.1.</strong> Testcase: List</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/fmt.html"><strong aria-hidden="true">5.1.2.3.</strong> Formatting</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.2.</strong> Types: Primitives, custom Types, Bindings and Change/Define/Advanced Conversion</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/primitives.html"><strong aria-hidden="true">5.2.1.</strong> Primitives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/primitives/literals.html"><strong aria-hidden="true">5.2.1.1.</strong> Literals and operators</a></li><li class="chapter-item "><a href="../../rust_by_example_src/primitives/tuples.html"><strong aria-hidden="true">5.2.1.2.</strong> Tuples: a collection of values of different types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/primitives/array.html"><strong aria-hidden="true">5.2.1.3.</strong> Arrays and Slices: a collection of objects of the same type T</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types.html"><strong aria-hidden="true">5.2.2.</strong> Custom Types: struct and enum</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/structs.html"><strong aria-hidden="true">5.2.2.1.</strong> Structures: Tuple, C structs and Unit structs</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum.html"><strong aria-hidden="true">5.2.2.2.</strong> ✨Enums: and Type alias</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/enum_use.html"><strong aria-hidden="true">5.2.2.2.1.</strong> use</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/c_like.html"><strong aria-hidden="true">5.2.2.2.2.</strong> C-like</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/testcase_linked_list.html"><strong aria-hidden="true">5.2.2.2.3.</strong> Testcase: linked-list</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/constants.html"><strong aria-hidden="true">5.2.2.3.</strong> constants: const and static</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings.html"><strong aria-hidden="true">5.2.3.</strong> Variable Bindings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/mut.html"><strong aria-hidden="true">5.2.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/scope.html"><strong aria-hidden="true">5.2.3.2.</strong> Scope ({}) and Shadowing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/declare.html"><strong aria-hidden="true">5.2.3.3.</strong> Declare first</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/freeze.html"><strong aria-hidden="true">5.2.3.4.</strong> Freezing</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/types.html"><strong aria-hidden="true">5.2.4.</strong> 🚶Basic Conversion: Change or Define Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/types/cast.html"><strong aria-hidden="true">5.2.4.1.</strong> as: Casting using as keyword</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/literals.html"><strong aria-hidden="true">5.2.4.2.</strong> Literals</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/inference.html"><strong aria-hidden="true">5.2.4.3.</strong> Inference</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/alias.html"><strong aria-hidden="true">5.2.4.4.</strong> ✨Type Aliasing: give a new name to an existing type</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion.html"><strong aria-hidden="true">5.2.5.</strong> 💃Advanced Conversion: From/Into trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/conversion/from_into.html"><strong aria-hidden="true">5.2.5.1.</strong> From and Into</a></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion/try_from_try_into.html"><strong aria-hidden="true">5.2.5.2.</strong> TryFrom and TryInto: used for fallible conversions, return Result</a></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion/string.html"><strong aria-hidden="true">5.2.5.3.</strong> ToString and FromStr trait: To and from Strings</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.3.</strong> Control: Statements, Functions and Error handling</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/expression.html"><strong aria-hidden="true">5.3.1.</strong> ✨Expressions: statements end with ;</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control.html"><strong aria-hidden="true">5.3.2.</strong> 🧮 Flow of Control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/if_else.html"><strong aria-hidden="true">5.3.2.1.</strong> if/else</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/while.html"><strong aria-hidden="true">5.3.2.2.</strong> while</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop.html"><strong aria-hidden="true">5.3.2.3.</strong> loop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop/nested.html"><strong aria-hidden="true">5.3.2.3.1.</strong> Nesting and labels: a little like lifetime annotations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop/return.html"><strong aria-hidden="true">5.3.2.3.2.</strong> Returning from loops</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/if_let.html"><strong aria-hidden="true">5.3.2.4.</strong> if let</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/while_let.html"><strong aria-hidden="true">5.3.2.5.</strong> ✨while_let</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/for.html"><strong aria-hidden="true">5.3.2.6.</strong> for and range</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match.html"><strong aria-hidden="true">5.3.2.7.</strong> ⭐️match</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/destructuring.html"><strong aria-hidden="true">5.3.2.7.1.</strong> ✨✨✨Destructuring</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/guard.html"><strong aria-hidden="true">5.3.2.7.2.</strong> Guards: to filter the arm</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/binding.html"><strong aria-hidden="true">5.3.2.7.3.</strong> @ Binding</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn.html"><strong aria-hidden="true">5.3.3.</strong> ✨Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/methods.html"><strong aria-hidden="true">5.3.3.1.</strong> Methods</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures.html"><strong aria-hidden="true">5.3.3.2.</strong> ✨Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/capture.html"><strong aria-hidden="true">5.3.3.2.1.</strong> Capturing</a></li><li class="chapter-item "><div><strong aria-hidden="true">5.3.3.2.2.</strong> Fn/FnMut/FnOnce</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/anonymity.html"><strong aria-hidden="true">5.3.3.2.2.1.</strong> Type anonymity</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/input_parameters.html"><strong aria-hidden="true">5.3.3.2.2.2.</strong> As input parameters</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/output_parameters.html"><strong aria-hidden="true">5.3.3.2.2.3.</strong> As output parameters</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/input_functions.html"><strong aria-hidden="true">5.3.3.2.2.4.</strong> Input functions</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples.html"><strong aria-hidden="true">5.3.3.2.3.</strong> Examples in std</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples/iter_any.html"><strong aria-hidden="true">5.3.3.2.3.1.</strong> Iterator::any</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples/iter_find.html"><strong aria-hidden="true">5.3.3.2.3.2.</strong> Searching through iterators</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/hof.html"><strong aria-hidden="true">5.3.3.3.</strong> Higher Order Functions</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/diverging.html"><strong aria-hidden="true">5.3.3.4.</strong> ✨Diverging functions: return !, different from ()</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error.html"><strong aria-hidden="true">5.3.4.</strong> ⭐️Error handling: Panic、Option and Result</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/panic.html"><strong aria-hidden="true">5.3.4.1.</strong> panic!: unrecoverable, try-exception</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/abort_unwind.html"><strong aria-hidden="true">5.3.4.1.1.</strong> ✨abort & unwind: Two implementation mechanisms of panic</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap.html"><strong aria-hidden="true">5.3.4.2.</strong> Option & unwrap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/map.html"><strong aria-hidden="true">5.3.4.2.1.</strong> Combinators of Option: map</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/and_then.html"><strong aria-hidden="true">5.3.4.2.2.</strong> Combinators of Option: and_then</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/defaults.html"><strong aria-hidden="true">5.3.4.2.3.</strong> Defaults: or, or_else, get_or_insert, 'get_or_insert_with`</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result.html"><strong aria-hidden="true">5.3.4.3.</strong> Result & OK or ?: A Richer Version Of Option</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/result/result_map.html"><strong aria-hidden="true">5.3.4.3.1.</strong> map for Result: catch explicit Exception and Continue</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result/result_alias.html"><strong aria-hidden="true">5.3.4.3.2.</strong> Custom Exception: aliases for Result</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result/early_returns.html"><strong aria-hidden="true">5.3.4.3.3.</strong> Early returns: Catch Exception and Return</a></li></ol></li><li class="chapter-item "><a href="../../#.html"><strong aria-hidden="true">5.3.4.4.</strong> ?: the uses of question mark</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/result/enter_question_mark.html"><strong aria-hidden="true">5.3.4.4.1.</strong> Introducing ?</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/question_mark.html"><strong aria-hidden="true">5.3.4.4.2.</strong> Unpacking options with ? to return the Some or terminate</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/reenter_question_mark.html"><strong aria-hidden="true">5.3.4.4.3.</strong> Other uses of ?</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types.html"><strong aria-hidden="true">5.3.4.5.</strong> Multiple error types to interact</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/option_result.html"><strong aria-hidden="true">5.3.4.5.1.</strong> Pulling Results out of Options</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/define_error_type.html"><strong aria-hidden="true">5.3.4.5.2.</strong> Defining an error type</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/boxing_errors.html"><strong aria-hidden="true">5.3.4.5.3.</strong> Boxing errors</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/wrap_error.html"><strong aria-hidden="true">5.3.4.5.4.</strong> Wrapping errors</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/iter_result.html"><strong aria-hidden="true">5.3.4.6.</strong> Iterating over Results</a></li><li class="chapter-item "><a href="../../rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">5.3.4.7.</strong> 📒Error Handling Practices -- ChatGPT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/error_handling_practices/basic_practics.html"><strong aria-hidden="true">5.3.4.7.1.</strong> Basic Practices</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">5.4.</strong> Encapsulation: Modules, Crates and Cargo</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/mod.html"><strong aria-hidden="true">5.4.1.</strong> Modules: hierarchically split and manage visibility</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/mod/visibility.html"><strong aria-hidden="true">5.4.1.1.</strong> Visibility</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/struct_visibility.html"><strong aria-hidden="true">5.4.1.2.</strong> Struct visibility: an extra level of visibility with their fields</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/use.html"><strong aria-hidden="true">5.4.1.3.</strong> The use declaration: bind a full path to a new name</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/super.html"><strong aria-hidden="true">5.4.1.4.</strong> super and self: remove ambiguity</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/split.html"><strong aria-hidden="true">5.4.1.5.</strong> File/Directory hierarchy</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/crates.html"><strong aria-hidden="true">5.4.2.</strong> Crates: compilation units in Rust, library or binary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/crates/lib.html"><strong aria-hidden="true">5.4.2.1.</strong> Creating a Library: --crate-type=lib</a></li><li class="chapter-item "><a href="../../rust_by_example_src/crates/using_lib.html"><strong aria-hidden="true">5.4.2.2.</strong> Using a Library: --extern</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo.html"><strong aria-hidden="true">5.4.3.</strong> Cargo: package management tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/cargo/deps.html"><strong aria-hidden="true">5.4.3.1.</strong> Dependencies</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/conventions.html"><strong aria-hidden="true">5.4.3.2.</strong> Two Binaries Conventions</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/test.html"><strong aria-hidden="true">5.4.3.3.</strong> ✨Tests</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/build_scripts.html"><strong aria-hidden="true">5.4.3.4.</strong> Build Scripts</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.5.</strong> Rust Core: Generics, Traits and Scoping</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics.html"><strong aria-hidden="true">5.5.1.</strong> 🪐Generics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/used_as_parameter.html"><strong aria-hidden="true">5.5.1.1.</strong> Used as Parameter</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/gen_fn.html"><strong aria-hidden="true">5.5.1.1.1.</strong> Functions: Identify whether a generic function</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/impl.html"><strong aria-hidden="true">5.5.1.1.2.</strong> Impl Type fn: Identify whether a generic method</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/gen_trait.html"><strong aria-hidden="true">5.5.1.1.3.</strong> Impl Traits fn: Identify whether a generic method</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/trait_bounds.html"><strong aria-hidden="true">5.5.1.2.</strong> Bounded by Trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/testcase_empty.html"><strong aria-hidden="true">5.5.1.2.1.</strong> ✨Testcase: empty bounds</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/multi_trait_bounds.html"><strong aria-hidden="true">5.5.1.2.2.</strong> Multiple Trait Bounds</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/where_bounds.html"><strong aria-hidden="true">5.5.1.2.3.</strong> Where clauses bounds</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/new_types.html"><strong aria-hidden="true">5.5.1.3.</strong> New Type Idiom</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items.html"><strong aria-hidden="true">5.5.1.4.</strong> ✨Associated items</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/the_problem.html"><strong aria-hidden="true">5.5.1.4.1.</strong> ✨The Problem</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/types.html"><strong aria-hidden="true">5.5.1.4.2.</strong> Associated types</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/phantom.html"><strong aria-hidden="true">5.5.1.5.</strong> Phantom type parameters</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/phantom/testcase_units.html"><strong aria-hidden="true">5.5.1.5.1.</strong> Testcase: unit clarification</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/trait.html"><strong aria-hidden="true">5.5.2.</strong> 🪐Traits</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/trait/derive.html"><strong aria-hidden="true">5.5.2.1.</strong> ✨Derive Macro Traits</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/dyn.html"><strong aria-hidden="true">5.5.2.2.</strong> Returning Traits with dyn</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/ops.html"><strong aria-hidden="true">5.5.2.3.</strong> Operator Overloading</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/drop.html"><strong aria-hidden="true">5.5.2.4.</strong> Drop</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/iter.html"><strong aria-hidden="true">5.5.2.5.</strong> Iterators: Iterator Trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/impl_trait.html"><strong aria-hidden="true">5.5.2.6.</strong> ✨impl Trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/supertraits.html"><strong aria-hidden="true">5.5.2.7.</strong> Supertraits</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/disambiguating.html"><strong aria-hidden="true">5.5.2.8.</strong> Fully Qualified Syntax: Disambiguating overlapping traits</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope.html"><strong aria-hidden="true">5.5.3.</strong> 🪐Scoping rules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/raii.html"><strong aria-hidden="true">5.5.3.1.</strong> RAII</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/move.html"><strong aria-hidden="true">5.5.3.2.</strong> Ownership and moves</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/move/mut.html"><strong aria-hidden="true">5.5.3.2.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/move/partial_move.html"><strong aria-hidden="true">5.5.3.2.2.</strong> Partial moves</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow.html"><strong aria-hidden="true">5.5.3.3.</strong> Borrowing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/mut.html"><strong aria-hidden="true">5.5.3.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/alias.html"><strong aria-hidden="true">5.5.3.3.2.</strong> Mutable or Immutable, Only One</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/ref.html"><strong aria-hidden="true">5.5.3.3.3.</strong> ✨The ref pattern</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime.html"><strong aria-hidden="true">5.5.3.4.</strong> Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/elision.html"><strong aria-hidden="true">5.5.3.4.1.</strong> Elision</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/explicit.html"><strong aria-hidden="true">5.5.3.4.2.</strong> ✨Explicit lifetime annotation: another Generic</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/fn_method_struct_trait.html"><strong aria-hidden="true">5.5.3.4.3.</strong> ✨Functions、methods、struct、trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/lifetime_bounds.html"><strong aria-hidden="true">5.5.3.4.4.</strong> Lifetime Bounds for generics</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/lifetime_coercion.html"><strong aria-hidden="true">5.5.3.4.5.</strong> Coercion</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/static_lifetime.html"><strong aria-hidden="true">5.5.3.4.6.</strong> Static</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.6.</strong> Macros: rules! and Attributes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros.html"><strong aria-hidden="true">5.6.1.</strong> macro_rules!</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros/syntax.html"><strong aria-hidden="true">5.6.1.1.</strong> Syntax</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros/designators.html"><strong aria-hidden="true">5.6.1.1.1.</strong> Designators</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/overload.html"><strong aria-hidden="true">5.6.1.1.2.</strong> Overload</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/repeat.html"><strong aria-hidden="true">5.6.1.1.3.</strong> Repeat</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/dry.html"><strong aria-hidden="true">5.6.1.2.</strong> DRY (rust_by_example_src/Don't Repeat Yourself)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/dsl.html"><strong aria-hidden="true">5.6.1.3.</strong> DSL (rust_by_example_src/Domain Specific Languages)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/variadics.html"><strong aria-hidden="true">5.6.1.4.</strong> Variadics</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute.html"><strong aria-hidden="true">5.6.2.</strong> 🧐 Attributes: metadata applied to some module, crate or item</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/attribute/unused.html"><strong aria-hidden="true">5.6.2.1.</strong> dead_code: disable the unused lint</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/crate.html"><strong aria-hidden="true">5.6.2.2.</strong> Crates: : crate_type and crate_name</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/cfg.html"><strong aria-hidden="true">5.6.2.3.</strong> cfg: Configuration conditional checks</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/cfg/custom.html"><strong aria-hidden="true">5.6.2.4.</strong> Custom: Custom conditionals</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.7.</strong> Std: Library types and Misc</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std.html"><strong aria-hidden="true">5.7.1.</strong> ⭐️Std library types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std/box.html"><strong aria-hidden="true">5.7.1.1.</strong> ✨Box, stack and heap</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/vec.html"><strong aria-hidden="true">5.7.1.2.</strong> ✨Vectors: re-sizable arrays</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/str.html"><strong aria-hidden="true">5.7.1.3.</strong> ✨Strings: String and &str</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/panic.html"><strong aria-hidden="true">5.7.1.4.</strong> panic!: Raise Exception , no Catch</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/option.html"><strong aria-hidden="true">5.7.1.5.</strong> Option: catching failure instead of calling panic!</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/result.html"><strong aria-hidden="true">5.7.1.6.</strong> Result: express why an operation failed</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/result/question_mark.html"><strong aria-hidden="true">5.7.1.7.</strong> ?: Chaining Results only match Ok(ok)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/hash.html"><strong aria-hidden="true">5.7.1.8.</strong> HashMap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std/hash/alt_key_types.html"><strong aria-hidden="true">5.7.1.8.1.</strong> Alternate/custom key types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/hash/hashset.html"><strong aria-hidden="true">5.7.1.8.2.</strong> HashSet</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std/rc.html"><strong aria-hidden="true">5.7.1.9.</strong> Rc: for mutiple ownership, just like what python have done</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/arc.html"><strong aria-hidden="true">5.7.1.10.</strong> Arc: shared ownership between threads</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc.html"><strong aria-hidden="true">5.7.2.</strong> 🌌 Std misc</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/threads.html"><strong aria-hidden="true">5.7.2.1.</strong> Threads</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/threads/testcase_mapreduce.html"><strong aria-hidden="true">5.7.2.2.</strong> ✨Testcase: map-reduce</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/channels.html"><strong aria-hidden="true">5.7.2.3.</strong> Channels: Asynchronous communication between threads</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/path.html"><strong aria-hidden="true">5.7.2.4.</strong> Path</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file.html"><strong aria-hidden="true">5.7.2.5.</strong> File I/O</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/open.html"><strong aria-hidden="true">5.7.2.5.1.</strong> open: read-only</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/create.html"><strong aria-hidden="true">5.7.2.5.2.</strong> create: write-only</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/read_lines.html"><strong aria-hidden="true">5.7.2.5.3.</strong> read lines: returns an iterator</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process.html"><strong aria-hidden="true">5.7.2.6.</strong> Child processes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process/pipe.html"><strong aria-hidden="true">5.7.2.6.1.</strong> Pipes: interaction with the underlying process</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process/wait.html"><strong aria-hidden="true">5.7.2.6.2.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/fs.html"><strong aria-hidden="true">5.7.2.7.</strong> std::fs: Filesystem Operations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/arg.html"><strong aria-hidden="true">5.7.2.8.</strong> Program arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/arg/matching.html"><strong aria-hidden="true">5.7.2.8.1.</strong> Match to Argument parsing</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/ffi.html"><strong aria-hidden="true">5.7.2.9.</strong> FFI: Foreign Function Interface</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.8.</strong> Misc: Testing, Unsafe, Compatibility and Meta</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/testing.html"><strong aria-hidden="true">5.8.1.</strong> Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/testing/unit_testing.html"><strong aria-hidden="true">5.8.1.1.</strong> ✨Unit testing for panic: #[cfg(test)], #[test], #[should_panic], #[ignore]</a></li><li class="chapter-item "><a href="../../rust_by_example_src/meta/doc.html"><strong aria-hidden="true">5.8.1.2.</strong> Documentation: cargo doc</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/doc_testing.html"><strong aria-hidden="true">5.8.1.3.</strong> ⭐️Documentation testing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/integration_testing.html"><strong aria-hidden="true">5.8.1.4.</strong> Integration testing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/dev_dependencies.html"><strong aria-hidden="true">5.8.1.5.</strong> Dev-dependencies</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/unsafe.html"><strong aria-hidden="true">5.8.2.</strong> Unsafe Operations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/unsafe/asm.html"><strong aria-hidden="true">5.8.3.</strong> 🤔️asm!: Inline assembly in Unsafe</a></li><li class="chapter-item "><a href="../../rust_by_example_src/compatibility.html"><strong aria-hidden="true">5.8.4.</strong> Compatibility</a></li><li class="chapter-item "><a href="../../rust_by_example_src/compatibility/raw_identifiers.html"><strong aria-hidden="true">5.8.5.</strong> Raw identifiers: r#</a></li><li class="chapter-item "><a href="../../rust_by_example_src/meta.html"><strong aria-hidden="true">5.8.6.</strong> Meta</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/meta/playground.html"><strong aria-hidden="true">5.8.6.1.</strong> Playground</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../PyO3_guides/src/index.html"><strong aria-hidden="true">6.</strong> The PyO3 Guide</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/getting_started.html"><strong aria-hidden="true">6.1.</strong> Getting started</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/module.html"><strong aria-hidden="true">6.2.</strong> Python modules</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/function.html"><strong aria-hidden="true">6.3.</strong> Python functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/function/signature.html"><strong aria-hidden="true">6.3.1.</strong> Function signatures</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/function/error_handling.html"><strong aria-hidden="true">6.3.2.</strong> Error handling</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/class.html"><strong aria-hidden="true">6.4.</strong> Python classes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/class/protocols.html"><strong aria-hidden="true">6.4.1.</strong> Class customizations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/class/object.html"><strong aria-hidden="true">6.4.1.1.</strong> Basic object customization</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/class/numeric.html"><strong aria-hidden="true">6.4.1.2.</strong> Emulating numeric types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/class/call.html"><strong aria-hidden="true">6.4.1.3.</strong> Emulating callable objects</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/conversions.html"><strong aria-hidden="true">6.5.</strong> Type conversions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/conversions/tables.html"><strong aria-hidden="true">6.5.1.</strong> Mapping of Rust types to Python types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/conversions/traits.html"><strong aria-hidden="true">6.5.2.</strong> Conversion traits</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/exception.html"><strong aria-hidden="true">6.6.</strong> Python exceptions</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/python_from_rust.html"><strong aria-hidden="true">6.7.</strong> Calling Python from Rust</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/types.html"><strong aria-hidden="true">6.8.</strong> GIL, mutability and object types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/parallelism.html"><strong aria-hidden="true">6.9.</strong> Parallelism</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/debugging.html"><strong aria-hidden="true">6.10.</strong> Debugging</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/features.html"><strong aria-hidden="true">6.11.</strong> Features reference</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/memory.html"><strong aria-hidden="true">6.12.</strong> Memory management</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/advanced.html"><strong aria-hidden="true">6.13.</strong> Advanced topics</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/building_and_distribution.html"><strong aria-hidden="true">6.14.</strong> ⭐️Building and distribution</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/building_and_distribution/multiple_python_versions.html"><strong aria-hidden="true">6.14.1.</strong> Supporting multiple Python versions</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem.html"><strong aria-hidden="true">6.15.</strong> Useful crates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem/logging.html"><strong aria-hidden="true">6.15.1.</strong> Logging</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem/async-await.html"><strong aria-hidden="true">6.15.2.</strong> Using async and await</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/faq.html"><strong aria-hidden="true">6.16.</strong> FAQ and troubleshooting</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/migration.html"><strong aria-hidden="true">6.17.</strong> Appendix A: Migration guide</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/rust_cpython.html"><strong aria-hidden="true">6.18.</strong> Appendix B: PyO3 and rust-cpython</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/trait_bounds.html"><strong aria-hidden="true">6.19.</strong> Appendix C: Trait bounds</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/python_typing_hints.html"><strong aria-hidden="true">6.20.</strong> Appendix D: Python typing hints</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/changelog.html"><strong aria-hidden="true">6.21.</strong> CHANGELOG</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/contributing.html"><strong aria-hidden="true">6.22.</strong> Contributing</a></li></ol></li><li class="chapter-item expanded "><a href="../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">The Rust Programming Language</h1>
            <h4 class="menu-bar">日不见增 月有渐进 | 唯剃真我 方有成效｜ 惊涛拍案 千层雪起 | <a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍 | 知行合一, 方见真我</a> | 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/rust-lang/book" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-github"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="solving-distributed-systems-challenges-in-rust"><a class="header" href="#solving-distributed-systems-challenges-in-rust">Solving distributed systems challenges in Rust</a></h1>
<!--ts-->
<ul>
<li><a href="#solving-distributed-systems-challenges-in-rust">Solving distributed systems challenges in Rust</a>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#%EF%B8%8Fdistributed-systems-challenges"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Distributed Systems Challenges</a></li>
</ul>
</li>
<li><a href="#what-is-maelstrom">What is Maelstrom?</a>
<ul>
<li><a href="#about-maelstrom"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>About Maelstrom</a></li>
</ul>
</li>
<li><a href="#implementing-the-protocol">Implementing the Protocol</a>
<ul>
<li><a href="#protocol-implementation"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>Protocol Implementation</a></li>
</ul>
</li>
<li><a href="#setting-up-the-project">Setting up the Project</a>
<ul>
<li><a href="#naming-the-project">Naming the Project</a></li>
</ul>
</li>
<li><a href="#defining-message-struct">Defining Message Struct</a>
<ul>
<li><a href="#struct-definition"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>Struct Definition</a></li>
</ul>
</li>
<li><a href="#enum-and-payload">Enum and Payload</a>
<ul>
<li><a href="#using-enums-for-message-types"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>Using Enums for Message Types</a></li>
<li><a href="#flattening-payload">Flattening Payload</a></li>
</ul>
</li>
<li><a href="#state-machine-driver"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>State Machine Driver</a>
<ul>
<li><a href="#deserializing-inputs">Deserializing Inputs</a></li>
<li><a href="#state-machine-model">State Machine Model</a></li>
</ul>
</li>
<li><a href="#echo-node-step-function">Echo Node Step Function</a>
<ul>
<li><a href="#echo-node-step-function-1"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>Echo Node Step Function</a></li>
</ul>
</li>
<li><a href="#introduction-1">Introduction</a>
<ul>
<li><a href="#running-a-command">Running a Command</a></li>
</ul>
</li>
<li><a href="#debugging">Debugging</a>
<ul>
<li><a href="#running-binary">Running Binary</a></li>
<li><a href="#responding-to-messages"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐</g-emoji>Responding to Messages</a></li>
</ul>
</li>
<li><a href="#responding-to-init-message">Responding to Init Message</a>
<ul>
<li><a href="#node-id-and-node-ids-fields">Node ID and Node IDs Fields</a></li>
<li><a href="#init-message-type">Init Message Type</a></li>
<li><a href="#responding-with-required-message">Responding with Required Message</a></li>
<li><a href="#flushing-standard-out">Flushing Standard Out</a></li>
</ul>
</li>
<li><a href="#printing-new-line">Printing New Line</a>
<ul>
<li><a href="#pretty-formatter">Pretty Formatter</a></li>
<li><a href="#inner-part-of-output-stream">Inner Part of Output Stream</a></li>
<li><a href="#implementing-json-serialization">Implementing JSON Serialization</a></li>
<li><a href="#returning-messages-from-step-function">Returning Messages from Step Function</a></li>
<li><a href="#%EF%B8%8Fimplementing-a-globally-unique-id-generation-system"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Implementing a Globally Unique ID Generation System</a></li>
</ul>
</li>
<li><a href="#introduction-2">Introduction</a>
<ul>
<li><a href="#testing">Testing</a></li>
</ul>
</li>
<li><a href="#payload-definition">Payload Definition</a>
<ul>
<li><a href="#%EF%B8%8Fgeneric-payload"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Generic Payload</a></li>
<li><a href="#node-service-implementation">Node Service Implementation</a></li>
</ul>
</li>
<li><a href="#splitting-up-shareable-parts">Splitting Up Shareable Parts</a>
<ul>
<li><a href="#copying-echo">Copying Echo</a></li>
<li><a href="#generating-unique-ids">Generating Unique IDs</a></li>
<li><a href="#responding-with-generate-okay-message">Responding with Generate Okay Message</a></li>
<li><a href="#node-receiving-generate-messages">Node Receiving Generate Messages</a></li>
</ul>
</li>
<li><a href="#unique-ids">Unique IDs</a>
<ul>
<li><a href="#generating-unique-ids-1">Generating Unique IDs</a></li>
<li><a href="#%EF%B8%8Fimplementing-unique-ids"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Implementing Unique IDs</a></li>
<li><a href="#%EF%B8%8Fextracting-init"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Extracting Init</a></li>
</ul>
</li>
<li><a href="#extracting-initialization-message">Extracting Initialization Message</a>
<ul>
<li><a href="#%EF%B8%8Fextracting-initialization-message"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Extracting Initialization Message</a></li>
<li><a href="#creating-init-response">Creating Init Response</a></li>
<li><a href="#generating-payload">Generating Payload</a></li>
<li><a href="#incrementing-id">Incrementing ID</a></li>
</ul>
</li>
<li><a href="#generating-init-reply">Generating Init Reply</a>
<ul>
<li><a href="#generating-init-reply-1">Generating Init Reply</a></li>
<li><a href="#%EF%B8%8Fimplementing-payload-trait-for-echo"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Implementing Payload Trait for Echo</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Frestructuring-the-code"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Restructuring the Code</a>
<ul>
<li><a href="#handling-init-messages">Handling Init Messages</a></li>
<li><a href="#removing-payload-trait">Removing Payload Trait</a></li>
<li><a href="#updating-echo-node">Updating Echo Node</a></li>
<li><a href="#unique-ids-1">Unique IDs</a></li>
</ul>
</li>
<li><a href="#changes-to-unique-id-generator">Changes to Unique ID Generator</a>
<ul>
<li><a href="#unique-id-generator-changes">Unique ID Generator Changes</a></li>
</ul>
</li>
<li><a href="#debugging-echo-functionality">Debugging Echo Functionality</a>
<ul>
<li><a href="#debugging-echo-functionality-1">Debugging Echo Functionality</a></li>
</ul>
</li>
<li><a href="#updating-stream-deserializer">Updating Stream Deserializer</a>
<ul>
<li><a href="#updating-stream-deserializer-1">Updating Stream Deserializer</a></li>
</ul>
</li>
<li><a href="#unique-ids-and-broadcast-challenge">Unique IDs and Broadcast Challenge</a>
<ul>
<li><a href="#generating-unique-ids-2">Generating Unique IDs</a></li>
<li><a href="#single-node-broadcast-system">Single Node Broadcast System</a></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#%EF%B8%8Forder-of-returned-values-and-topology"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Order of Returned Values and Topology</a>
<ul>
<li><a href="#the-order-of-returned-values">The Order of Returned Values</a></li>
<li><a href="#topology">Topology</a></li>
</ul>
</li>
<li><a href="#setting-up-messages">Setting Up Messages</a>
<ul>
<li><a href="#initial-setup">Initial Setup</a></li>
<li><a href="#broadcast-message">Broadcast Message</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Fgossip-protocols-introduction"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Gossip Protocols Introduction</a>
<ul>
<li><a href="#implementing-broadcast">Implementing Broadcast</a></li>
</ul>
</li>
<li><a href="#multi-node-broadcast">Multi-node Broadcast</a>
<ul>
<li><a href="#%EF%B8%8Fgossip-protocols"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Gossip Protocols</a></li>
</ul>
</li>
<li><a href="#differences-between-broadcast-and-gossip">Differences Between Broadcast and Gossip</a>
<ul>
<li><a href="#%EF%B8%8Fbroadcast-vs-gossip"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Broadcast vs. Gossip</a></li>
<li><a href="#%EF%B8%8Fhow-gossip-works"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>How Gossip Works</a></li>
<li><a href="#%EF%B8%8Fcompare-blockchain-and-gossip"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Compare Blockchain and Gossip</a></li>
</ul>
</li>
<li><a href="#understanding-gossip-protocol">Understanding Gossip Protocol</a>
<ul>
<li><a href="#how-gossip-protocol-works">How Gossip Protocol Works</a></li>
<li><a href="#%EF%B8%8Fsyncing-data-between-nodes"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Syncing Data Between Nodes</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Fthe-two-generals-problem"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>The Two Generals Problem</a>
<ul>
<li><a href="#sending-messages-and-acknowledgments">Sending Messages and Acknowledgments</a></li>
<li><a href="#no-solution-to-consensus">No Solution to Consensus</a></li>
<li><a href="#optimizing-gossip-protocol">Optimizing Gossip Protocol</a></li>
<li><a href="#implementing-known-values">Implementing Known Values</a></li>
<li><a href="#implementing-broadcast-1">Implementing Broadcast</a></li>
<li><a href="#determining-nodes-to-communicate-with">Determining Nodes to Communicate With</a></li>
<li><a href="#network-partitioning-issues">Network Partitioning Issues</a></li>
<li><a href="#implementing-gossip-protocol">Implementing Gossip Protocol</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Fintroduction-to-asynchronous-programming"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Introduction to Asynchronous Programming</a>
<ul>
<li><a href="#two-approaches-to-writing-asynchronous-code">Two Approaches to Writing Asynchronous Code</a></li>
<li><a href="#avoiding-asynchronous-programming-for-now">Avoiding Asynchronous Programming for Now</a></li>
<li><a href="#synchronous-programming-techniques">Synchronous Programming Techniques</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Fusing-channels-for-input-messages"><g-emoji class="g-emoji" alias="star" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png">⭐️</g-emoji>Using Channels for Input Messages</a>
<ul>
<li><a href="#creating-a-channel">Creating a Channel</a></li>
<li><a href="#receiving-from-channel-and-performing-step-function">Receiving from Channel and Performing Step Function</a></li>
<li><a href="#dropping-standard-in">Dropping Standard In</a></li>
</ul>
</li>
<li><a href="#introduction-3">Introduction</a>
<ul>
<li><a href="#thread-panics-and-error-handling">Thread Panics and Error Handling</a></li>
</ul>
</li>
<li><a href="#main-loop">Main Loop</a>
<ul>
<li><a href="#generating-additional-input-events">Generating Additional Input Events</a></li>
</ul>
</li>
<li><a href="#event-payload">Event Payload</a>
<ul>
<li><a href="#differentiating-between-injected-payloads-and-actual-messages">Differentiating Between Injected Payloads and Actual Messages</a></li>
</ul>
</li>
<li><a href="#echo-fix">Echo Fix</a>
<ul>
<li><a href="#fixing-echo">Fixing Echo</a></li>
</ul>
</li>
<li><a href="#end-of-file-and-injected-payloads">End of File and Injected Payloads</a>
<ul>
<li><a href="#handling-end-of-file-events">Handling End-of-File Events</a></li>
<li><a href="#handling-injected-payloads">Handling Injected Payloads</a></li>
<li><a href="#starting-a-new-thread">Starting a New Thread</a></li>
<li><a href="#serialized-payload">Serialized Payload</a></li>
<li><a href="#enum-for-injected-payload">Enum for Injected Payload</a></li>
</ul>
</li>
<li><a href="#understanding-gossip-protocol-1">Understanding Gossip Protocol</a>
<ul>
<li><a href="#implementing-injected-payload">Implementing Injected Payload</a></li>
<li><a href="#creating-helper-functions">Creating Helper Functions</a></li>
<li><a href="#updating-gossip-protocol">Updating Gossip Protocol</a></li>
<li><a href="#filtering-messages">Filtering Messages</a></li>
</ul>
</li>
<li><a href="#gossip-protocol-implementation">Gossip Protocol Implementation</a>
<ul>
<li><a href="#sending-messages">Sending Messages</a></li>
<li><a href="#gossiping-between-nodes">Gossiping Between Nodes</a></li>
<li><a href="#naive-gossip-implementation">Naive Gossip Implementation</a></li>
</ul>
</li>
<li><a href="#performance-analysis">Performance Analysis</a>
<ul>
<li><a href="#broadcast-rate-vs-propagation-delay">Broadcast Rate vs. Propagation Delay</a></li>
<li><a href="#visibility-delay">Visibility Delay</a></li>
<li><a href="#naive-gossip-implementation-1">Naive Gossip Implementation</a></li>
</ul>
</li>
<li><a href="#generated-by-video-highlight">Generated by Video Highlight</a></li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Fri Apr 21 15:09:08 UTC 2023 -->
<!--te-->
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>Section Overview: In this section, the speaker introduces a set of distributed systems challenges that use a platform
called Maelstrom. The challenges are designed to build an increasingly sophisticated distributed system and run it
through Maelstrom to test its correctness.</p>
<h3 id="distributed-systems-challenges"><a class="header" href="#distributed-systems-challenges">⭐️Distributed Systems Challenges</a></h3>
<ul>
<li>The challenges use a platform called Maelstrom, which is a <code>distributed systems testing framework</code>.</li>
<li>The challenges involve building an increasingly sophisticated distributed system and running it through Maelstrom to
test its correctness.</li>
<li>The exercises are written in Go, but demo implementations of the node code are available in Ruby, JavaScript, Java,
and Python.</li>
<li>The speaker will be implementing the challenges in Rust since there isn’t a demo implementation available for Rust.</li>
</ul>
<h2 id="what-is-maelstrom"><a class="header" href="#what-is-maelstrom">What is Maelstrom?</a></h2>
<p>Section Overview: In this section, the speaker provides more information about Maelstrom and how it works.</p>
<h3 id="about-maelstrom"><a class="header" href="#about-maelstrom">⭐About Maelstrom</a></h3>
<ul>
<li>Maelstrom is a distributed systems testing framework or exercise framework.</li>
<li>It can orchestrate message passing between nodes in a distributed system and emulate things like delayed messages or
reordered messages or drop messages nodes coming and going that kind of stuff.</li>
<li>It’s written by or alongside the author of Jepson, which is doing correctness research for distributed systems.</li>
<li>Jepson has found bugs in real systems like Redis, Raft, Postgres, etcd by studying real systems.</li>
</ul>
<h2 id="implementing-the-protocol"><a class="header" href="#implementing-the-protocol">Implementing the Protocol</a></h2>
<p>Section Overview: In this section, the speaker discusses how they will implement the protocol required by Maelstrom.</p>
<h3 id="protocol-implementation"><a class="header" href="#protocol-implementation">⭐Protocol Implementation</a></h3>
<ul>
<li>Each node is just a binary that receives JSON messages from standard input and sends JSON messages to standard output.</li>
<li>Messages have three parts: source (identifying string of sender), destination (identifying string of receiver), body (
message content).</li>
<li>Message bodies have reserved keys, and additional keys can be set depending on the message type.</li>
<li>The speaker will need to implement this protocol in Rust to get everything set up.</li>
</ul>
<h2 id="setting-up-the-project"><a class="header" href="#setting-up-the-project">Setting up the Project</a></h2>
<p>Section Overview: In this section, the speaker sets up the project and decides on a name for it.</p>
<h3 id="naming-the-project"><a class="header" href="#naming-the-project">Naming the Project</a></h3>
<ul>
<li>The speaker decides to call the project “rusten gun” after a battle spell from Naruto.</li>
<li>Timestamp:</li>
</ul>
<h2 id="defining-message-struct"><a class="header" href="#defining-message-struct">Defining Message Struct</a></h2>
<p>Section Overview: In this section, the speaker defines a struct for messages that will be passed throughout the program.</p>
<h3 id="struct-definition"><a class="header" href="#struct-definition">⭐Struct Definition</a></h3>
<ul>
<li>The message struct has fields for source, destination (renamed to “dust”), type (renamed to “ty”), message ID, in
reply to, and body.</li>
<li>Body is either a string or a hashmap of string keys and serde_json values.</li>
<li>The speaker considers making body an enum tagged by type but ultimately decides against it.</li>
<li>Timestamp:</li>
</ul>
<h2 id="enum-and-payload"><a class="header" href="#enum-and-payload">Enum and Payload</a></h2>
<p>Section Overview: In this section, the speaker discusses how to use enums and payloads in Rust.</p>
<h3 id="using-enums-for-message-types"><a class="header" href="#using-enums-for-message-types">⭐Using Enums for Message Types</a></h3>
<ul>
<li>The speaker explains that they will use enums to define message types.</li>
<li>They rename all enums to snake case.</li>
<li>They construct a deserializer using <code>serde_json</code> from standard input.</li>
</ul>
<h3 id="flattening-payload"><a class="header" href="#flattening-payload">Flattening Payload</a></h3>
<ul>
<li>The speaker mentions that they want to flatten the payload.</li>
<li>They are unsure if flattening works in this regard.</li>
</ul>
<h2 id="state-machine-driver"><a class="header" href="#state-machine-driver">⭐State Machine Driver</a></h2>
<p>Section Overview: In this section, the speaker discusses constructing a state machine driver in Rust.</p>
<h3 id="deserializing-inputs"><a class="header" href="#deserializing-inputs">Deserializing Inputs</a></h3>
<ul>
<li>The speaker constructs a stream deserializer using <code>serde_json</code> from standard input.</li>
<li>They use <code>into_iter()</code> to turn it into an iterator of messages.</li>
</ul>
<h3 id="state-machine-model"><a class="header" href="#state-machine-model">State Machine Model</a></h3>
<ul>
<li>The speaker models the state machine with a struct called Echo Node.</li>
</ul>
<h2 id="echo-node-step-function"><a class="header" href="#echo-node-step-function">Echo Node Step Function</a></h2>
<p>Section Overview: In this section, the speaker discusses the step function for an echo node in a distributed system.
They talk about the input message and how it returns a mutable reference to the state of the node.</p>
<h3 id="echo-node-step-function-1"><a class="header" href="#echo-node-step-function-1">⭐Echo Node Step Function</a></h3>
<ul>
<li>The step function gets a mutable reference to the state of the node in the distributed system and the input message.</li>
<li>A stream serializer is used to send messages as well as trigger messages to other nodes.</li>
<li>The step function needs a way to wait for a message before replying to the current message.</li>
<li>The reply is going to be a message with source, destination, body, and ID of response generated by self.id.</li>
<li>If we receive an echo, we do nothing. If we get an echo, that’s when we want to send the second reply.</li>
<li>We construct an output channel using Certi Jason serializer new standard out.</li>
<li>State starts at zero and then we’re going to do state step give it input.</li>
</ul>
<h2 id="introduction-1"><a class="header" href="#introduction-1">Introduction</a></h2>
<p>Section Overview: In this section, the speaker introduces the topic and mentions that they will be running a command.</p>
<h3 id="running-a-command"><a class="header" href="#running-a-command">Running a Command</a></h3>
<ul>
<li>The speaker mentions that they will run “cargo r” command.</li>
</ul>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<p>Section Overview: In this section, the speaker runs a binary and encounters an error.</p>
<h3 id="running-binary"><a class="header" href="#running-binary">Running Binary</a></h3>
<ul>
<li>The speaker runs a binary using “debug or sting gun”.</li>
<li>The program crashes with an error message “unknown variant variant in it right”.</li>
</ul>
<h3 id="responding-to-messages"><a class="header" href="#responding-to-messages">⭐Responding to Messages</a></h3>
<ul>
<li>The speaker explains that in response to an init message, each node must respond with a message of type init.</li>
<li>They mention that there are two types of messages: init and echo.</li>
</ul>
<h2 id="responding-to-init-message"><a class="header" href="#responding-to-init-message">Responding to Init Message</a></h2>
<p>Section Overview: In this section, the speaker talks about how nodes should respond to an init message.</p>
<h3 id="node-id-and-node-ids-fields"><a class="header" href="#node-id-and-node-ids-fields">Node ID and Node IDs Fields</a></h3>
<ul>
<li>The node ID field indicates the ID of the node which is receiving this message.</li>
<li>The node IDs fields list all nodes in the cluster including the recipient.</li>
</ul>
<h3 id="init-message-type"><a class="header" href="#init-message-type">Init Message Type</a></h3>
<ul>
<li>In response to an init message, we have to respond with a message type of init.</li>
<li>Node ID is going to be a string and also node IDs which is a vek of string.</li>
</ul>
<h3 id="responding-with-required-message"><a class="header" href="#responding-with-required-message">Responding with Required Message</a></h3>
<ul>
<li>For init, we don’t actually care about any of the fields but what we’re going to do is respond with the required
message which is here in it okay.</li>
<li>If we receive an edit okay message that should never happen we might receive an echo okay.</li>
</ul>
<h3 id="flushing-standard-out"><a class="header" href="#flushing-standard-out">Flushing Standard Out</a></h3>
<ul>
<li>The speaker explains that the problem is that standard out is buffered so when we write out here we’re not flushing
standard out as well which means that the message isn’t actually getting out to the server.</li>
<li>It might be enough to just print a new line because this is a line buffered writer.</li>
</ul>
<h2 id="printing-new-line"><a class="header" href="#printing-new-line">Printing New Line</a></h2>
<p>Section Overview: In this section, the speaker talks about printing a new line.</p>
<h3 id="pretty-formatter"><a class="header" href="#pretty-formatter">Pretty Formatter</a></h3>
<ul>
<li>The speaker suggests using pretty formatter to print a new line.</li>
<li>The protocol itself also requires that you print a new line because it’s newline separate adjacent objects.</li>
</ul>
<h3 id="inner-part-of-output-stream"><a class="header" href="#inner-part-of-output-stream">Inner Part of Output Stream</a></h3>
<ul>
<li>In order to print a new line, we need to get at the inner part of this output stream which serializer doesn’t let us
do.</li>
<li>We can unwrap it and then put it back together but that feels unfortunate to have to do that but it might just be what
we have to do here.</li>
</ul>
<h2 id="implementing-json-serialization"><a class="header" href="#implementing-json-serialization"><a href="t=0:36:49s">#</a> Implementing JSON Serialization</a></h2>
<p>Section Overview: In this section, the speaker discusses how to implement JSON serialization in Rust.</p>
<h3 id="implementing-json-serialization-1"><a class="header" href="#implementing-json-serialization-1">Implementing JSON Serialization</a></h3>
<ul>
<li><a href="t=0:36:49s"></a> The speaker explains that the code requires encoding a line as JSON and mentions that it needs to be
one per line.</li>
<li><a href="t=0:37:20s"></a> The speaker suggests not constructing the serializer here and instead using standard out. They mention
using <code>reply.serialize</code> and <code>serde_json::to_writer</code>.</li>
<li><a href="t=0:37:49s"></a> The speaker uses <code>output.write_all</code> to write all of the output.</li>
<li><a href="t=0:38:13s"></a> The speaker checks if everything is happy with the changes made so far.</li>
<li><a href="t=0:38:31s"></a> The speaker makes sure that they are using standard out.</li>
<li><a href="t=0:38:59s"></a> The speaker tries to figure out why it’s not being helpful and considers doing a reborrow.</li>
<li><a href="t=0:39:14s"></a> The speaker explains what they want to do with mutable references and re-borrowing them.</li>
<li><a href="t=0:39:37s"></a> The speaker does a reborrow where they dereference and create a mutable reference which they can use
again later.</li>
</ul>
<h2 id="returning-messages-from-step-function"><a class="header" href="#returning-messages-from-step-function"><a href="t=0:40.03s">#</a> Returning Messages from Step Function</a></h2>
<p>Section Overview: In this section, the speaker discusses why step functions don’t return messages.</p>
<h3 id="returning-messages-from-step-function-1"><a class="header" href="#returning-messages-from-step-function-1">Returning Messages from Step Function</a></h3>
<ul>
<li><a href="t=0.40.03s"></a> A question is asked about whether or not step functions can return messages, but the answer is no
because there may be multiple messages sent or received at once.</li>
<li><a href="t=0.41.04s"></a> The speaker confirms that returning messages is possible for convenience, but it’s separate from the
mechanism of sending messages.</li>
</ul>
<h2 id="implementing-a-globally-unique-id-generation-system"><a class="header" href="#implementing-a-globally-unique-id-generation-system"><a href="t=0:42:42s">#</a> Implementing a Globally Unique ID Generation System</a></h2>
<p>Section Overview: In this section, the speaker discusses implementing a globally unique ID generation system that runs
on Maelstrom’s unique IDs workload.</p>
<h3 id="implementing-a-globally-unique-id-generation-system-1"><a class="header" href="#implementing-a-globally-unique-id-generation-system-1">⭐️Implementing a Globally Unique ID Generation System</a></h3>
<ul>
<li><a href="t=0:42:42s"></a> The speaker explains that they need to implement a globally unique ID generation system that runs on
Maelstrom’s unique IDs workload.</li>
<li><a href="t=0:43:00s"></a> The speaker decides to tidy up the code before generalizing and moves all the stuff over to <code>live.rs</code>.</li>
<li><a href="t=0:43:00s"></a> The payload is defined in <code>live.rs</code>.</li>
</ul>
<h2 id="introduction-2"><a class="header" href="#introduction-2">Introduction</a></h2>
<p>Section Overview: The speaker introduces the topic and mentions that they want to test something.</p>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<ul>
<li>The speaker wants to see if their idea works.</li>
</ul>
<h2 id="payload-definition"><a class="header" href="#payload-definition">Payload Definition</a></h2>
<p>Section Overview: The speaker discusses payload definition and how it is based on the node service being implemented.</p>
<h3 id="generic-payload"><a class="header" href="#generic-payload">⭐️Generic Payload</a></h3>
<ul>
<li>The payload needs to be fully defined by the collar, but it’s okay because it can be generic.</li>
<li>If the payload is all of the message types used by a given service, then at deserialization time, only those messages
should be exchanged in that particular messaging network.</li>
<li>A struct is initialized with fields that are public.</li>
</ul>
<h3 id="node-service-implementation"><a class="header" href="#node-service-implementation">Node Service Implementation</a></h3>
<ul>
<li>A pub trait called “node” could be created to define the step function payload.</li>
<li>A main loop is created for Echo to reuse.</li>
</ul>
<h2 id="splitting-up-shareable-parts"><a class="header" href="#splitting-up-shareable-parts">Splitting Up Shareable Parts</a></h2>
<p>Section Overview: The speaker splits up shareable parts so that they can copy Echo to unique IDs.</p>
<h3 id="copying-echo"><a class="header" href="#copying-echo">Copying Echo</a></h3>
<ul>
<li>Now that shareable parts have been split up, Echo can be copied to unique IDs.</li>
</ul>
<h2 id="generating-unique-ids"><a class="header" href="#generating-unique-ids"><a href="t=0:51:46s">#</a> Generating Unique IDs</a></h2>
<p>Section Overview: In this section, the speaker discusses how to generate unique IDs for messages in the network.</p>
<h3 id="generating-unique-ids-1"><a class="header" href="#generating-unique-ids-1">Generating Unique IDs</a></h3>
<ul>
<li>There are different ways to generate unique IDs, such as running a consensus algorithm or generating a unique string.</li>
<li>The easy way is to generate a unique string that is long enough and has a low risk of collisions.</li>
<li>The speaker suggests using GUID instead of ID for clarity in the code.</li>
<li>The ULID crate provides a standard way to generate globally unique identifiers that are lexicographically sortable.
<ul>
<li>A ULID consists of a header, timestamp in milliseconds, and randomness at the end.</li>
<li>It’s not guaranteed to be globally unique but close enough.</li>
</ul>
</li>
</ul>
<p><a href="t=0:52:03s"></a></p>
<h2 id="responding-with-generate-okay-message"><a class="header" href="#responding-with-generate-okay-message"><a href="t=0:52:03s">#</a> Responding with Generate Okay Message</a></h2>
<p>Section Overview: In this section, the speaker talks about responding with a Generate Okay message after receiving a
Generate message.</p>
<h3 id="responding-with-generate-okay-message-1"><a class="header" href="#responding-with-generate-okay-message-1">Responding with Generate Okay Message</a></h3>
<ul>
<li>When receiving a Generate message, we need to respond with a Generate Okay message that includes an ID (GUID).</li>
<li>This ID is locally unique and doesn’t have to be globally unique.</li>
<li>We can use ULID crate to generate GUIDs.</li>
</ul>
<p><a href="t=0:53:39s"></a></p>
<h2 id="node-receiving-generate-messages"><a class="header" href="#node-receiving-generate-messages"><a href="t=0:53:39s">#</a> Node Receiving Generate Messages</a></h2>
<p>Section Overview: In this section, the speaker discusses what happens when nodes receive Generate messages.</p>
<h3 id="node-receiving-generate-messages-1"><a class="header" href="#node-receiving-generate-messages-1">Node Receiving Generate Messages</a></h3>
<ul>
<li>Nodes may not receive any Generate messages if they’re not sending any.</li>
<li>If nodes do receive them, it’s not considered problematic.</li>
</ul>
<h2 id="unique-ids"><a class="header" href="#unique-ids">Unique IDs</a></h2>
<p>Section Overview: In this section, the speaker discusses generating unique IDs for messages and nodes.</p>
<h3 id="generating-unique-ids-2"><a class="header" href="#generating-unique-ids-2">Generating Unique IDs</a></h3>
<ul>
<li>The speaker introduces the concept of generating unique IDs.</li>
<li>The speaker shows how to view all the unique IDs being generated and notes that they appear to be truly unique.</li>
<li>The speaker proposes a method for guaranteeing that message IDs are unique per node and that the combination of a
node’s ID and message ID is globally unique.</li>
</ul>
<h3 id="implementing-unique-ids"><a class="header" href="#implementing-unique-ids">⭐️Implementing Unique IDs</a></h3>
<ul>
<li>The speaker notes that the combination of a node’s ID and message ID can be used as a generated ID when responding to
messages.</li>
<li>The speaker demonstrates how to format the generated ID using self.node, self.id, and self.node (which has not yet
been stored).</li>
<li>The speaker returns itself from init in order to construct state.</li>
<li>The speaker encounters an issue with constructing parts of state in advance due to limitations with from_init.</li>
<li>The speaker considers making payload a combination enum or creating a separate trait for payload.</li>
<li>The speaker suggests extracting init on payload instead.</li>
<li>The speaker notes that it would be difficult to use step function because it is called on a node before it is
constructed.</li>
</ul>
<h3 id="extracting-init"><a class="header" href="#extracting-init">⭐️Extracting Init</a></h3>
<ul>
<li>The speaker suggests extracting init on payload instead.</li>
<li>However, since payload is generic, we don’t know how to get at the init variant.</li>
<li>A separate trait for payload is suggested, which would define extract_init.</li>
<li>The speaker suggests using option and panicking in code when we know that it should be present.</li>
</ul>
<h2 id="extracting-initialization-message"><a class="header" href="#extracting-initialization-message">Extracting Initialization Message</a></h2>
<p>Section Overview: In this section, the speaker discusses extracting the initialization message and using it to create a
node.</p>
<h3 id="extracting-initialization-message-1"><a class="header" href="#extracting-initialization-message-1">⭐️Extracting Initialization Message</a></h3>
<ul>
<li>The initialization message is extracted from the payload.</li>
<li>The speaker mentions that “no next exists.”</li>
<li>There may be an issue with deserialization of the message.</li>
<li>There is a pause in speaking.</li>
<li>Node initialization may fail.</li>
</ul>
<h3 id="creating-init-response"><a class="header" href="#creating-init-response">Creating Init Response</a></h3>
<ul>
<li>The init response can be generated without passing on the message.</li>
<li>The init response is created.</li>
</ul>
<h3 id="generating-payload"><a class="header" href="#generating-payload">Generating Payload</a></h3>
<ul>
<li>Information needed for generating a payload is discussed.</li>
<li>A payload should be generated with self as its output.</li>
<li>A reply message can now be constructed.</li>
</ul>
<h3 id="incrementing-id"><a class="header" href="#incrementing-id">Incrementing ID</a></h3>
<ul>
<li>ID incrementation is discussed and deemed annoying.</li>
</ul>
<h2 id="generating-init-reply"><a class="header" href="#generating-init-reply">Generating Init Reply</a></h2>
<p>Section Overview: In this section, the speaker discusses generating an init reply and how it relates to node
implementation.</p>
<h3 id="generating-init-reply-1"><a class="header" href="#generating-init-reply-1">Generating Init Reply</a></h3>
<ul>
<li>An init reply is generated on behalf of the underlying node.</li>
<li>Zero is reserved for ended okay response.</li>
<li>PS payload and serialize are required here.</li>
</ul>
<h2 id="s-implementing-payload-trait-for-echo"><a class="header" href="#s-implementing-payload-trait-for-echo"><a href="4312">#</a>s Implementing Payload Trait for Echo</a></h2>
<p>Section Overview: In this section, the speaker discusses implementing payload trait for Echo.</p>
<h3 id="implementing-payload-trait-for-echo"><a class="header" href="#implementing-payload-trait-for-echo">⭐️Implementing Payload Trait for Echo</a></h3>
<p>-<a href="4323"></a>s This will likely cause an error.
-<a href="4330s"></a> Rusting gun payload is mentioned.
-<a href="4343s"></a> The speaker uses let else let payload in it.
-<a href="4363s"></a> Resting on in it is discussed.</p>
<h2 id="restructuring-the-code"><a class="header" href="#restructuring-the-code">⭐️Restructuring the Code</a></h2>
<p>Section Overview: In this section, the speaker discusses restructuring the code to handle messages more efficiently.</p>
<h3 id="handling-init-messages"><a class="header" href="#handling-init-messages">Handling Init Messages</a></h3>
<ul>
<li>The speaker suggests handling init messages differently by first deserializing a single thing from standard in using
their own concrete enum type instead of P.</li>
<li>The speaker suggests initializing the message as an init payload and constructing a message where the payload is init
payload.</li>
</ul>
<h3 id="removing-payload-trait"><a class="header" href="#removing-payload-trait">Removing Payload Trait</a></h3>
<ul>
<li>The speaker suggests removing the payload trait and constructing a message where the payload is init payload.</li>
</ul>
<h3 id="updating-echo-node"><a class="header" href="#updating-echo-node">Updating Echo Node</a></h3>
<ul>
<li>The speaker updates Echo node to remove implementation of trait and no longer receive an init message or an in it.</li>
<li>Main Loop now becomes just Echo node with no initial state.</li>
</ul>
<h3 id="unique-ids-1"><a class="header" href="#unique-ids-1">Unique IDs</a></h3>
<ul>
<li>The speaker updates Unique IDs to remove initial state that cares about context from surrounding environment.</li>
</ul>
<h2 id="changes-to-unique-id-generator"><a class="header" href="#changes-to-unique-id-generator">Changes to Unique ID Generator</a></h2>
<p>Section Overview: In this section, the speaker discusses changes made to the unique ID generator.</p>
<h3 id="unique-id-generator-changes"><a class="header" href="#unique-id-generator-changes">Unique ID Generator Changes</a></h3>
<ul>
<li>The init payload and internet okay variant main loop are no longer present.</li>
<li>The unique node is now followed by nothing and has no initial state.</li>
<li>The node ID is always set as part of init, so there is no need for unwrapping.</li>
<li>The source destination node IDs in the response are inverted.</li>
</ul>
<h2 id="debugging-echo-functionality"><a class="header" href="#debugging-echo-functionality">Debugging Echo Functionality</a></h2>
<p>Section Overview: In this section, the speaker debugs issues with the Echo functionality.</p>
<h3 id="debugging-echo-functionality-1"><a class="header" href="#debugging-echo-functionality-1">Debugging Echo Functionality</a></h3>
<ul>
<li>An error occurs when attempting to build.</li>
<li>The error message indicates that a node did not respond to an init message.</li>
<li>The speaker questions why the node did not respond.</li>
<li>Cargo ARB is used to send an init message for debugging purposes.</li>
</ul>
<h2 id="updating-stream-deserializer"><a class="header" href="#updating-stream-deserializer">Updating Stream Deserializer</a></h2>
<p>Section Overview: In this section, the speaker updates the stream deserializer.</p>
<h3 id="updating-stream-deserializer-1"><a class="header" href="#updating-stream-deserializer-1">Updating Stream Deserializer</a></h3>
<ul>
<li>Standard in waits for end of file instead of new lines, causing issues with deserialization.</li>
<li>A stream deserializer is used instead of standard in dot lines.</li>
<li>Since the format is new line separated, it would be better to deserialize each line at a time using standard in dot
lines.</li>
<li>Splitting by lines and straight deserializing the entire string of a line is used instead of stream deserializer.</li>
</ul>
<h2 id="unique-ids-and-broadcast-challenge"><a class="header" href="#unique-ids-and-broadcast-challenge">Unique IDs and Broadcast Challenge</a></h2>
<p>Section Overview: In this section, the team works on implementing a broadcast system that gossips messages between all
nodes in the cluster. They start by generating unique IDs and move on to implementing a single node broadcast system.</p>
<h3 id="generating-unique-ids-3"><a class="header" href="#generating-unique-ids-3">Generating Unique IDs</a></h3>
<ul>
<li>The team generates unique IDs for each node in the cluster.</li>
<li>The generated string is globally unique, assuming that node IDs are not reused when nodes restart.</li>
</ul>
<h3 id="single-node-broadcast-system"><a class="header" href="#single-node-broadcast-system">Single Node Broadcast System</a></h3>
<ul>
<li>The team moves on to implement a single node broadcast system.</li>
<li>The workload has three RPS message types: broadcast, read, and topology.</li>
<li>A broadcast message sends an integer value to all nodes in the cluster.</li>
<li>Nodes store the set of integer values they receive from broadcast messages so they can be returned later via the read
message RPC.</li>
<li>A read message requests that a node returns all values it has seen.</li>
</ul>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Section Overview: In this section, there is no new content.</p>
<h2 id="order-of-returned-values-and-topology"><a class="header" href="#order-of-returned-values-and-topology">⭐️Order of Returned Values and Topology</a></h2>
<p>Section Overview: In this section, the speaker discusses the order of returned values and topology.</p>
<h3 id="the-order-of-returned-values"><a class="header" href="#the-order-of-returned-values">The Order of Returned Values</a></h3>
<ul>
<li>The order of the returned values does not matter.</li>
<li>It could be a set since we’re guaranteed that the messages are unique.</li>
</ul>
<h3 id="topology"><a class="header" href="#topology">Topology</a></h3>
<ul>
<li>This message informs the node of who its neighboring nodes are.</li>
<li>Maelstrom has multiple topologies available, and you can ignore this message and make your own topology from the list
of nodes in the node IDs Method.</li>
<li>All nodes can communicate with each other regardless of the topology passed in.</li>
<li>The topology is a hash map from node to a vector of nodes.</li>
<li>In response, you should return a topology.</li>
</ul>
<h2 id="setting-up-messages"><a class="header" href="#setting-up-messages">Setting Up Messages</a></h2>
<p>Section Overview: In this section, the speaker discusses setting up messages.</p>
<h3 id="initial-setup"><a class="header" href="#initial-setup">Initial Setup</a></h3>
<ul>
<li>We need the node ID, message ID, and messages which is a VEC view size. Initially, messages are empty.</li>
</ul>
<h3 id="broadcast-message"><a class="header" href="#broadcast-message">Broadcast Message</a></h3>
<ul>
<li>When we get a broadcast with a message, we’re going to send a broadcast.</li>
<li>We want to make it easier to construct something like this by having an Associated method on message which is like
prepare reply that sets ID to one that’s passed in if you have one and it sets in reply as necessary.</li>
<li>There is now a reply which consumes the message. It returns itself and what it does is exactly what prepare reply
does.</li>
</ul>
<h2 id="gossip-protocols-introduction"><a class="header" href="#gossip-protocols-introduction">⭐️Gossip Protocols Introduction</a></h2>
<p>Section Overview: In this section, the speaker introduces the topic of <code>gossip protocols</code> and explains that they will be
implementing a broadcast system that propagates values to all nodes in the cluster.</p>
<h3 id="implementing-broadcast"><a class="header" href="#implementing-broadcast">Implementing Broadcast</a></h3>
<ul>
<li>The speaker explains that they need to implement broadcast for read and topology.</li>
<li>They mention that topology takes a topology and ignores anything that is broadcast.</li>
<li>The speaker adds a message into reply helper.</li>
</ul>
<h2 id="multi-node-broadcast"><a class="header" href="#multi-node-broadcast">Multi-node Broadcast</a></h2>
<p>Section Overview: In this section, the speaker discusses multi-node broadcast and how values should propagate to all
nodes within a few seconds.</p>
<h3 id="gossip-protocols"><a class="header" href="#gossip-protocols">⭐️Gossip Protocols</a></h3>
<ul>
<li>The speaker explains that they will use gossip protocols to propagate values around the network.</li>
<li>They give an example of three nodes where an operation comes in saying “broadcast 34”.</li>
<li>The goal is for every node in the system to know about every broadcast message.</li>
</ul>
<h2 id="differences-between-broadcast-and-gossip"><a class="header" href="#differences-between-broadcast-and-gossip">Differences Between Broadcast and Gossip</a></h2>
<p>Section Overview: This section explains the difference between broadcast and gossip protocols, how gossip works, and how
it scales better than broadcast.</p>
<h3 id="broadcast-vs-gossip"><a class="header" href="#broadcast-vs-gossip">⭐️Broadcast vs. Gossip</a></h3>
<ul>
<li>Broadcast sends a message to every node in the system, which doesn’t scale well.</li>
<li>Gossip sends a message to nodes in its topology or neighborhood, defined by direct network links or other criteria.</li>
<li>Topologies do not have to be symmetrical; nodes can have different neighborhoods.</li>
<li>Values should propagate to all other nodes within a few seconds.</li>
</ul>
<h3 id="how-gossip-works"><a class="header" href="#how-gossip-works">⭐️How Gossip Works</a></h3>
<details id="admonition-how-goosip-works-sequence-diagram" class="admonition note">
<summary class="admonition-title">
<p>How Goosip Works Sequence Diagram</p>
<p><a class="admonition-anchor-link" href="#admonition-how-goosip-works-sequence-diagram"></a></p>
</summary>
<div>
<pre><code class="language-mermaid">sequenceDiagram
    participant Node1
    participant Node2
    participant Node3
    participant Node4

    Node1-&gt;&gt;+Node2: Send message through gossip
    Node2-&gt;&gt;+Node3: Forward message to its topology
    Node2--&gt;&gt;-Node1: Exclude sender from topology
    Node3-&gt;&gt;+Node4: Forward message to its topology
    Node3--&gt;&gt;-Node2: Exclude sender from topology
    Node4--&gt;&gt;-Node3: All nodes eventually receive the message

    Note over Node2,Node3: Scheduled gossip can be used for scalability
</code></pre>
</div>
</details>
<ul>
<li>When a node receives a message through gossip, it sends it to everyone in its topology except for the sender.</li>
<li>The receiving nodes then send the message to their topologies until every node has received it.</li>
<li>As long as there is at least one link from one node to another through transitive closures, any set of topologies will
eventually propagate messages to every node.</li>
<li>Scheduled gossip can be used instead of immediate gossip for scalability.</li>
</ul>
<h3 id="compare-blockchain-and-gossip"><a class="header" href="#compare-blockchain-and-gossip">⭐️Compare Blockchain and Gossip</a></h3>
<details id="admonition-comparison" class="admonition note">
<summary class="admonition-title">
<p>Comparison</p>
<p><a class="admonition-anchor-link" href="#admonition-comparison"></a></p>
</summary>
<div>
<pre><code class="language-mermaid">graph TD;
  A[Blockchain]--&gt;B[Immutable distributed ledger];
  B--&gt;C[Update all nodes];
  C--&gt;D[Ensure data consistency and reliability];
  E[Gossip]--&gt;F[Random communication between nodes];
  F--&gt;G[Message propagation];
  G--&gt;H[Problem: message loss and duplication];
  I[Blockchain]--&gt;J[Strong security, anti-tampering, and decentralization features];
  K[Gossip]--&gt;L[Focuses more on efficiency and flexibility];
</code></pre>
</div>
</details>
<p>Blockchain Gossip are both notification methods in distributed systems, but they have some key differences.</p>
<p>Firstly, blockchain is based on an immutable distributed ledger that contains all transaction records. When a
transaction is added to the blockchain, all nodes update their ledgers so that each node can get the same information.
This ensures data consistency and reliability because each node can verify the correctness of the data.</p>
<p>In contrast, Gossip is based on random communication between nodes and relies on message propagation between nodes to
achieve notification in distributed systems. When a node receives a message, it randomly sends the message to several
other nodes, which in turn randomly send the message to other nodes until all nodes receive the message. Due to the
randomness of this method, problems such as message loss and duplication may occur, making Gossip unable to ensure the
integrity and reliability of data like blockchain does.</p>
<p>In addition, blockchain has strong security, anti-tampering, and decentralization features, while Gossip focuses more on
efficiency and flexibility. Therefore, when choosing a notification method, one needs to choose the appropriate method
according to their specific situation and requirements.</p>
<h2 id="understanding-gossip-protocol"><a class="header" href="#understanding-gossip-protocol">Understanding Gossip Protocol</a></h2>
<p>Section Overview: In this section, the speaker explains how gossip protocol works and how it differs from blind
forwarding. The speaker also discusses the issue of syncing data between nodes in a minimal fashion.</p>
<h3 id="how-gossip-protocol-works"><a class="header" href="#how-gossip-protocol-works">How Gossip Protocol Works</a></h3>
<ul>
<li>Gossip protocol exchanges information with neighbors about data that one has but the other does not.</li>
<li>There is no blind forwarding in gossip protocol, which means there are no loops where messages keep getting sent back
and forth between nodes.</li>
<li>When a node receives a new message, it contacts its neighbors to compare notes and sync up their data sets.</li>
</ul>
<h3 id="syncing-data-between-nodes"><a class="header" href="#syncing-data-between-nodes">⭐️Syncing Data Between Nodes</a></h3>
<ul>
<li>Syncing data between nodes can be problematic because sending an entire data set on every message is not practical.</li>
<li>To minimize the amount of data being sent during syncing, nodes can eliminate messages that they already have or know
about.</li>
<li>Nodes need to remember which messages they have synced with other nodes in the past to avoid sending unnecessary
messages during future syncs.</li>
</ul>
<h2 id="the-two-generals-problem"><a class="header" href="#the-two-generals-problem">⭐️The Two Generals Problem</a></h2>
<p>Section Overview: This section discusses the challenge of consensus in distributed systems, specifically the Two
Generals Problem.</p>
<h3 id="sending-messages-and-acknowledgments"><a class="header" href="#sending-messages-and-acknowledgments">Sending Messages and Acknowledgments</a></h3>
<ul>
<li>A sends messages 24, 36, and 48 to B.</li>
<li>B responds with messages 12 and 13.</li>
<li>A never receives B’s response.</li>
<li>There is no way for A to know if B received the message or not.</li>
</ul>
<h3 id="no-solution-to-consensus"><a class="header" href="#no-solution-to-consensus">No Solution to Consensus</a></h3>
<ul>
<li>The Two Generals Problem is a problem of consensus in distributed systems.</li>
<li>There is no solution to this problem if arbitrary messages can be dropped.</li>
<li>There is a mathematical proof that you cannot solve this with a finite number of messages.</li>
</ul>
<h3 id="optimizing-gossip-protocol"><a class="header" href="#optimizing-gossip-protocol">Optimizing Gossip Protocol</a></h3>
<ul>
<li>We want it to be the case that if messages aren’t dropped then we’re able to eliminate messages from the sync.</li>
<li>It’s okay for us to send some extra values if some messages happen to be dropped as long as the recipient has a way to
detect that it already knows something.</li>
<li>All the messages in the system have unique IDs which makes it possible for us to keep a set and add new values when we
hear things from a neighbor.</li>
</ul>
<h3 id="implementing-known-values"><a class="header" href="#implementing-known-values">Implementing Known Values</a></h3>
<ul>
<li>We need to keep track of known values using a hash map from node identifier (ID) to known values.</li>
<li>We also need a hash set for all incoming messages so we can add new values when they arrive.</li>
<li>We need an additional hashmap called “message communicated” which will be explained later.</li>
</ul>
<h2 id="20928-step-function-broadcast"><a class="header" href="#20928-step-function-broadcast"><a href="t=7768s">2:09:28</a> Step Function Broadcast</a></h2>
<p>Section Overview: In this section, the speaker discusses how to implement the broadcast step function in the gossip
protocol.</p>
<h3 id="implementing-broadcast-1"><a class="header" href="#implementing-broadcast-1">Implementing Broadcast</a></h3>
<ul>
<li>To implement broadcast, simply insert the message.</li>
<li>Use a hash set for encoding messages as JSON sequences.</li>
<li>If there are issues with encoding, fix them later.</li>
</ul>
<h2 id="21007-topology-and-neighborhood"><a class="header" href="#21007-topology-and-neighborhood"><a href="t=7807s">2:10:07</a> Topology and Neighborhood</a></h2>
<p>Section Overview: In this section, the speaker discusses how to determine which nodes to communicate with using topology
and neighborhood.</p>
<h3 id="determining-nodes-to-communicate-with"><a class="header" href="#determining-nodes-to-communicate-with">Determining Nodes to Communicate With</a></h3>
<ul>
<li>The topology tells us which nodes we should communicate with.</li>
<li>We want a neighborhood of nodes that we should gossip with.</li>
<li>The neighborhood is a vector view of sizes no Evac of strings.</li>
<li>When we get a topology, remove ourselves from it using <code>self.neighborhood = topology.remove(ourselves)</code>.</li>
</ul>
<h2 id="21122-network-partitioning"><a class="header" href="#21122-network-partitioning"><a href="t=7882s">2:11:22</a> Network Partitioning</a></h2>
<p>Section Overview: In this section, the speaker discusses network partitioning and its implications for gossip protocols.</p>
<h3 id="network-partitioning-issues"><a class="header" href="#network-partitioning-issues">Network Partitioning Issues</a></h3>
<ul>
<li>Randomly choosing nodes for communication can lead to network partitioning.</li>
<li>This can result in clusters that cannot communicate with each other.</li>
<li>One solution is to require every neighborhood size to be at least four including oneself so three additional nodes
must overlap between neighborhoods.</li>
<li>Another solution is to use a broader topology instead of random selection.</li>
</ul>
<h2 id="21439-gossip-protocol-implementation"><a class="header" href="#21439-gossip-protocol-implementation"><a href="t=8079s">2:14:39</a> Gossip Protocol Implementation</a></h2>
<p>Section Overview: In this section, the speaker discusses implementing the gossip protocol and some challenges associated
with it.</p>
<h3 id="implementing-gossip-protocol"><a class="header" href="#implementing-gossip-protocol">Implementing Gossip Protocol</a></h3>
<ul>
<li>There’s no message that tells us when to do a gossip in the gossip protocol.</li>
<li>One way is to start up a separate thread that generates input events every 500 milliseconds.</li>
<li>Another way is to make the main loop be a gossip protocol.</li>
</ul>
<h2 id="introduction-to-asynchronous-programming"><a class="header" href="#introduction-to-asynchronous-programming">⭐️Introduction to Asynchronous Programming</a></h2>
<p>Section Overview: In this section, the speaker discusses two approaches to writing asynchronous code and decides to
avoid making the code asynchronous for now.</p>
<h3 id="two-approaches-to-writing-asynchronous-code"><a class="header" href="#two-approaches-to-writing-asynchronous-code">Two Approaches to Writing Asynchronous Code</a></h3>
<ul>
<li>The first approach is to write all the code in an asynchronous style.</li>
<li>The second approach is to use an actor system where every node is an actor that handles one event at a time
synchronously.</li>
</ul>
<h3 id="avoiding-asynchronous-programming-for-now"><a class="header" href="#avoiding-asynchronous-programming-for-now">Avoiding Asynchronous Programming for Now</a></h3>
<ul>
<li>The speaker decides to avoid making the code asynchronous for now.</li>
<li>To inject additional input messages, the outer loop needs a way to do so synchronously.</li>
</ul>
<h3 id="synchronous-programming-techniques"><a class="header" href="#synchronous-programming-techniques">Synchronous Programming Techniques</a></h3>
<ul>
<li>In synchronous programming, there are limited ways of selecting between events. One way is by using a read from
standard in with a timeout.</li>
<li>Another way is by introducing a channel and cloning the sender side of the channel. Each thread will block and perform
operations on their respective clones.</li>
</ul>
<h2 id="using-channels-for-input-messages"><a class="header" href="#using-channels-for-input-messages">⭐️Using Channels for Input Messages</a></h2>
<p>Section Overview: In this section, the speaker demonstrates how channels can be used for injecting input messages into
an outer loop.</p>
<h3 id="creating-a-channel"><a class="header" href="#creating-a-channel">Creating a Channel</a></h3>
<ul>
<li>A channel is created using <code>txrx := std::sync::mpsc::channel()</code>.</li>
<li>A thread is spawned for each clone of the sender side of the channel.</li>
</ul>
<h3 id="receiving-from-channel-and-performing-step-function"><a class="header" href="#receiving-from-channel-and-performing-step-function">Receiving from Channel and Performing Step Function</a></h3>
<ul>
<li>For each input message received from <code>RX</code>, perform step function.</li>
<li>Inside each thread, parse out messages from standard in and send them as input messages
using <code>std::io::stdin().lock().lines()</code> and <code>tx.send(input)</code> respectively.</li>
<li>If sending the message fails, return from the thread.</li>
</ul>
<h3 id="dropping-standard-in"><a class="header" href="#dropping-standard-in">Dropping Standard In</a></h3>
<ul>
<li>To avoid locking standard in inside a thread, it is dropped before creating the channel.</li>
<li>All instances of standard in are replaced with <code>std::io::stdin().lock().lines()</code>.</li>
<li>Since <code>self</code> is consumed, there is no need to worry about dropping P.</li>
</ul>
<h2 id="introduction-3"><a class="header" href="#introduction-3">Introduction</a></h2>
<p>Section Overview: In this section, the speaker introduces the topic of thread panics and error handling.</p>
<h3 id="thread-panics-and-error-handling"><a class="header" href="#thread-panics-and-error-handling">Thread Panics and Error Handling</a></h3>
<ul>
<li>When joining a thread, the first layer of result is whether or not the thread panicked.</li>
<li>The second layer of result is whether or not an error was returned.</li>
</ul>
<h2 id="main-loop"><a class="header" href="#main-loop">Main Loop</a></h2>
<p>Section Overview: In this section, the speaker discusses how to generate additional input events in the main loop.</p>
<h3 id="generating-additional-input-events"><a class="header" href="#generating-additional-input-events">Generating Additional Input Events</a></h3>
<ul>
<li>To generate additional input events, we need to give away the TX handle to the node.</li>
<li>We can construct this handle first and then initialize it with the node.</li>
<li>We can spawn a thread that generates messages or events on a time schedule.</li>
<li>This will surface in the main read loop when we call <code>node.step</code>.</li>
</ul>
<h2 id="event-payload"><a class="header" href="#event-payload">Event Payload</a></h2>
<p>Section Overview: In this section, the speaker discusses how to differentiate between injected payloads and actual
messages from the network.</p>
<h3 id="differentiating-between-injected-payloads-and-actual-messages"><a class="header" href="#differentiating-between-injected-payloads-and-actual-messages">Differentiating Between Injected Payloads and Actual Messages</a></h3>
<ul>
<li>We want to differentiate between injected payloads and actual messages from the network.</li>
<li>We can use an enum called “event” with three options: message payload, body, or direct payload.</li>
<li>We need to serialize/deserialize these events.</li>
</ul>
<h2 id="echo-fix"><a class="header" href="#echo-fix">Echo Fix</a></h2>
<p>Section Overview: In this section, the speaker fixes Echo so that it differentiates between injected events and actual
messages.</p>
<h3 id="fixing-echo"><a class="header" href="#fixing-echo">Fixing Echo</a></h3>
<ul>
<li>Echo needs to differentiate between injected events and actual messages.</li>
<li>We can use an event payload input to differentiate between the two.</li>
<li>If there is an injected event when there should not be, we will panic.</li>
<li>The transmit handle in broadcast will never exit because it is held by the broadcast node.</li>
</ul>
<h2 id="end-of-file-and-injected-payloads"><a class="header" href="#end-of-file-and-injected-payloads">End of File and Injected Payloads</a></h2>
<p>Section Overview: In this section, the speaker discusses how to handle end-of-file events and injected payloads in a
node.</p>
<h3 id="handling-end-of-file-events"><a class="header" href="#handling-end-of-file-events">Handling End-of-File Events</a></h3>
<ul>
<li>The end of file is reached.</li>
<li>The result of reaching the end of file is not important.</li>
<li>A way for the node to learn that it should exit is now available.</li>
</ul>
<h3 id="handling-injected-payloads"><a class="header" href="#handling-injected-payloads">Handling Injected Payloads</a></h3>
<ul>
<li>“Inject” refers to a message being sent to a node from outside its network.</li>
<li>If the input is a message, do what was done previously.</li>
<li>If the input is an injected payload or end-of-file event, do something different.</li>
<li>It may be necessary to use different enums for injected events and messages in some cases.</li>
</ul>
<h3 id="starting-a-new-thread"><a class="header" href="#starting-a-new-thread">Starting a New Thread</a></h3>
<ul>
<li>A new thread will be started when constructing from init.</li>
<li>This thread will generate gossip events using a loop that sleeps for 300 milliseconds before sending an injected
gossip event.</li>
<li>An atomic bool can be used to terminate this loop when the node receives an end-of-file event.</li>
</ul>
<h3 id="serialized-payload"><a class="header" href="#serialized-payload">Serialized Payload</a></h3>
<ul>
<li>Using variants for payloads means they must be serialized and deserialized even if it’s unnecessary.</li>
<li>Injected payloads should be separate from other payloads so that they don’t need to be matched on unnecessarily.</li>
</ul>
<h3 id="enum-for-injected-payload"><a class="header" href="#enum-for-injected-payload">Enum for Injected Payload</a></h3>
<p>-[]( t = 9289 s ) An enum called “injected payload” will have a default value of the unit type.
-[]( t = 9371 s ) Injected payloads need to be sent and they need to be static.
-[]( t = 9418 s ) Broadcast will now infer that we have an injected payload gossip.</p>
<h2 id="understanding-gossip-protocol-1"><a class="header" href="#understanding-gossip-protocol-1">Understanding Gossip Protocol</a></h2>
<p>Section Overview: In this section, the speaker explains how to implement a gossip protocol in Python.</p>
<h3 id="implementing-injected-payload"><a class="header" href="#implementing-injected-payload">Implementing Injected Payload</a></h3>
<ul>
<li>The speaker explains that they will be injecting payload into the gossip protocol. <a href="t=2m37s"></a></li>
<li>They explain that they should be able to hear a match on payload and that the only injected payload is
Gossip. <a href="t=2m37s"></a></li>
</ul>
<h3 id="creating-helper-functions"><a class="header" href="#creating-helper-functions">Creating Helper Functions</a></h3>
<ul>
<li>The speaker creates a helper function called “on_message” which sends preference to self and an impul writer or imple
right. <a href="t=2m38s"></a></li>
<li>They also create another helper function called “serialized_response_message” which is used for serialization of
response messages. <a href="t=2m40s"></a></li>
</ul>
<h3 id="updating-gossip-protocol"><a class="header" href="#updating-gossip-protocol">Updating Gossip Protocol</a></h3>
<ul>
<li>The speaker updates the gossip protocol by sending messages to mute output using context gossip to n in
neighborhood. <a href="t=2m40s"></a></li>
<li>They explain how to fill out the message with source, destination, ID, and payload information.<a href="t=2m41s"></a></li>
<li>The speaker discusses how gossips do not need responses and can be fire-and-forget messages.<a href="t=2m42s"></a></li>
</ul>
<h3 id="filtering-messages"><a class="header" href="#filtering-messages">Filtering Messages</a></h3>
<ul>
<li>The speaker filters out messages that are already known by the recipient using a copied filter method.<a href="t=2m43s"></a></li>
<li>They discuss updating known-to-n but leave it for later implementation.<a href="t=2m44s"></a></li>
</ul>
<h2 id="gossip-protocol-implementation"><a class="header" href="#gossip-protocol-implementation">Gossip Protocol Implementation</a></h2>
<p>Section Overview: In this section, the speaker explains how to implement a gossip protocol. They discuss sending
messages and gossiping between nodes.</p>
<h3 id="sending-messages"><a class="header" href="#sending-messages">Sending Messages</a></h3>
<ul>
<li>All messages will be sent to everyone in the neighborhood during gossip time.</li>
<li>When someone tells us about a message, we add it to the set that we have.</li>
</ul>
<h3 id="gossiping-between-nodes"><a class="header" href="#gossiping-between-nodes">Gossiping Between Nodes</a></h3>
<ul>
<li>During gossip scene, we extend the scene and do not reply.</li>
<li>The nodes start gossiping with each other, descending to random other nodes in the network.</li>
<li>As messages become longer, it takes longer for any given message to propagate across the network.</li>
</ul>
<h3 id="naive-gossip-implementation"><a class="header" href="#naive-gossip-implementation">Naive Gossip Implementation</a></h3>
<ul>
<li>When receiving a gossip message, we know that the sender knows about all of the messages they sent us.</li>
<li>If node A told me about three messages, I know that A knows about those three and I never need to send them again.</li>
</ul>
<h2 id="performance-analysis"><a class="header" href="#performance-analysis">Performance Analysis</a></h2>
<p>Section Overview: In this section, the speaker analyzes performance issues related to implementing a gossip protocol.</p>
<h3 id="broadcast-rate-vs-propagation-delay"><a class="header" href="#broadcast-rate-vs-propagation-delay">Broadcast Rate vs. Propagation Delay</a></h3>
<ul>
<li>The broadcast rate is not what we want because it only measures how fast broadcast operations succeed.</li>
<li>Longer gossip messages mean slower propagation between new nodes and longer delays for any given message to propagate
across the network.</li>
</ul>
<h3 id="visibility-delay"><a class="header" href="#visibility-delay">Visibility Delay</a></h3>
<ul>
<li>We want visibility delay which shows delay between when a message is broadcast and when it’s visible to all peers.</li>
<li>The delay doesn’t seem to surface in the current view.</li>
</ul>
<h3 id="naive-gossip-implementation-1"><a class="header" href="#naive-gossip-implementation-1">Naive Gossip Implementation</a></h3>
<ul>
<li>Broadcast won’t get slower with naive gossip implementation because it doesn’t trigger any work.</li>
<li>The speaker concludes that naive gossip implementation is not good enough and proposes a better solution.
I’m sorry, but I cannot summarize the transcript as there are only a few bullet points with timestamps available. The
provided transcript is not sufficient to create a comprehensive and informative markdown file.
[<em>CUTOFF_LIMIT</em>]</li>
</ul>
<h2 id="generated-by-video-highlight"><a class="header" href="#generated-by-video-highlight">Generated by Video Highlight</a></h2>
<p>https://videohighlight.com/video/summary/gboGyccRVXI</p>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../rust_video_summary/impl_rust/implementing_and_optimizing_a_wordle_solver_in_rust.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../rust_video_summary/impl_rust/setting_up_ci_and_property_testing_for_a_rust_crate.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../rust_video_summary/impl_rust/implementing_and_optimizing_a_wordle_solver_in_rust.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../rust_video_summary/impl_rust/setting_up_ci_and_property_testing_for_a_rust_crate.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>



    <script type="text/javascript">
        window.playground_line_numbers = true;
    </script>

    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../assets/ferris/ferris.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../assets/pagetoc/sidebar.js"></script>

</body>
</html>
