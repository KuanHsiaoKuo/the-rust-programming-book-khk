<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Dispatch and Fat Pointers - The Rust Programming Language</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../md-favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../assets/ferris/ferris.css">
        <link rel="stylesheet" href="../../theme/2018-edition.css">
        <link rel="stylesheet" href="../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../assets/css/mdbook-admonish.css">

</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('navy')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../not_involved_resources.html"><strong aria-hidden="true">1.</strong> Not Involved Resources</a></li><li class="chapter-item expanded "><a href="../../overviews.html"><strong aria-hidden="true">2.</strong> Overviews</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../overviews/rbe_radial_tree_embed.html"><strong aria-hidden="true">2.1.</strong> Rust By Examples</a></li></ol></li><li class="chapter-item expanded "><a href="../../title-page.html"><strong aria-hidden="true">3.</strong> Rust Topics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../cheat_sheets/cheat_sheets.html"><strong aria-hidden="true">3.1.</strong> Cheat Sheets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../cheat_sheets/rust_language_cheat_sheet.html"><strong aria-hidden="true">3.1.1.</strong> Rust Language Cheat Sheet</a></li><li class="chapter-item "><a href="../../cheat_sheets/quick_ref_me_rust.html"><strong aria-hidden="true">3.1.2.</strong> Quick Ref Me Rust</a></li><li class="chapter-item "><a href="../../cheat_sheets/phaiax_rust_cheet_sheet.html"><strong aria-hidden="true">3.1.3.</strong> Phaiax Rust Cheet Sheet</a></li></ol></li><li class="chapter-item "><a href="../../chatgpt_rust/chatgpt_rust_prompts.html"><strong aria-hidden="true">3.2.</strong> chatGPT Rust Q&A</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../chatgpt_rust/rust_grammar_experience_pitfalls.html"><strong aria-hidden="true">3.2.1.</strong> Experience & Pitfall</a></li></ol></li><li class="chapter-item expanded "><a href="../../rust_video_summary/rust_video_summary.html"><strong aria-hidden="true">3.3.</strong> Rust Video Summary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/code_to_the_moon/code_to_the_moon.html"><strong aria-hidden="true">3.3.1.</strong> Code to the Moon</a></li><li class="chapter-item "><a href="../../rust_video_summary/learn_rust_programming/learn_rust_programming.html"><strong aria-hidden="true">3.3.2.</strong> Learn Rust Programming</a></li><li class="chapter-item expanded "><a href="../../rust_video_summary/curst_of_rust/crust_of_rust.html"><strong aria-hidden="true">3.3.3.</strong> Crust Of Rust Series</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/async_await.html"><strong aria-hidden="true">3.3.3.1.</strong> Async/Await</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/atomics_and_memory_ordering.html"><strong aria-hidden="true">3.3.3.2.</strong> Atomics and Memory Ordering</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/channels.html"><strong aria-hidden="true">3.3.3.3.</strong> Channels</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/declarative_macros.html"><strong aria-hidden="true">3.3.3.4.</strong> Declarative Macros</a></li><li class="chapter-item expanded "><a href="../../rust_video_summary/curst_of_rust/dispatch_and_fat_pointers.html" class="active"><strong aria-hidden="true">3.3.3.5.</strong> Dispatch and Fat Pointers</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/functions_closures_and_their_traits.html"><strong aria-hidden="true">3.3.3.6.</strong> Functions, Closures and their traits</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/iterators.html"><strong aria-hidden="true">3.3.3.7.</strong> Iterators</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/lifetime_annotations.html"><strong aria-hidden="true">3.3.3.8.</strong> Lifetime Annotations</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/smart_pointers_and_interior_mutability.html"><strong aria-hidden="true">3.3.3.9.</strong> Smart Pointers And Interior Mutability</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/sorting_algorithms.html"><strong aria-hidden="true">3.3.3.10.</strong> Sorting Algorithms</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/subtyping_and_variance.html"><strong aria-hidden="true">3.3.3.11.</strong> Subtyping and Variance</a></li><li class="chapter-item "><a href="../../rust_video_summary/curst_of_rust/the_drop_check.html"><strong aria-hidden="true">3.3.3.12.</strong> The Drop Check</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/implementing_hazard_pointers.html"><strong aria-hidden="true">3.3.4.</strong> Implementing Hazard Pointers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part1.html"><strong aria-hidden="true">3.3.4.1.</strong> Part 1</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part2.html"><strong aria-hidden="true">3.3.4.2.</strong> Part 2</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part3.html"><strong aria-hidden="true">3.3.4.3.</strong> Part 3</a></li><li class="chapter-item "><a href="../../rust_video_summary/implementing_hazard_pointers_in_rust/part4.html"><strong aria-hidden="true">3.3.4.4.</strong> Part 4</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/impl_rust/impl_rust.html"><strong aria-hidden="true">3.3.5.</strong> Impl Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_video_summary/impl_rust/solving_distributed_system_challenges_in_rust.html"><strong aria-hidden="true">3.3.5.1.</strong> Solving Distributed System Challenges</a></li></ol></li><li class="chapter-item "><a href="../../rust_video_summary/open_source_streams/open_source_streams.html"><strong aria-hidden="true">3.3.6.</strong> Open-Source streams</a></li><li class="chapter-item "><a href="../../rust_video_summary/stop_duplicating_your_code.html"><strong aria-hidden="true">3.3.7.</strong> Stop Duplicating Your Code</a></li><li class="chapter-item "><a href="../../rust_video_summary/rust_crash_course_rustlang.html"><strong aria-hidden="true">3.3.8.</strong> Rust Crash Course</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.</strong> Associated Items</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../topics/at_gat.html"><strong aria-hidden="true">3.4.1.</strong> Associated type, Generic associate types</a></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.2.</strong> Associated Types</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/types.html"><strong aria-hidden="true">3.4.2.1.</strong> Associated types examples</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.3.</strong> Generic Associated Types</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.4.</strong> Associated Functions & Methods</div></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../title-page.html"><strong aria-hidden="true">4.</strong> The Rust Programming Language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../foreword.html"><strong aria-hidden="true">4.1.</strong> Foreword</a></li><li class="chapter-item "><a href="../../ch00-00-introduction.html"><strong aria-hidden="true">4.2.</strong> Introduction</a></li><li class="chapter-item "><a href="../../ch01-00-getting-started.html"><strong aria-hidden="true">4.3.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch01-01-installation.html"><strong aria-hidden="true">4.3.1.</strong> Installation</a></li><li class="chapter-item "><a href="../../ch01-02-hello-world.html"><strong aria-hidden="true">4.3.2.</strong> Hello, World!</a></li><li class="chapter-item "><a href="../../ch01-03-hello-cargo.html"><strong aria-hidden="true">4.3.3.</strong> Hello, Cargo!</a></li><li class="chapter-item "><a href="../../ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">4.3.4.</strong> Programming a Guessing Game</a></li><li class="chapter-item "><a href="../../ch03-00-common-programming-concepts.html"><strong aria-hidden="true">4.3.5.</strong> Common Programming Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch03-01-variables-and-mutability.html"><strong aria-hidden="true">4.3.5.1.</strong> ⚠️Variables and Mutability</a></li><li class="chapter-item "><a href="../../ch03-02-data-types.html"><strong aria-hidden="true">4.3.5.2.</strong> Data Types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/expression.html"><strong aria-hidden="true">4.3.5.3.</strong> RBE(Rust by Examples): Expressions and Statements</a></li><li class="chapter-item "><a href="../../ch03-03-how-functions-work.html"><strong aria-hidden="true">4.3.5.4.</strong> ✨Functions Basic: Statements, Expressions, Last Return, Early Return</a></li><li class="chapter-item "><a href="../../ch03-04-comments.html"><strong aria-hidden="true">4.3.5.5.</strong> Comments</a></li><li class="chapter-item "><a href="../../ch03-05-control-flow.html"><strong aria-hidden="true">4.3.5.6.</strong> Control Flow</a></li></ol></li><li class="chapter-item "><a href="../../ch04-00-understanding-ownership.html"><strong aria-hidden="true">4.3.6.</strong> Understanding Ownership</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch04-01-what-is-ownership.html"><strong aria-hidden="true">4.3.6.1.</strong> What is Ownership?</a></li><li class="chapter-item "><a href="../../ch04-02-references-and-borrowing.html"><strong aria-hidden="true">4.3.6.2.</strong> References and Borrowing</a></li><li class="chapter-item "><a href="../../ch04-03-slices.html"><strong aria-hidden="true">4.3.6.3.</strong> The Slice Type</a></li></ol></li><li class="chapter-item "><a href="../../ch05-00-structs.html"><strong aria-hidden="true">4.3.7.</strong> Using Structs to Structure Related Data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch05-01-defining-structs.html"><strong aria-hidden="true">4.3.7.1.</strong> Defining and Instantiating Structs</a></li><li class="chapter-item "><a href="../../ch05-02-example-structs.html"><strong aria-hidden="true">4.3.7.2.</strong> An Example Program Using Structs</a></li><li class="chapter-item "><a href="../../ch05-03-method-syntax.html"><strong aria-hidden="true">4.3.7.3.</strong> ✨Method Syntax</a></li></ol></li><li class="chapter-item "><a href="../../ch06-00-enums.html"><strong aria-hidden="true">4.3.8.</strong> Enums and Pattern Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch06-01-defining-an-enum.html"><strong aria-hidden="true">4.3.8.1.</strong> Defining an Enum</a></li><li class="chapter-item "><a href="../../ch06-02-match.html"><strong aria-hidden="true">4.3.8.2.</strong> The match Control Flow Construct</a></li><li class="chapter-item "><a href="../../ch06-03-if-let.html"><strong aria-hidden="true">4.3.8.3.</strong> Concise Control Flow with if let</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.4.</strong> Basic Rust Literacy</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch07-00-managing-growing-projects-with-packages-crates-and-modules.html"><strong aria-hidden="true">4.4.1.</strong> Managing Growing Projects with Packages, Crates, and Modules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch07-01-packages-and-crates.html"><strong aria-hidden="true">4.4.1.1.</strong> Packages and Crates</a></li><li class="chapter-item "><a href="../../ch07-02-defining-modules-to-control-scope-and-privacy.html"><strong aria-hidden="true">4.4.1.2.</strong> Defining Modules to Control Scope and Privacy</a></li><li class="chapter-item "><a href="../../ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html"><strong aria-hidden="true">4.4.1.3.</strong> Paths for Referring to an Item in the Module Tree</a></li><li class="chapter-item "><a href="../../ch07-04-bringing-paths-into-scope-with-the-use-keyword.html"><strong aria-hidden="true">4.4.1.4.</strong> Bringing Paths Into Scope with the use Keyword</a></li><li class="chapter-item "><a href="../../ch07-05-separating-modules-into-different-files.html"><strong aria-hidden="true">4.4.1.5.</strong> Separating Modules into Different Files</a></li></ol></li><li class="chapter-item "><a href="../../ch08-00-common-collections.html"><strong aria-hidden="true">4.4.2.</strong> Common Collections</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch08-01-vectors.html"><strong aria-hidden="true">4.4.2.1.</strong> Vectors: Storing Lists of The Same Type of Values</a></li><li class="chapter-item "><a href="../../ch08-02-strings.html"><strong aria-hidden="true">4.4.2.2.</strong> Strings: Storing UTF-8 Encoded Text</a></li><li class="chapter-item "><a href="../../ch08-03-hash-maps.html"><strong aria-hidden="true">4.4.2.3.</strong> HasnMap&lt;K, V&gt;: Storing Keys with Associated Values</a></li></ol></li><li class="chapter-item "><a href="../../ch09-00-error-handling.html"><strong aria-hidden="true">4.4.3.</strong> Error Handling</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">4.4.3.1.</strong> Unrecoverable Errors with panic!</a></li><li class="chapter-item "><a href="../../ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">4.4.3.2.</strong> ⭐️Recoverable Errors with Result</a></li><li class="chapter-item "><a href="../../ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">4.4.3.3.</strong> To panic! or Not to panic!</a></li></ol></li><li class="chapter-item "><a href="../../ch10-00-generics.html"><strong aria-hidden="true">4.4.4.</strong> Generic Types, Traits, and Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch10-01-syntax.html"><strong aria-hidden="true">4.4.4.1.</strong> ✨Generic Data Types</a></li><li class="chapter-item "><a href="../../ch10-02-traits.html"><strong aria-hidden="true">4.4.4.2.</strong> 🪐Traits: Defining Shared Behavior</a></li><li class="chapter-item "><a href="../../ch10-03-lifetime-syntax.html"><strong aria-hidden="true">4.4.4.3.</strong> ⭐️Validating References with Lifetimes</a></li></ol></li><li class="chapter-item "><a href="../../ch11-00-testing.html"><strong aria-hidden="true">4.4.5.</strong> Writing Automated Tests</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch11-01-writing-tests.html"><strong aria-hidden="true">4.4.5.1.</strong> How to Write Tests</a></li><li class="chapter-item "><a href="../../ch11-02-running-tests.html"><strong aria-hidden="true">4.4.5.2.</strong> Controlling How Tests Are Run</a></li><li class="chapter-item "><a href="../../ch11-03-test-organization.html"><strong aria-hidden="true">4.4.5.3.</strong> Test Organization</a></li></ol></li><li class="chapter-item "><a href="../../ch12-00-an-io-project.html"><strong aria-hidden="true">4.4.6.</strong> An I/O Project: Building a Command Line Program</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">4.4.6.1.</strong> Accepting Command Line Arguments</a></li><li class="chapter-item "><a href="../../ch12-02-reading-a-file.html"><strong aria-hidden="true">4.4.6.2.</strong> Reading a File</a></li><li class="chapter-item "><a href="../../ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">4.4.6.3.</strong> Refactoring to Improve Modularity and Error Handling</a></li><li class="chapter-item "><a href="../../ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">4.4.6.4.</strong> Developing the Library’s Functionality with Test Driven Development</a></li><li class="chapter-item "><a href="../../ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">4.4.6.5.</strong> Working with Environment Variables</a></li><li class="chapter-item "><a href="../../ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">4.4.6.6.</strong> Writing Error Messages to Standard Error Instead of Standard Output</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../thinking_in_rust.html"><strong aria-hidden="true">4.5.</strong> 🤔Thinking in Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch13-00-functional-features.html"><strong aria-hidden="true">4.5.1.</strong> Functional Language Features: Iterators and Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch13-01-closures.html"><strong aria-hidden="true">4.5.1.1.</strong> Closures: Anonymous Functions that Capture Their Environment</a></li><li class="chapter-item "><a href="../../ch13-02-iterators.html"><strong aria-hidden="true">4.5.1.2.</strong> Processing a Series of Items with Iterators</a></li><li class="chapter-item "><a href="../../ch13-03-improving-our-io-project.html"><strong aria-hidden="true">4.5.1.3.</strong> Improving Our I/O Project</a></li><li class="chapter-item "><a href="../../ch13-04-performance.html"><strong aria-hidden="true">4.5.1.4.</strong> Comparing Performance: Loops vs. Iterators</a></li></ol></li><li class="chapter-item "><a href="../../ch14-00-more-about-cargo.html"><strong aria-hidden="true">4.5.2.</strong> More about Cargo and Crates.io</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch14-01-release-profiles.html"><strong aria-hidden="true">4.5.2.1.</strong> Customizing Builds with Release Profiles</a></li><li class="chapter-item "><a href="../../ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">4.5.2.2.</strong> Publishing a Crate to Crates.io</a></li><li class="chapter-item "><a href="../../ch14-03-cargo-workspaces.html"><strong aria-hidden="true">4.5.2.3.</strong> Cargo Workspaces</a></li><li class="chapter-item "><a href="../../ch14-04-installing-binaries.html"><strong aria-hidden="true">4.5.2.4.</strong> Installing Binaries from Crates.io with cargo install</a></li><li class="chapter-item "><a href="../../ch14-05-extending-cargo.html"><strong aria-hidden="true">4.5.2.5.</strong> Extending Cargo with Custom Commands</a></li></ol></li><li class="chapter-item "><a href="../../ch15-00-smart-pointers.html"><strong aria-hidden="true">4.5.3.</strong> ✨Smart Pointers(2+3): (Deref、Drop) + (Box/heap、Rc、RefCell/Reference Cycle）</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../smart_pointers_deref_drop.html"><strong aria-hidden="true">4.5.3.1.</strong> Two Typical Traits: Deref & Drop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-02-deref.html"><strong aria-hidden="true">4.5.3.1.1.</strong> Deref(* operator): Treating Smart Pointers Like Regular References with the Deref Trait</a></li><li class="chapter-item "><a href="../../ch15-03-drop.html"><strong aria-hidden="true">4.5.3.1.2.</strong> Drop: Running Code on Cleanup with the Drop Trait</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.5.3.2.</strong> Three main types</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-01-box.html"><strong aria-hidden="true">4.5.3.2.1.</strong> Heap: Using Box&lt;T&gt; to Point to Data on the Heap</a></li><li class="chapter-item "><a href="../../rc_refcell.html"><strong aria-hidden="true">4.5.3.2.2.</strong> References Tracking Pointer Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch15-04-rc.html"><strong aria-hidden="true">4.5.3.2.2.1.</strong> Rc&lt;T&gt;(Reference Counting): single-threaded scenarios, immutable references of multiple owners, the Reference Counted Smart Pointer</a></li><li class="chapter-item "><a href="../../ch15-05-interior-mutability.html"><strong aria-hidden="true">4.5.3.2.2.2.</strong> RefCell&lt;T&gt;(reference counting cell): single-threaded scenarios, runtime borrow checking, the Interior Mutability Pattern</a></li><li class="chapter-item "><a href="../../ch15-06-reference-cycles.html"><strong aria-hidden="true">4.5.3.2.2.3.</strong> 🌟Reference Cycles Can Leak Memory: Mainly from Incorrect Usage of Rc&lt;T&gt; and RefCell&lt;T&gt;</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../ch16-00-concurrency.html"><strong aria-hidden="true">4.5.4.</strong> Fearless Concurrency</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch16-01-threads.html"><strong aria-hidden="true">4.5.4.1.</strong> Using Threads to Run Code Simultaneously</a></li><li class="chapter-item "><a href="../../ch16-02-message-passing.html"><strong aria-hidden="true">4.5.4.2.</strong> Using Message Passing to Transfer Data Between Threads</a></li><li class="chapter-item "><a href="../../ch16-03-shared-state.html"><strong aria-hidden="true">4.5.4.3.</strong> Shared-State Concurrency</a></li><li class="chapter-item "><a href="../../ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">4.5.4.4.</strong> Extensible Concurrency with the Sync and Send Traits</a></li></ol></li><li class="chapter-item "><a href="../../ch17-00-oop.html"><strong aria-hidden="true">4.5.5.</strong> Object Oriented Programming Features of Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch17-01-what-is-oo.html"><strong aria-hidden="true">4.5.5.1.</strong> Characteristics of Object-Oriented Languages</a></li><li class="chapter-item "><a href="../../ch17-02-trait-objects.html"><strong aria-hidden="true">4.5.5.2.</strong> 🌛️Using Trait Objects That Allow for Values of Different Types</a></li><li class="chapter-item "><a href="../../ch17-03-oo-design-patterns.html"><strong aria-hidden="true">4.5.5.3.</strong> Implementing an Object-Oriented Design Pattern</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.6.</strong> Advanced Topics</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch18-00-patterns.html"><strong aria-hidden="true">4.6.1.</strong> Patterns and Matching</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch18-01-all-the-places-for-patterns.html"><strong aria-hidden="true">4.6.1.1.</strong> All the Places Patterns Can Be Used</a></li><li class="chapter-item "><a href="../../ch18-02-refutability.html"><strong aria-hidden="true">4.6.1.2.</strong> Refutability: Whether a Pattern Might Fail to Match</a></li><li class="chapter-item "><a href="../../ch18-03-pattern-syntax.html"><strong aria-hidden="true">4.6.1.3.</strong> ⭐️Pattern Syntax</a></li></ol></li><li class="chapter-item "><a href="../../ch19-00-advanced-features.html"><strong aria-hidden="true">4.6.2.</strong> Advanced Features</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch19-01-unsafe-rust.html"><strong aria-hidden="true">4.6.2.1.</strong> Unsafe Rust</a></li><li class="chapter-item "><a href="../../ch19-03-advanced-traits.html"><strong aria-hidden="true">4.6.2.2.</strong> ⭐️Advanced Traits</a></li><li class="chapter-item "><a href="../../ch19-04-advanced-types.html"><strong aria-hidden="true">4.6.2.3.</strong> ✨Advanced Types</a></li><li class="chapter-item "><a href="../../ch19-05-advanced-functions-and-closures.html"><strong aria-hidden="true">4.6.2.4.</strong> 📦Advanced Functions and Closures</a></li><li class="chapter-item "><a href="../../ch19-06-macros.html"><strong aria-hidden="true">4.6.2.5.</strong> Macros</a></li></ol></li><li class="chapter-item "><a href="../../ch20-00-final-project-a-web-server.html"><strong aria-hidden="true">4.6.3.</strong> Final Project: Building a Multithreaded Web Server</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ch20-01-single-threaded.html"><strong aria-hidden="true">4.6.3.1.</strong> Building a Single-Threaded Web Server</a></li><li class="chapter-item "><a href="../../ch20-02-multithreaded.html"><strong aria-hidden="true">4.6.3.2.</strong> Turning Our Single-Threaded Server into a Multithreaded Server</a></li><li class="chapter-item "><a href="../../ch20-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">4.6.3.3.</strong> Graceful Shutdown and Cleanup</a></li></ol></li><li class="chapter-item "><a href="../../appendix-00.html"><strong aria-hidden="true">4.6.4.</strong> Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../appendix-01-keywords.html"><strong aria-hidden="true">4.6.4.1.</strong> A - Keywords</a></li><li class="chapter-item "><a href="../../appendix-02-operators.html"><strong aria-hidden="true">4.6.4.2.</strong> B - Operators and Symbols</a></li><li class="chapter-item "><a href="../../appendix-03-derivable-traits.html"><strong aria-hidden="true">4.6.4.3.</strong> ✨️C - Derivable Traits</a></li><li class="chapter-item "><a href="../../appendix-04-useful-development-tools.html"><strong aria-hidden="true">4.6.4.4.</strong> D - Useful Development Tools</a></li><li class="chapter-item "><a href="../../appendix-05-editions.html"><strong aria-hidden="true">4.6.4.5.</strong> E - Editions</a></li><li class="chapter-item "><a href="../../appendix-06-translation.html"><strong aria-hidden="true">4.6.4.6.</strong> F - Translations of the Book</a></li><li class="chapter-item "><a href="../../appendix-07-nightly-rust.html"><strong aria-hidden="true">4.6.4.7.</strong> G - How Rust is Made and “Nightly Rust”</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../rust_by_example_src/index.html"><strong aria-hidden="true">5.</strong> Rust By Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello.html"><strong aria-hidden="true">5.1.</strong> Hello World</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/comment.html"><strong aria-hidden="true">5.1.1.</strong> Comments</a></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print.html"><strong aria-hidden="true">5.1.2.</strong> Formatted print</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_debug.html"><strong aria-hidden="true">5.1.2.1.</strong> Debug</a></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_display.html"><strong aria-hidden="true">5.1.2.2.</strong> Display</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/print_display/testcase_list.html"><strong aria-hidden="true">5.1.2.2.1.</strong> Testcase: List</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/hello/print/fmt.html"><strong aria-hidden="true">5.1.2.3.</strong> Formatting</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.2.</strong> Types: Primitives, custom Types, Bindings and Change/Define/Advanced Conversion</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/primitives.html"><strong aria-hidden="true">5.2.1.</strong> Primitives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/primitives/literals.html"><strong aria-hidden="true">5.2.1.1.</strong> Literals and operators</a></li><li class="chapter-item "><a href="../../rust_by_example_src/primitives/tuples.html"><strong aria-hidden="true">5.2.1.2.</strong> Tuples: a collection of values of different types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/primitives/array.html"><strong aria-hidden="true">5.2.1.3.</strong> Arrays and Slices: a collection of objects of the same type T</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types.html"><strong aria-hidden="true">5.2.2.</strong> Custom Types: struct and enum</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/structs.html"><strong aria-hidden="true">5.2.2.1.</strong> Structures: Tuple, C structs and Unit structs</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum.html"><strong aria-hidden="true">5.2.2.2.</strong> ✨Enums: and Type alias</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/enum_use.html"><strong aria-hidden="true">5.2.2.2.1.</strong> use</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/c_like.html"><strong aria-hidden="true">5.2.2.2.2.</strong> C-like</a></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/enum/testcase_linked_list.html"><strong aria-hidden="true">5.2.2.2.3.</strong> Testcase: linked-list</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/custom_types/constants.html"><strong aria-hidden="true">5.2.2.3.</strong> constants: const and static</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings.html"><strong aria-hidden="true">5.2.3.</strong> Variable Bindings</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/mut.html"><strong aria-hidden="true">5.2.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/scope.html"><strong aria-hidden="true">5.2.3.2.</strong> Scope ({}) and Shadowing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/declare.html"><strong aria-hidden="true">5.2.3.3.</strong> Declare first</a></li><li class="chapter-item "><a href="../../rust_by_example_src/variable_bindings/freeze.html"><strong aria-hidden="true">5.2.3.4.</strong> Freezing</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/types.html"><strong aria-hidden="true">5.2.4.</strong> 🚶Basic Conversion: Change or Define Types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/types/cast.html"><strong aria-hidden="true">5.2.4.1.</strong> as: Casting using as keyword</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/literals.html"><strong aria-hidden="true">5.2.4.2.</strong> Literals</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/inference.html"><strong aria-hidden="true">5.2.4.3.</strong> Inference</a></li><li class="chapter-item "><a href="../../rust_by_example_src/types/alias.html"><strong aria-hidden="true">5.2.4.4.</strong> ✨Type Aliasing: give a new name to an existing type</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion.html"><strong aria-hidden="true">5.2.5.</strong> 💃Advanced Conversion: From/Into trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/conversion/from_into.html"><strong aria-hidden="true">5.2.5.1.</strong> From and Into</a></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion/try_from_try_into.html"><strong aria-hidden="true">5.2.5.2.</strong> TryFrom and TryInto: used for fallible conversions, return Result</a></li><li class="chapter-item "><a href="../../rust_by_example_src/conversion/string.html"><strong aria-hidden="true">5.2.5.3.</strong> ToString and FromStr trait: To and from Strings</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.3.</strong> Control: Statements, Functions and Error handling</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/expression.html"><strong aria-hidden="true">5.3.1.</strong> ✨Expressions: statements end with ;</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control.html"><strong aria-hidden="true">5.3.2.</strong> 🧮 Flow of Control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/if_else.html"><strong aria-hidden="true">5.3.2.1.</strong> if/else</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/while.html"><strong aria-hidden="true">5.3.2.2.</strong> while</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop.html"><strong aria-hidden="true">5.3.2.3.</strong> loop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop/nested.html"><strong aria-hidden="true">5.3.2.3.1.</strong> Nesting and labels: a little like lifetime annotations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/loop/return.html"><strong aria-hidden="true">5.3.2.3.2.</strong> Returning from loops</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/if_let.html"><strong aria-hidden="true">5.3.2.4.</strong> if let</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/while_let.html"><strong aria-hidden="true">5.3.2.5.</strong> ✨while_let</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/for.html"><strong aria-hidden="true">5.3.2.6.</strong> for and range</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match.html"><strong aria-hidden="true">5.3.2.7.</strong> ⭐️match</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/destructuring.html"><strong aria-hidden="true">5.3.2.7.1.</strong> ✨✨✨Destructuring</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/guard.html"><strong aria-hidden="true">5.3.2.7.2.</strong> Guards: to filter the arm</a></li><li class="chapter-item "><a href="../../rust_by_example_src/flow_control/match/binding.html"><strong aria-hidden="true">5.3.2.7.3.</strong> @ Binding</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn.html"><strong aria-hidden="true">5.3.3.</strong> ✨Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/methods.html"><strong aria-hidden="true">5.3.3.1.</strong> Methods</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures.html"><strong aria-hidden="true">5.3.3.2.</strong> ✨Closures</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/capture.html"><strong aria-hidden="true">5.3.3.2.1.</strong> Capturing</a></li><li class="chapter-item "><div><strong aria-hidden="true">5.3.3.2.2.</strong> Fn/FnMut/FnOnce</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/anonymity.html"><strong aria-hidden="true">5.3.3.2.2.1.</strong> Type anonymity</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/input_parameters.html"><strong aria-hidden="true">5.3.3.2.2.2.</strong> As input parameters</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/output_parameters.html"><strong aria-hidden="true">5.3.3.2.2.3.</strong> As output parameters</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/input_functions.html"><strong aria-hidden="true">5.3.3.2.2.4.</strong> Input functions</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples.html"><strong aria-hidden="true">5.3.3.2.3.</strong> Examples in std</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples/iter_any.html"><strong aria-hidden="true">5.3.3.2.3.1.</strong> Iterator::any</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/closures/closure_examples/iter_find.html"><strong aria-hidden="true">5.3.3.2.3.2.</strong> Searching through iterators</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/hof.html"><strong aria-hidden="true">5.3.3.3.</strong> Higher Order Functions</a></li><li class="chapter-item "><a href="../../rust_by_example_src/fn/diverging.html"><strong aria-hidden="true">5.3.3.4.</strong> ✨Diverging functions: return !, different from ()</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error.html"><strong aria-hidden="true">5.3.4.</strong> ⭐️Error handling: Panic、Option and Result</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/panic.html"><strong aria-hidden="true">5.3.4.1.</strong> panic!: unrecoverable, try-exception</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/abort_unwind.html"><strong aria-hidden="true">5.3.4.1.1.</strong> ✨abort & unwind: Two implementation mechanisms of panic</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap.html"><strong aria-hidden="true">5.3.4.2.</strong> Option & unwrap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/map.html"><strong aria-hidden="true">5.3.4.2.1.</strong> Combinators of Option: map</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/and_then.html"><strong aria-hidden="true">5.3.4.2.2.</strong> Combinators of Option: and_then</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/defaults.html"><strong aria-hidden="true">5.3.4.2.3.</strong> Defaults: or, or_else, get_or_insert, 'get_or_insert_with`</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result.html"><strong aria-hidden="true">5.3.4.3.</strong> Result & OK or ?: A Richer Version Of Option</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/result/result_map.html"><strong aria-hidden="true">5.3.4.3.1.</strong> map for Result: catch explicit Exception and Continue</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result/result_alias.html"><strong aria-hidden="true">5.3.4.3.2.</strong> Custom Exception: aliases for Result</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/result/early_returns.html"><strong aria-hidden="true">5.3.4.3.3.</strong> Early returns: Catch Exception and Return</a></li></ol></li><li class="chapter-item "><a href="../../#.html"><strong aria-hidden="true">5.3.4.4.</strong> ?: the uses of question mark</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/result/enter_question_mark.html"><strong aria-hidden="true">5.3.4.4.1.</strong> Introducing ?</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/option_unwrap/question_mark.html"><strong aria-hidden="true">5.3.4.4.2.</strong> Unpacking options with ? to return the Some or terminate</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/reenter_question_mark.html"><strong aria-hidden="true">5.3.4.4.3.</strong> Other uses of ?</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types.html"><strong aria-hidden="true">5.3.4.5.</strong> Multiple error types to interact</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/option_result.html"><strong aria-hidden="true">5.3.4.5.1.</strong> Pulling Results out of Options</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/define_error_type.html"><strong aria-hidden="true">5.3.4.5.2.</strong> Defining an error type</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/boxing_errors.html"><strong aria-hidden="true">5.3.4.5.3.</strong> Boxing errors</a></li><li class="chapter-item "><a href="../../rust_by_example_src/error/multiple_error_types/wrap_error.html"><strong aria-hidden="true">5.3.4.5.4.</strong> Wrapping errors</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/error/iter_result.html"><strong aria-hidden="true">5.3.4.6.</strong> Iterating over Results</a></li><li class="chapter-item "><a href="../../rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">5.3.4.7.</strong> 📒Error Handling Practices -- ChatGPT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/error/error_handling_practices/basic_practics.html"><strong aria-hidden="true">5.3.4.7.1.</strong> Basic Practices</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/encapsulation_modules_crates_cargo.html"><strong aria-hidden="true">5.4.</strong> Encapsulation: Modules, Crates and Cargo</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/mod.html"><strong aria-hidden="true">5.4.1.</strong> Modules: hierarchically split and manage visibility</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/mod/visibility.html"><strong aria-hidden="true">5.4.1.1.</strong> Visibility</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/struct_visibility.html"><strong aria-hidden="true">5.4.1.2.</strong> Struct visibility: an extra level of visibility with their fields</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/use.html"><strong aria-hidden="true">5.4.1.3.</strong> The use declaration: bind a full path to a new name</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/super.html"><strong aria-hidden="true">5.4.1.4.</strong> super and self: remove ambiguity</a></li><li class="chapter-item "><a href="../../rust_by_example_src/mod/split.html"><strong aria-hidden="true">5.4.1.5.</strong> File/Directory hierarchy</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/crates.html"><strong aria-hidden="true">5.4.2.</strong> Crates: compilation units in Rust, library or binary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/crates/lib.html"><strong aria-hidden="true">5.4.2.1.</strong> Creating a Library: --crate-type=lib</a></li><li class="chapter-item "><a href="../../rust_by_example_src/crates/using_lib.html"><strong aria-hidden="true">5.4.2.2.</strong> Using a Library: --extern</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo.html"><strong aria-hidden="true">5.4.3.</strong> Cargo: package management tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/cargo/deps.html"><strong aria-hidden="true">5.4.3.1.</strong> Dependencies</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/conventions.html"><strong aria-hidden="true">5.4.3.2.</strong> Two Binaries Conventions</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/test.html"><strong aria-hidden="true">5.4.3.3.</strong> ✨Tests</a></li><li class="chapter-item "><a href="../../rust_by_example_src/cargo/build_scripts.html"><strong aria-hidden="true">5.4.3.4.</strong> Build Scripts</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.5.</strong> Rust Core: Generics, Traits and Scoping</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics.html"><strong aria-hidden="true">5.5.1.</strong> 🪐Generics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/used_as_parameter.html"><strong aria-hidden="true">5.5.1.1.</strong> Used as Parameter</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/gen_fn.html"><strong aria-hidden="true">5.5.1.1.1.</strong> Functions: Identify whether a generic function</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/impl.html"><strong aria-hidden="true">5.5.1.1.2.</strong> Impl Type fn: Identify whether a generic method</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/gen_trait.html"><strong aria-hidden="true">5.5.1.1.3.</strong> Impl Traits fn: Identify whether a generic method</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/trait_bounds.html"><strong aria-hidden="true">5.5.1.2.</strong> Bounded by Trait</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/testcase_empty.html"><strong aria-hidden="true">5.5.1.2.1.</strong> ✨Testcase: empty bounds</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/multi_trait_bounds.html"><strong aria-hidden="true">5.5.1.2.2.</strong> Multiple Trait Bounds</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/bounds/where_bounds.html"><strong aria-hidden="true">5.5.1.2.3.</strong> Where clauses bounds</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/new_types.html"><strong aria-hidden="true">5.5.1.3.</strong> New Type Idiom</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items.html"><strong aria-hidden="true">5.5.1.4.</strong> ✨Associated items</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/the_problem.html"><strong aria-hidden="true">5.5.1.4.1.</strong> ✨The Problem</a></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/assoc_items/types.html"><strong aria-hidden="true">5.5.1.4.2.</strong> Associated types</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/generics/phantom.html"><strong aria-hidden="true">5.5.1.5.</strong> Phantom type parameters</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/generics/phantom/testcase_units.html"><strong aria-hidden="true">5.5.1.5.1.</strong> Testcase: unit clarification</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/trait.html"><strong aria-hidden="true">5.5.2.</strong> 🪐Traits</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/trait/derive.html"><strong aria-hidden="true">5.5.2.1.</strong> ✨Derive Macro Traits</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/dyn.html"><strong aria-hidden="true">5.5.2.2.</strong> Returning Traits with dyn</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/ops.html"><strong aria-hidden="true">5.5.2.3.</strong> Operator Overloading</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/drop.html"><strong aria-hidden="true">5.5.2.4.</strong> Drop</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/iter.html"><strong aria-hidden="true">5.5.2.5.</strong> Iterators: Iterator Trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/impl_trait.html"><strong aria-hidden="true">5.5.2.6.</strong> ✨impl Trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/supertraits.html"><strong aria-hidden="true">5.5.2.7.</strong> Supertraits</a></li><li class="chapter-item "><a href="../../rust_by_example_src/trait/disambiguating.html"><strong aria-hidden="true">5.5.2.8.</strong> Fully Qualified Syntax: Disambiguating overlapping traits</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope.html"><strong aria-hidden="true">5.5.3.</strong> 🪐Scoping rules</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/raii.html"><strong aria-hidden="true">5.5.3.1.</strong> RAII</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/move.html"><strong aria-hidden="true">5.5.3.2.</strong> Ownership and moves</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/move/mut.html"><strong aria-hidden="true">5.5.3.2.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/move/partial_move.html"><strong aria-hidden="true">5.5.3.2.2.</strong> Partial moves</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow.html"><strong aria-hidden="true">5.5.3.3.</strong> Borrowing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/mut.html"><strong aria-hidden="true">5.5.3.3.1.</strong> Mutability</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/alias.html"><strong aria-hidden="true">5.5.3.3.2.</strong> Mutable or Immutable, Only One</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/borrow/ref.html"><strong aria-hidden="true">5.5.3.3.3.</strong> ✨The ref pattern</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime.html"><strong aria-hidden="true">5.5.3.4.</strong> Lifetimes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/elision.html"><strong aria-hidden="true">5.5.3.4.1.</strong> Elision</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/explicit.html"><strong aria-hidden="true">5.5.3.4.2.</strong> ✨Explicit lifetime annotation: another Generic</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/fn_method_struct_trait.html"><strong aria-hidden="true">5.5.3.4.3.</strong> ✨Functions、methods、struct、trait</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/lifetime_bounds.html"><strong aria-hidden="true">5.5.3.4.4.</strong> Lifetime Bounds for generics</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/lifetime_coercion.html"><strong aria-hidden="true">5.5.3.4.5.</strong> Coercion</a></li><li class="chapter-item "><a href="../../rust_by_example_src/scope/lifetime/static_lifetime.html"><strong aria-hidden="true">5.5.3.4.6.</strong> Static</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.6.</strong> Macros: rules! and Attributes</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros.html"><strong aria-hidden="true">5.6.1.</strong> macro_rules!</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros/syntax.html"><strong aria-hidden="true">5.6.1.1.</strong> Syntax</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/macros/designators.html"><strong aria-hidden="true">5.6.1.1.1.</strong> Designators</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/overload.html"><strong aria-hidden="true">5.6.1.1.2.</strong> Overload</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/repeat.html"><strong aria-hidden="true">5.6.1.1.3.</strong> Repeat</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/dry.html"><strong aria-hidden="true">5.6.1.2.</strong> DRY (rust_by_example_src/Don't Repeat Yourself)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/dsl.html"><strong aria-hidden="true">5.6.1.3.</strong> DSL (rust_by_example_src/Domain Specific Languages)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/macros/variadics.html"><strong aria-hidden="true">5.6.1.4.</strong> Variadics</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute.html"><strong aria-hidden="true">5.6.2.</strong> 🧐 Attributes: metadata applied to some module, crate or item</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/attribute/unused.html"><strong aria-hidden="true">5.6.2.1.</strong> dead_code: disable the unused lint</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/crate.html"><strong aria-hidden="true">5.6.2.2.</strong> Crates: : crate_type and crate_name</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/cfg.html"><strong aria-hidden="true">5.6.2.3.</strong> cfg: Configuration conditional checks</a></li><li class="chapter-item "><a href="../../rust_by_example_src/attribute/cfg/custom.html"><strong aria-hidden="true">5.6.2.4.</strong> Custom: Custom conditionals</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.7.</strong> Std: Library types and Misc</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std.html"><strong aria-hidden="true">5.7.1.</strong> ⭐️Std library types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std/box.html"><strong aria-hidden="true">5.7.1.1.</strong> ✨Box, stack and heap</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/vec.html"><strong aria-hidden="true">5.7.1.2.</strong> ✨Vectors: re-sizable arrays</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/str.html"><strong aria-hidden="true">5.7.1.3.</strong> ✨Strings: String and &str</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/panic.html"><strong aria-hidden="true">5.7.1.4.</strong> panic!: Raise Exception , no Catch</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/option.html"><strong aria-hidden="true">5.7.1.5.</strong> Option: catching failure instead of calling panic!</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/result.html"><strong aria-hidden="true">5.7.1.6.</strong> Result: express why an operation failed</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/result/question_mark.html"><strong aria-hidden="true">5.7.1.7.</strong> ?: Chaining Results only match Ok(ok)</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/hash.html"><strong aria-hidden="true">5.7.1.8.</strong> HashMap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std/hash/alt_key_types.html"><strong aria-hidden="true">5.7.1.8.1.</strong> Alternate/custom key types</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/hash/hashset.html"><strong aria-hidden="true">5.7.1.8.2.</strong> HashSet</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std/rc.html"><strong aria-hidden="true">5.7.1.9.</strong> Rc: for mutiple ownership, just like what python have done</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std/arc.html"><strong aria-hidden="true">5.7.1.10.</strong> Arc: shared ownership between threads</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc.html"><strong aria-hidden="true">5.7.2.</strong> 🌌 Std misc</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/threads.html"><strong aria-hidden="true">5.7.2.1.</strong> Threads</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/threads/testcase_mapreduce.html"><strong aria-hidden="true">5.7.2.2.</strong> ✨Testcase: map-reduce</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/channels.html"><strong aria-hidden="true">5.7.2.3.</strong> Channels: Asynchronous communication between threads</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/path.html"><strong aria-hidden="true">5.7.2.4.</strong> Path</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file.html"><strong aria-hidden="true">5.7.2.5.</strong> File I/O</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/open.html"><strong aria-hidden="true">5.7.2.5.1.</strong> open: read-only</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/create.html"><strong aria-hidden="true">5.7.2.5.2.</strong> create: write-only</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/file/read_lines.html"><strong aria-hidden="true">5.7.2.5.3.</strong> read lines: returns an iterator</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process.html"><strong aria-hidden="true">5.7.2.6.</strong> Child processes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process/pipe.html"><strong aria-hidden="true">5.7.2.6.1.</strong> Pipes: interaction with the underlying process</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/process/wait.html"><strong aria-hidden="true">5.7.2.6.2.</strong> Wait</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/fs.html"><strong aria-hidden="true">5.7.2.7.</strong> std::fs: Filesystem Operations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/arg.html"><strong aria-hidden="true">5.7.2.8.</strong> Program arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/arg/matching.html"><strong aria-hidden="true">5.7.2.8.1.</strong> Match to Argument parsing</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/std_misc/ffi.html"><strong aria-hidden="true">5.7.2.9.</strong> FFI: Foreign Function Interface</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.8.</strong> Misc: Testing, Unsafe, Compatibility and Meta</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/testing.html"><strong aria-hidden="true">5.8.1.</strong> Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/testing/unit_testing.html"><strong aria-hidden="true">5.8.1.1.</strong> ✨Unit testing for panic: #[cfg(test)], #[test], #[should_panic], #[ignore]</a></li><li class="chapter-item "><a href="../../rust_by_example_src/meta/doc.html"><strong aria-hidden="true">5.8.1.2.</strong> Documentation: cargo doc</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/doc_testing.html"><strong aria-hidden="true">5.8.1.3.</strong> ⭐️Documentation testing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/integration_testing.html"><strong aria-hidden="true">5.8.1.4.</strong> Integration testing</a></li><li class="chapter-item "><a href="../../rust_by_example_src/testing/dev_dependencies.html"><strong aria-hidden="true">5.8.1.5.</strong> Dev-dependencies</a></li></ol></li><li class="chapter-item "><a href="../../rust_by_example_src/unsafe.html"><strong aria-hidden="true">5.8.2.</strong> Unsafe Operations</a></li><li class="chapter-item "><a href="../../rust_by_example_src/unsafe/asm.html"><strong aria-hidden="true">5.8.3.</strong> 🤔️asm!: Inline assembly in Unsafe</a></li><li class="chapter-item "><a href="../../rust_by_example_src/compatibility.html"><strong aria-hidden="true">5.8.4.</strong> Compatibility</a></li><li class="chapter-item "><a href="../../rust_by_example_src/compatibility/raw_identifiers.html"><strong aria-hidden="true">5.8.5.</strong> Raw identifiers: r#</a></li><li class="chapter-item "><a href="../../rust_by_example_src/meta.html"><strong aria-hidden="true">5.8.6.</strong> Meta</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../rust_by_example_src/meta/playground.html"><strong aria-hidden="true">5.8.6.1.</strong> Playground</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../PyO3_guides/src/index.html"><strong aria-hidden="true">6.</strong> The PyO3 Guide</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/getting_started.html"><strong aria-hidden="true">6.1.</strong> Getting started</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/module.html"><strong aria-hidden="true">6.2.</strong> Python modules</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/function.html"><strong aria-hidden="true">6.3.</strong> Python functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/function/signature.html"><strong aria-hidden="true">6.3.1.</strong> Function signatures</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/function/error_handling.html"><strong aria-hidden="true">6.3.2.</strong> Error handling</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/class.html"><strong aria-hidden="true">6.4.</strong> Python classes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/class/protocols.html"><strong aria-hidden="true">6.4.1.</strong> Class customizations</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/class/object.html"><strong aria-hidden="true">6.4.1.1.</strong> Basic object customization</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/class/numeric.html"><strong aria-hidden="true">6.4.1.2.</strong> Emulating numeric types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/class/call.html"><strong aria-hidden="true">6.4.1.3.</strong> Emulating callable objects</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/conversions.html"><strong aria-hidden="true">6.5.</strong> Type conversions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/conversions/tables.html"><strong aria-hidden="true">6.5.1.</strong> Mapping of Rust types to Python types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/conversions/traits.html"><strong aria-hidden="true">6.5.2.</strong> Conversion traits</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/exception.html"><strong aria-hidden="true">6.6.</strong> Python exceptions</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/python_from_rust.html"><strong aria-hidden="true">6.7.</strong> Calling Python from Rust</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/types.html"><strong aria-hidden="true">6.8.</strong> GIL, mutability and object types</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/parallelism.html"><strong aria-hidden="true">6.9.</strong> Parallelism</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/debugging.html"><strong aria-hidden="true">6.10.</strong> Debugging</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/features.html"><strong aria-hidden="true">6.11.</strong> Features reference</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/memory.html"><strong aria-hidden="true">6.12.</strong> Memory management</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/advanced.html"><strong aria-hidden="true">6.13.</strong> Advanced topics</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/building_and_distribution.html"><strong aria-hidden="true">6.14.</strong> ⭐️Building and distribution</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/building_and_distribution/multiple_python_versions.html"><strong aria-hidden="true">6.14.1.</strong> Supporting multiple Python versions</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem.html"><strong aria-hidden="true">6.15.</strong> Useful crates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem/logging.html"><strong aria-hidden="true">6.15.1.</strong> Logging</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/ecosystem/async-await.html"><strong aria-hidden="true">6.15.2.</strong> Using async and await</a></li></ol></li><li class="chapter-item "><a href="../../PyO3_guides/src/faq.html"><strong aria-hidden="true">6.16.</strong> FAQ and troubleshooting</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/migration.html"><strong aria-hidden="true">6.17.</strong> Appendix A: Migration guide</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/rust_cpython.html"><strong aria-hidden="true">6.18.</strong> Appendix B: PyO3 and rust-cpython</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/trait_bounds.html"><strong aria-hidden="true">6.19.</strong> Appendix C: Trait bounds</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/python_typing_hints.html"><strong aria-hidden="true">6.20.</strong> Appendix D: Python typing hints</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/changelog.html"><strong aria-hidden="true">6.21.</strong> CHANGELOG</a></li><li class="chapter-item "><a href="../../PyO3_guides/src/contributing.html"><strong aria-hidden="true">6.22.</strong> Contributing</a></li></ol></li><li class="chapter-item expanded "><a href="../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">The Rust Programming Language</h1>
            <h4 class="menu-bar">日不见增 月有渐进 | 唯剃真我 方有成效｜ 惊涛拍案 千层雪起 | <a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍 | 知行合一, 方见真我</a> | 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/rust-lang/book" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-github"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="dispatch-and-fat-pointers"><a class="header" href="#dispatch-and-fat-pointers">Dispatch and Fat Pointers</a></h1>
<!--ts-->
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Wed Apr 12 09:54:56 UTC 2023 -->
<!--te-->
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>Section Overview: In this video, the speaker covers a range of topics related to Rust programming language. The topics
include traits, dynamic and static dispatch, size trait, wide or fat pointers, v tables coherence and monomorphization.</p>
<h2 id="topics-covered"><a class="header" href="#topics-covered">Topics Covered</a></h2>
<p>Section Overview: This section covers the various topics that will be discussed in the video.</p>
<h3 id="traits-and-dispatch"><a class="header" href="#traits-and-dispatch">Traits and Dispatch</a></h3>
<ul>
<li>The video covers traits and dynamic and static dispatch.</li>
<li>Dynamic dispatch is when you have a pointer to an object on the heap.</li>
<li>Static dispatch is when you have a concrete type.</li>
<li>Traits are used to define shared behavior between types.</li>
</ul>
<h3 id="size-trait"><a class="header" href="#size-trait">Size Trait</a></h3>
<ul>
<li><a href="t=1m10s"></a> The size trait is used to determine the size of a type at compile time.</li>
<li><a href="t=1m20s"></a> It can be used for optimization purposes.</li>
</ul>
<h3 id="wide-or-fat-pointers"><a class="header" href="#wide-or-fat-pointers">Wide or Fat Pointers</a></h3>
<ul>
<li><a href="t=1m25s"></a> Wide or fat pointers are pointers that contain additional information about their referent.</li>
<li><a href="t=1m35s"></a> They are useful for dynamically sized types like slices.</li>
</ul>
<h3 id="v-tables-coherence"><a class="header" href="#v-tables-coherence">V Tables Coherence</a></h3>
<ul>
<li><a href="t=1m45s"></a> V tables coherence refers to how Rust ensures that all implementations of a trait are consistent with each
other.</li>
<li><a href="t=2m0s"></a> It ensures that there is only one implementation of a trait for any given type.</li>
</ul>
<h3 id="monomorphization"><a class="header" href="#monomorphization">Monomorphization</a></h3>
<ul>
<li><a href="t=2m8s"></a> Monomorphization is the process of turning generic code into specific code by filling in the concrete types
that are used when compiled.</li>
<li><a href="t=2m23s"></a> It enables more efficient code generation by allowing the compiler to generate specialized code for each
concrete type.</li>
</ul>
<h2 id="rust-book"><a class="header" href="#rust-book">Rust Book</a></h2>
<p>Section Overview: This section covers a chapter in the Rust book on generic types, traits, and lifetimes.</p>
<ul>
<li><a href="t=1m23s"></a> The Rust book has a chapter on generic types and traits.</li>
<li><a href="t=1m44s"></a> The chapter discusses the performance of code using generics and introduces the concept of
monomorphization.</li>
<li><a href="t=2m23s"></a> Monomorphization is the process of turning generic code into specific code by filling in the concrete
types that are used when compiled.</li>
</ul>
<h2 id="monomorphization-and-generics-in-rust"><a class="header" href="#monomorphization-and-generics-in-rust">Monomorphization and Generics in Rust</a></h2>
<p>Section Overview: In this section, the speaker explains how generics work in Rust and the process of monomorphization.</p>
<h3 id="generics-in-rust"><a class="header" href="#generics-in-rust">Generics in Rust</a></h3>
<ul>
<li>Generics in Rust are turned by the compiler into multiple non-generic implementations through a process called
monomorphization.</li>
<li>Monomorphization generates a full copy of the entire struct and all its methods for each type that it is used by.</li>
<li>The generation of copies happens on demand determined at compile time when code needs a function for a given type.</li>
<li>Rust generates distinct copies of functions for each type, which makes it hard to ship people a binary that they can
use as a library.</li>
</ul>
<h3 id="benefits-of-monomorphization"><a class="header" href="#benefits-of-monomorphization">Benefits of Monomorphization</a></h3>
<ul>
<li>Monomorphization produces potentially much more efficient code because the compiler gets to see the concrete
written-out code for particular types that are used, which lets it optimize better.</li>
<li>For hashmap, it only generates methods you actually end up calling, so it amortizes the cost.</li>
</ul>
<h3 id="downsides-of-monomorphization"><a class="header" href="#downsides-of-monomorphization">Downsides of Monomorphization</a></h3>
<ul>
<li>One downside is that your binary ends up being larger because you need to generate a copy of the type or function for
every type that it’s used with.</li>
<li>Another downside is that rather than having one function called sterling, you end up with more code in the final
binary.</li>
</ul>
<h2 id="rust-binary-size-and-monomorphization"><a class="header" href="#rust-binary-size-and-monomorphization"><a href="t=0:12:09s">#</a> Rust Binary Size and Monomorphization</a></h2>
<p>Section Overview: This section discusses the reasons why Rust binaries are larger than C ones, and how monomorphization
works.</p>
<h3 id="monomorphization-and-binary-size"><a class="header" href="#monomorphization-and-binary-size">Monomorphization and Binary Size</a></h3>
<ul>
<li><a href="t=0:12:09s"></a> The compiler generates copies of functions during monomorphization, but this is usually not too costly
unless instantiated with a large number of types.</li>
<li><a href="t=0:13:23s"></a> Monomorphization allows for inlining and optimizing based on the specific type used, which can result
in larger binary sizes due to more static compilation.</li>
<li><a href="t=0:14:43s"></a> The size of the standard library used also affects binary size, especially if using many generics from
it.</li>
</ul>
<h3 id="debug-symbols-and-stripping-binaries"><a class="header" href="#debug-symbols-and-stripping-binaries">Debug Symbols and Stripping Binaries</a></h3>
<ul>
<li><a href="t=0:12:32s"></a> Rust binaries statically compile more stuff, including debug symbols that can make the binary larger.
Stripping the binary can help reduce its size.</li>
</ul>
<h2 id="generics-in-dynamic-libraries"><a class="header" href="#generics-in-dynamic-libraries"><a href="t=0:15:00s">#</a> Generics in Dynamic Libraries</a></h2>
<p>Section Overview: This section discusses how dynamic libraries handle generics in Rust.</p>
<h3 id="dynamic-libraries-and-generics"><a class="header" href="#dynamic-libraries-and-generics">Dynamic Libraries and Generics</a></h3>
<ul>
<li><a href="t=0:15:34s"></a> Dynamic libraries do not handle generics in Rust. This makes it challenging to distribute Rust
libraries in binary form or use them for dynamically linked libraries.</li>
<li><a href="t=0:16:14s"></a> Swift has been trying to stabilize something similar to dynamic linking for Rust, but it is still
unclear how it will work.</li>
</ul>
<h2 id="dispatching-methods-with-traits"><a class="header" href="#dispatching-methods-with-traits"><a href="t=0:16:44s">#</a> Dispatching Methods with Traits</a></h2>
<p>Section Overview: This section explains how dispatching methods with traits works in Rust.</p>
<h3 id="implementing-a-trait"><a class="header" href="#implementing-a-trait">Implementing a Trait</a></h3>
<ul>
<li><a href="t=0:16:49s"></a> Defining a trait involves creating a method that can be implemented for different types.</li>
<li><a href="t=0:17:17s"></a> Implementing the trait for a specific type involves defining the method for that type.</li>
</ul>
<h3 id="dispatching-methods"><a class="header" href="#dispatching-methods">Dispatching Methods</a></h3>
<ul>
<li><a href="t=0:17:26s"></a> When generating code for a trait, the compiler determines the type and looks up which methods are
available.</li>
<li><a href="t=0:18:00s"></a> The dispatch process involves selecting the appropriate method based on the type used.</li>
</ul>
<h2 id="static-dispatch-vs-dynamic-dispatch"><a class="header" href="#static-dispatch-vs-dynamic-dispatch">Static Dispatch vs Dynamic Dispatch</a></h2>
<p>Section Overview: This section discusses the difference between static dispatch and dynamic dispatch.</p>
<h3 id="static-dispatch"><a class="header" href="#static-dispatch">Static Dispatch</a></h3>
<ul>
<li>When the compiler generates machine code, it knows the type of h and can call the method directly. This is known as
static dispatch.</li>
<li>The method is trivial to figure out where it lives because the compiler knows what the actual type is.</li>
</ul>
<h3 id="dynamic-dispatch"><a class="header" href="#dynamic-dispatch">Dynamic Dispatch</a></h3>
<ul>
<li>If we don’t want to generate multiple copies, we use dynamically sized types or generics.</li>
<li>We can treat things that are different concrete types as the same type using trait objects.</li>
<li>Dynamic dispatch allows us to treat different concrete types as if they were the same type.</li>
</ul>
<h2 id="understanding-trait-objects-and-the-sized-trait"><a class="header" href="#understanding-trait-objects-and-the-sized-trait">Understanding Trait Objects and the Sized Trait</a></h2>
<p>Section Overview: In this section, the speaker discusses trait objects and the sized trait. They explain how trait
objects work and why we need to use them. They also discuss the sized trait and its importance in Rust.</p>
<h3 id="trait-objects"><a class="header" href="#trait-objects">Trait Objects</a></h3>
<ul>
<li>Bar is generic over one type which has to be either a stir reference or a string.</li>
<li>When taking a slice or an iterator, there is nowhere to put h2 as there is only one iterator that only has items of
one type.</li>
<li>Type erasure is used to take a collection of things where we only care about implementing a specific trait.</li>
</ul>
<h3 id="the-sized-trait"><a class="header" href="#the-sized-trait">The Sized Trait</a></h3>
<ul>
<li>The size trait has no methods; it’s just a marker trait that requires types with constant sizes known at compile time.</li>
<li>Every trait bound requires that the type is sized implicitly.</li>
<li>The compiler needs to know how large an argument is so it can allocate space on the stack for it when calling
functions.</li>
<li>The size of an argument can be determined by knowing its concrete implementation.</li>
</ul>
<h2 id="dynamic-dispatch-and-object-safety"><a class="header" href="#dynamic-dispatch-and-object-safety">Dynamic Dispatch and Object Safety</a></h2>
<p>Section Overview: In this section, the speaker discusses dynamic dispatch and object safety in Rust. They explain what
dynamic dispatch means, why it’s important, and how it works in Rust. They also discuss object safety and what makes a
trait object safe or unsafe.</p>
<h3 id="dynamic-dispatch-1"><a class="header" href="#dynamic-dispatch-1">Dynamic Dispatch</a></h3>
<ul>
<li>Dynamic dispatch allows us to call methods on objects whose concrete types are unknown at compile time.</li>
<li>Virtual method tables (VMTs), also known as vtables, are used to implement dynamic dispatch in Rust.</li>
<li>VMTs contain pointers to the actual functions that will be called at runtime.</li>
</ul>
<h3 id="object-safety"><a class="header" href="#object-safety">Object Safety</a></h3>
<ul>
<li>A trait is object-safe if it can be safely used as a trait object.</li>
<li>A trait is not object-safe if it has associated types or self-referential methods.</li>
<li>The compiler will generate an error if we try to use a non-object-safe trait as a trait object.</li>
</ul>
<h2 id="implementing-traits-for-trait-objects"><a class="header" href="#implementing-traits-for-trait-objects">Implementing Traits for Trait Objects</a></h2>
<p>Section Overview: In this section, the speaker discusses how to implement traits for trait objects. They explain what it
means to implement a trait for a type and how this differs from implementing a trait for a trait object. They also
discuss how to use the <code>dyn</code> keyword when working with trait objects.</p>
<h3 id="implementing-traits"><a class="header" href="#implementing-traits">Implementing Traits</a></h3>
<ul>
<li>To implement a trait for a type, we simply define the methods of the trait on that type.</li>
<li>To implement a trait for a trait object, we need to use dynamic dispatch and vtables.</li>
<li>We can use the <code>dyn</code> keyword when working with trait objects to indicate that we want dynamic dispatch.</li>
</ul>
<h2 id="downcasting-trait-objects"><a class="header" href="#downcasting-trait-objects">Downcasting Trait Objects</a></h2>
<p>Section Overview: In this section, the speaker discusses downcasting and how it works with Rust’s type system. They
explain what downcasting means and why it’s useful. They also discuss how to downcast using Rust’s built-in <code>as</code>
operator.</p>
<h3 id="downcasting"><a class="header" href="#downcasting">Downcasting</a></h3>
<ul>
<li>Downcasting allows us to convert from one type of pointer (e.g., <code>&amp;T</code>) to another (e.g., <code>&amp;U</code>) when <code>T</code> is a supertype
of <code>U</code>.</li>
<li>Downcasting can be useful when working with trait objects, as it allows us to access methods that are specific to the
concrete type of the object.</li>
<li>We can use Rust’s built-in <code>as</code> operator to downcast trait objects.</li>
</ul>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Section Overview: In this section, the speaker concludes their discussion on trait objects in Rust. They summarize the
key points covered in the video and provide some final thoughts.</p>
<ul>
<li>Trait objects allow us to work with collections of objects that implement a specific trait without knowing their
concrete types at compile time.</li>
<li>The sized trait is important because it allows the compiler to determine how much space an argument takes up on the
stack.</li>
<li>Dynamic dispatch and vtables are used to implement trait objects and allow us to call methods on unknown types at
runtime.</li>
<li>Object safety is</li>
</ul>
<h2 id="introduction-to-the-problem"><a class="header" href="#introduction-to-the-problem">Introduction to the Problem</a></h2>
<p>Section Overview: In this section, the speaker introduces a problem with Rust’s type system and explains why it is
important to understand.</p>
<h3 id="the-problem-with-din-high"><a class="header" href="#the-problem-with-din-high">The Problem with Din High</a></h3>
<ul>
<li>Rust allows for traits to be used as types.</li>
<li>However, when using a trait as a type, there can be issues with size.</li>
<li>This is because different types that implement the same trait may have different sizes.</li>
<li>This can cause problems when trying to use these types in arrays or slices.</li>
</ul>
<h2 id="understanding-the-issue"><a class="header" href="#understanding-the-issue">Understanding the Issue</a></h2>
<p>Section Overview: In this section, the speaker goes into more detail about why the issue occurs and how it affects code.</p>
<h3 id="types-of-different-sizes"><a class="header" href="#types-of-different-sizes">Types of Different Sizes</a></h3>
<ul>
<li>Strings and stirs are examples of types that have different sizes but implement the same trait.</li>
<li>A slice is just a contiguous piece of memory where each chunk is the same size.</li>
<li>If we don’t know the size of each element in a slice, we can’t guarantee that they are all the same size.</li>
<li>This makes it impossible to generate code for functions that require knowing how much space to allocate for variables.</li>
</ul>
<h2 id="implementing-sized-trait"><a class="header" href="#implementing-sized-trait">Implementing Sized Trait</a></h2>
<p>Section Overview: In this section, the speaker discusses how Rust implements sizing for types and what exceptions there
may be.</p>
<h3 id="auto-implementation-of-sized-trait"><a class="header" href="#auto-implementation-of-sized-trait">Auto Implementation of Sized Trait</a></h3>
<ul>
<li>The <code>Sized</code> trait is auto-implemented for any type that can implement it.</li>
<li>For example, if you create a struct with no fields or add a string field to it, then that struct will be sized
automatically.</li>
<li>You never need to implement <code>Sized</code> yourself; it is only ever used as an auto-trait.</li>
</ul>
<h2 id="types-that-are-not-sized"><a class="header" href="#types-that-are-not-sized">Types That Are Not Sized</a></h2>
<p>Section Overview: In this section, the speaker discusses some examples of traits that are not sized and what issues they
can cause.</p>
<h3 id="traits-that-are-not-sized"><a class="header" href="#traits-that-are-not-sized">Traits That Are Not Sized</a></h3>
<ul>
<li>Traits like <code>High</code> are not sized because different types that implement the trait may have different sizes.</li>
<li>This makes it impossible to generate code for functions that require knowing how much space to allocate for variables.</li>
<li>The compiler needs to know the size of a type in order to generate efficient code.</li>
</ul>
<h2 id="indirection-through-sized-types"><a class="header" href="#indirection-through-sized-types">Indirection through Sized Types</a></h2>
<p>Section Overview: In this section, the speaker explains how to make a type that is not sized into a type that is always
sized by indirecting it through some type that is itself sized.</p>
<h3 id="making-an-unsized-type-sized"><a class="header" href="#making-an-unsized-type-sized">Making an Unsized Type Sized</a></h3>
<ul>
<li>An example of an unsized type is <code>dyn Trait</code> or <code>str</code>.</li>
<li>To make an unsized type like <code>dyn Trait</code> or <code>str</code> into a sized type, we need to indirect it through some other type
that is itself sized.</li>
<li>Examples of such types include references (<code>&amp;T</code>) and boxes (<code>Box&lt;T&gt;</code>).</li>
<li>By indirection through these types, the size of the argument becomes known and relevant code can be generated.</li>
</ul>
<h2 id="using-box-to-make-an-unsized-type-sized"><a class="header" href="#using-box-to-make-an-unsized-type-sized">Using Box to Make an Unsized Type Sized</a></h2>
<p>Section Overview: In this section, the speaker explains how to use <code>Box&lt;T&gt;</code> to make an unsized type like <code>str</code> into a
sized type.</p>
<h3 id="using-box"><a class="header" href="#using-box">Using Box<T></a></h3>
<ul>
<li>A box has a known size because it’s just a pointer.</li>
<li>When you create a box initially, you allocate space for whatever you’re going to put inside of it.</li>
<li>The box is still of a known size even if what it points to might have an arbitrary size.</li>
<li>You can create a box of something that itself is not sized by opting out of the auto-bound that gets added saying for
box the T does not have to be sized.</li>
<li>Once you do this, you can pass the boxed value as an argument without getting monomorphization errors.</li>
</ul>
<h2 id="passing-references-to-functions"><a class="header" href="#passing-references-to-functions"><a href="t=0:44:44s">#</a> Passing References to Functions</a></h2>
<p>Section Overview: In this section, the speaker discusses how to pass a reference to the stack and create a trait object.</p>
<h3 id="creating-a-trait-object"><a class="header" href="#creating-a-trait-object">Creating a Trait Object</a></h3>
<ul>
<li><a href="t=0:45:59s"></a> A trait object is an object that only has the property of representing a trait.</li>
<li><a href="t=0:46:35s"></a> When you turn an object into a trait object, you erase all knowledge about what type it used to be.</li>
<li><a href="t=0:47:20s"></a> You can technically go back through unsafe transmutes and any traits, but in general, you should ignore
that.</li>
<li><a href="t=0:47:57s"></a> When you create a boxed in astrif stir or any other trait object, you only retain the ability to use
this trait.</li>
</ul>
<h3 id="passing-references"><a class="header" href="#passing-references">Passing References</a></h3>
<ul>
<li><a href="t=0:44:44s"></a> You can give the function a reference to the stack by using <code>&amp;</code>.</li>
<li><a href="t=0:45:30s"></a> You can pass something that’s on the stack by creating a pointer in direction here and then passing it
to something that takes a reference din.</li>
</ul>
<h3 id="boxed-pointer-type"><a class="header" href="#boxed-pointer-type">Boxed Pointer Type</a></h3>
<ul>
<li><a href="t=0:46:44s"></a> Box is kind of a pointer type.</li>
<li><a href="t=0:50.29s"></a> The trick to constructing a trait object is that it carries extra information about the type pointed
to.</li>
</ul>
<h2 id="generating-machine-code-for-dynamic-dispatch"><a class="header" href="#generating-machine-code-for-dynamic-dispatch"><a href="t=0:48.17s">#</a> Generating Machine Code for Dynamic Dispatch</a></h2>
<p>Section Overview: In this section, the speaker explains how dynamic dispatch works when generating machine code.</p>
<h3 id="static-vs-dynamic-dispatch"><a class="header" href="#static-vs-dynamic-dispatch">Static vs Dynamic Dispatch</a></h3>
<ul>
<li><a href="t=0.49.24s"></a> In the generic case, generating machine code is trivial because it’s just like an assembly call.</li>
<li><a href="t=0:50.00s"></a> In the dynamic case, we don’t know what type it is, so we don’t know whether to generate the address of
this or something else entirely.</li>
</ul>
<h3 id="virtual-dispatch-tables"><a class="header" href="#virtual-dispatch-tables">Virtual Dispatch Tables</a></h3>
<ul>
<li><a href="t=0:50.29s"></a> The trick to constructing a trait object is that it carries extra information about the type pointed
to.</li>
<li><a href="t=0:50.55s"></a> The reference of the box is not just one pointer wide; it carries a little bit of extra information
about the type pointed to.</li>
<li><a href="t=0:51.45s"></a> A virtual dispatch table (vtable) is an array of function pointers used in implementing polymorphism in
object-oriented programming languages.</li>
</ul>
<h3 id="conclusion-1"><a class="header" href="#conclusion-1">Conclusion</a></h3>
<ul>
<li>Dynamic dispatch and vtables are used when generating machine code for trait objects.</li>
<li>Trait objects only retain the ability to use their underlying trait, erasing all other knowledge about their concrete
types.</li>
</ul>
<h2 id="dynamically-sized-types-and-v-tables"><a class="header" href="#dynamically-sized-types-and-v-tables">Dynamically Sized Types and V-Tables</a></h2>
<p>Section Overview: This section discusses dynamically sized types, which are only known at runtime, and v-tables, which
are little data structures that have pointers to each of the methods for a trait for a type.</p>
<h3 id="dynamically-sized-types"><a class="header" href="#dynamically-sized-types">Dynamically Sized Types</a></h3>
<ul>
<li>Slices and trait objects are two examples of dynamically sized types.</li>
<li>At compile time, we don’t know what type this is going to be. It’s only at runtime that we’ll know.</li>
<li>The reason why this is determined at runtime is because some input can’t be predicted at compile time.</li>
</ul>
<h3 id="v-tables"><a class="header" href="#v-tables">V-Tables</a></h3>
<ul>
<li>A v-table or virtual dispatch table is a little data structure that has pointers to each of the methods for the trait
for the type.</li>
<li>When you have a trait object like <code>dyn Hi</code>, what actually gets stored in the reference is one pointer to the actual
concrete implementing type and two a pointer to a v-table for the referenced trait.</li>
<li>A different v-table ends up being constructed for each concrete type turned into a trait object.</li>
<li>The second pointer in there will always be known statically because it’s determined by the original construction of
the trait object.</li>
</ul>
<h2 id="trait-objects-1"><a class="header" href="#trait-objects-1"><a href="t=0:59:03s">#</a> Trait Objects</a></h2>
<p>Section Overview: This section covers the basics of trait objects, including how they work and their limitations.</p>
<h3 id="pointers-to-string-references"><a class="header" href="#pointers-to-string-references">Pointers to String References</a></h3>
<ul>
<li><a href="t=0:59:03s"></a> Trait objects are pointers to string references, not pointers to actual strings.</li>
<li><a href="t=0:59:23s"></a> The vtable struct for a trait object contains a member for each method of the corresponding trait that
this is a trait object for.</li>
<li><a href="t=0:59:48s"></a> The value in the vtable struct is the pointer to the implementation of that method for the concrete
type.</li>
</ul>
<h3 id="vtables-and-duplication"><a class="header" href="#vtables-and-duplication">Vtables and Duplication</a></h3>
<ul>
<li><a href="t=1:00:12s"></a> The vtable is generally statically constructed for the type and does not get constructed dynamically.</li>
<li><a href="t=1:00:32s"></a> Identical vtables are not detected, and they are guaranteed to not be duplicates even if they contain
the same code.</li>
<li><a href="t=1:01:00s"></a> If you implement a trait for two different types, then the implementations are still distinct locations
in the source code and resulting binary.</li>
</ul>
<h3 id="box-din"><a class="header" href="#box-din">Box Din</a></h3>
<ul>
<li><a href="t=1:01:09s"></a> Box din is a thin pointer that points to a wide pointer that points to an object.</li>
<li><a href="t=1:01.33s"></a> Pointer types are special because if they are trait objects, they have two pointers instead of one.</li>
<li><a href="t=1.02.05s"></a> Nightly APIs exist for trade objects too.</li>
</ul>
<h2 id="limitations-of-trait-objects"><a class="header" href="#limitations-of-trait-objects"><a href="t=1.02.14s">#</a> Limitations of Trait Objects</a></h2>
<p>Section Overview: This section discusses some limitations of trait objects compared to fully generic types.</p>
<h3 id="two-different-traits"><a class="header" href="#two-different-traits">Two Different Traits</a></h3>
<ul>
<li><a href="t=1.02.38s"></a> A trade object cannot be created for two different traits because the vtables for each trait are
contained in two different locations.</li>
<li><a href="t=1.04.11s"></a> To create a trade object for two different traits, you would need a three-wide pointer: one to the
data, one to the vtable for high, and one to the vtable for asref.</li>
</ul>
<h3 id="workaround"><a class="header" href="#workaround">Workaround</a></h3>
<ul>
<li><a href="t=1.04.55s"></a> A workaround is to create a new trait that requires both traits with no methods of its own.</li>
<li><a href="t=1.05.13s"></a> The rust compiler does not currently generate a vtable for the combination of multiple traits, but it
is possible in theory.</li>
</ul>
<h2 id="trait-objects-and-associated-types"><a class="header" href="#trait-objects-and-associated-types">Trait Objects and Associated Types</a></h2>
<p>Section Overview: In this section, the speaker discusses trait objects and associated types in Rust.</p>
<h3 id="combining-traits"><a class="header" href="#combining-traits">Combining Traits</a></h3>
<ul>
<li>When combining traits, adding a trait to a larger v table tells the developer that they can do something else instead.</li>
<li>Developers can generate their own trait here.</li>
<li>Only auto traits like Send and Sync are fine for marker traits because they don’t have any methods.</li>
</ul>
<h3 id="object-safety-1"><a class="header" href="#object-safety-1">Object Safety</a></h3>
<ul>
<li>If an associated type is added to a trait, it cannot be turned into a trait object directly. Instead, developers must
specify the associated type when taking in the trait.</li>
<li>For a trait to be object safe, it needs to allow building a v table to allow the call to be resolvable dynamically.</li>
</ul>
<h3 id="associated-functions"><a class="header" href="#associated-functions">Associated Functions</a></h3>
<ul>
<li>The high trait cannot be made into an object because its associated function weird has no self parameter.</li>
<li>A self parameter is necessary for dynamic dispatching of functions in Rust.</li>
</ul>
<h2 id="opting-out-of-trait-object-safety"><a class="header" href="#opting-out-of-trait-object-safety">Opting Out of Trait Object Safety</a></h2>
<p>Section Overview: In this section, the speaker discusses how to opt out of trait object safety in Rust.</p>
<h3 id="weird-function-and-trait-objects"><a class="header" href="#weird-function-and-trait-objects">Weird Function and Trait Objects</a></h3>
<ul>
<li>The <code>weird</code> function cannot be called through a trait object because it requires a valid instance of the type that
implements the trait.</li>
<li>If there were multiple implementations of <code>weird</code>, it would not be clear which one to call through a trait object.</li>
<li>To make sure that the trait remains object safe, you can opt out of including certain functions in the vtable by
requiring that <code>self</code> is sized. This means that these functions cannot be called through a trait object.</li>
</ul>
<h3 id="disallowing-trait-objects"><a class="header" href="#disallowing-trait-objects">Disallowing Trait Objects</a></h3>
<ul>
<li>You can also disallow using an entire trait as a trait object by specifying <code>where self is sized</code>.</li>
<li>This is rare and usually only done for backwards compatibility reasons or if non-object safe methods may be added
later.</li>
</ul>
<h3 id="associated-type-problem-with-static-dispatch"><a class="header" href="#associated-type-problem-with-static-dispatch">Associated Type Problem with Static Dispatch</a></h3>
<ul>
<li>The associated type problem does not occur with static dispatch because concrete types are known at compile time.</li>
<li>It would be possible to include the <code>weird</code> method in the vtable for a specific type if special syntax was added to
specify which implementation to use.</li>
</ul>
<h2 id="opting-out-of-trait-object-safety-with-static-dispatch"><a class="header" href="#opting-out-of-trait-object-safety-with-static-dispatch">Opting Out of Trait Object Safety with Static Dispatch</a></h2>
<p>Section Overview: In this section, the speaker discusses how opting out of trait object safety works with static
dispatch in Rust.</p>
<h3 id="opting-out-with-sized-requirements"><a class="header" href="#opting-out-with-sized-requirements">Opting Out with Sized Requirements</a></h3>
<ul>
<li>Requiring that <code>self</code> is sized allows you to opt out of including certain functions in the vtable and ensures that
they cannot be called through a trait object.</li>
<li>With static dispatch, it is possible to include specific implementations of functions like <code>weird</code> in the vtable for a
given type.</li>
</ul>
<h2 id="implementing-traits-for-concrete-dsts"><a class="header" href="#implementing-traits-for-concrete-dsts">Implementing Traits for Concrete DSTs</a></h2>
<p>Section Overview: In this section, the speaker discusses whether it is possible to implement a trait for concrete
dynamically sized types (DSTs), such as <code>Box&lt;dyn AsRef&lt;str&gt;&gt;</code>. They also explain why there are restrictions on
implementing traits for DSTs.</p>
<h3 id="implementing-traits-for-concrete-dsts-1"><a class="header" href="#implementing-traits-for-concrete-dsts-1">Implementing Traits for Concrete DSTs</a></h3>
<ul>
<li>It is possible to implement a trait for concrete DSTs if the <code>where Self: Sized</code> constraint is not present.</li>
<li>The reason this should be possible is because when you wrap a type behind a pointer, it now has a size and is no
longer dynamically sized.</li>
<li>However, there are some restrictions on implementing traits for DSTs. For example, methods cannot be generic.</li>
<li>If <code>Self: Sized</code> constraint is present, then it disallows implementing the trait for concrete DSTs.</li>
</ul>
<h2 id="type-erasure-in-trait-objects"><a class="header" href="#type-erasure-in-trait-objects">Type Erasure in Trait Objects</a></h2>
<p>Section Overview: In this section, the speaker explains how type erasure works in trait objects and why associated types
pose a problem.</p>
<h3 id="associated-types-and-vtables"><a class="header" href="#associated-types-and-vtables">Associated Types and Vtables</a></h3>
<ul>
<li>The point of associated types is that only one exists for any given concrete type. However, the vtable does not know
what the associated type should be because the type is erased.</li>
<li>Trade objects are type erased. You don’t get to keep information about the type it used to be.</li>
</ul>
<h3 id="finagling-around-associated-types"><a class="header" href="#finagling-around-associated-types">Finagling Around Associated Types</a></h3>
<ul>
<li>There are some ways to finagle around this limitation. For example, the <code>Any</code> trait has a method that returns a
descriptor of the type of the concrete type that it used to be.</li>
</ul>
<h2 id="the-fromiterator-trait-and-trait-objects"><a class="header" href="#the-fromiterator-trait-and-trait-objects">The <code>FromIterator</code> Trait and Trait Objects</a></h2>
<p>Section Overview: In this section, the speaker discusses the <code>FromIterator</code> trait and how it poses a problem for trait
objects.</p>
<h3 id="the-fromiterator-trait"><a class="header" href="#the-fromiterator-trait">The <code>FromIterator</code> Trait</a></h3>
<ul>
<li>The <code>FromIterator</code> trait is implemented by types like <code>Vec</code>. It allows you to collect items from an iterator into a
collection.</li>
<li>The type of the trait is the type of the items of the iterator. However, the <code>FromIterator</code> type itself takes a
generic parameter that represents the type of the iterator.</li>
<li>This poses a problem for trait objects because they cannot have methods that are generic.</li>
</ul>
<h2 id="extending-with-a-single-bool-add-true"><a class="header" href="#extending-with-a-single-bool-add-true">Extending with a Single Bool Add True</a></h2>
<p>Section Overview: In this section, the speaker explains how to extend an iterator of bools and why the trait extend
cannot be made into an object.</p>
<h3 id="extending-with-a-single-bool-add-true-1"><a class="header" href="#extending-with-a-single-bool-add-true-1">Extending with a Single Bool Add True</a></h3>
<ul>
<li>The function extends anything that can be extended with an iterator of bools and then tries to extend it with an
iterator that yields a single bool by adding true.</li>
<li>The implementation of extend is generic over the type of items in the iterator.</li>
<li>The implementation of extend is generic over the type of the iterator, which leads to multiple copies of this method
at compile time.</li>
<li>There is no pointer to the appropriate implementation of extend, so there cannot be a v table for din extend.
Therefore, din extend cannot exist.</li>
</ul>
<h2 id="could-rusty-add-a-monomorphized-version-of-extend"><a class="header" href="#could-rusty-add-a-monomorphized-version-of-extend">Could Rusty Add a Monomorphized Version of Extend?</a></h2>
<p>Section Overview: In this section, the speaker discusses whether Rusty could add a monomorphized version of extend for
each t it’s called with to each type that implements extend.</p>
<h3 id="possibility-and-problems"><a class="header" href="#possibility-and-problems">Possibility and Problems</a></h3>
<ul>
<li>It is tempting to add a monomorphized version of extend for each t it’s called with to each type that implements
extend.</li>
<li>However, it is not always possible because crates that depend on another crate might call extend with even more types,
leading to different v tables for din extends in different crates.</li>
<li>This would result in lots of different v table implementations or lots of different v tables for din extends and make
passing din extends from one crate to another impossible.</li>
</ul>
<h2 id="object-safety-in-rust"><a class="header" href="#object-safety-in-rust">Object Safety in Rust</a></h2>
<p>Section Overview: This section discusses the requirements for a trait to be object safe and why some traits cannot be
made into objects.</p>
<h3 id="traits-and-object-safety"><a class="header" href="#traits-and-object-safety">Traits and Object Safety</a></h3>
<ul>
<li>A trait needs to have all of its methods include a receiver that includes self to be object safe.</li>
<li>The trait cannot have a type that returns self, as this would make the return value not sized, which is required for
generating code.</li>
<li>Some traits have methods that are object safe but also have other methods that aren’t. These traits can still be
useful on their own without being made into objects.</li>
</ul>
<h3 id="iterator-trait-example"><a class="header" href="#iterator-trait-example">Iterator Trait Example</a></h3>
<ul>
<li>The iterator trait has some methods that are object safe, such as next, but also has other methods like chain and
enumerate that return self or are generic, making them non-object safe.</li>
<li>To make the iterator trait object safe, certain methods like chain have where clauses specifying that self is sized,
allowing them to be ignored when using the trait as an object. This allows for a mix of object-safe and
non-object-safe methods in the same trait.</li>
</ul>
<h3 id="receiver-requirements"><a class="header" href="#receiver-requirements">Receiver Requirements</a></h3>
<ul>
<li>The receiver for an object-safe method can include anything that includes self or &amp;self/mut self. There are no
additional restrictions beyond this requirement.</li>
</ul>
<h2 id="object-safe-traits"><a class="header" href="#object-safe-traits">Object Safe Traits</a></h2>
<p>Section Overview: This section discusses object safe traits and their requirements.</p>
<h3 id="dispatchable-functions"><a class="header" href="#dispatchable-functions">Dispatchable Functions</a></h3>
<ul>
<li>All associative functions must either be dispatchable from a trait object or be explicitly non-dispatchable.</li>
<li>Dispatchable functions require that they don’t have type parameters so they’re not generic.</li>
<li>They have to be a method that does not use the self type right the concrete type except in the type of receiver.</li>
</ul>
<h3 id="non-dispatchable-functions"><a class="header" href="#non-dispatchable-functions">Non-Dispatchable Functions</a></h3>
<ul>
<li>Non-dispatchable functions should library writers always consider adding where self is size to non-object safe methods
just in case someone downstream wants to use it as a trait object.</li>
<li>If you have a trait where it is useful even if you could only call the objective methods then it might make sense to
opt-out for the other one so that the trait overall is objective.</li>
</ul>
<h3 id="iterator-last"><a class="header" href="#iterator-last">Iterator Last</a></h3>
<ul>
<li>Iterator last has the size restriction because its receiver doesn’t go behind a reference, it consumes self which
means that it takes self and self is a din iterator which is not sized.</li>
<li>Function arguments must be sized therefore last can’t be called through a trade object.</li>
</ul>
<h2 id="trait-objects-and-drop-function"><a class="header" href="#trait-objects-and-drop-function">Trait Objects and Drop Function</a></h2>
<p>Section Overview: This section discusses how drop function works with trait objects.</p>
<h3 id="drop-function"><a class="header" href="#drop-function">Drop Function</a></h3>
<ul>
<li>The v table for any trait object includes a pointer to the drop function for the concrete type because it’s necessary.</li>
<li>Every v table includes drop, which technically includes extra information such as size and alignment of the concrete
type.</li>
<li>For something like a box where you have to deallocate memory, that information is necessary to pass to the allocator.</li>
</ul>
<h2 id="unsized-types-and-fat-pointers"><a class="header" href="#unsized-types-and-fat-pointers">Unsized Types and Fat Pointers</a></h2>
<p>Section Overview: In this section, the speaker discusses unsized types such as din trait, u8, and stir. They explain
that these types are not sized and cannot be used as function arguments or return types. The speaker also explains how
to make these types sized by placing them behind a reference or a pointer.</p>
<h3 id="unsized-types"><a class="header" href="#unsized-types">Unsized Types</a></h3>
<ul>
<li>Din trait, u8, and stir are examples of unsized types.</li>
<li>When placed behind a reference or a pointer, unsized types become a tuple of a pointer to the data and a pointer to
the v table.</li>
<li>U8 becomes sized when placed behind a type that can mask its unsizedness such as box or raw pointers.</li>
</ul>
<h3 id="making-unsized-types-sized"><a class="header" href="#making-unsized-types-sized">Making Unsized Types Sized</a></h3>
<ul>
<li>To make an unsized type sized, place it behind a type that can mask its unsizedness such as references or boxes.</li>
<li>Box can be used to make an unsized type sized by turning it into a wide pointer where one part is the data and the
other part is the length of the slice.</li>
<li>Dynamically-sized types are special in Rust because they require knowledge about whether their pointers are wide or
not.</li>
</ul>
<h3 id="manipulating-fat-pointers"><a class="header" href="#manipulating-fat-pointers">Manipulating Fat Pointers</a></h3>
<ul>
<li>RFC 2580 adds generic APIs for manipulating metadata of fat pointers.</li>
<li>A din trait becomes pointy where metadata is din metadata which contains information such as type size, alignment,
drop-in-place pointer, and methods for implementing traits.</li>
<li>Trait alias thin refers to any type that implements pointy where metadata is empty. It has methods for introspecting
the metadata of a pointer.</li>
<li>Waker trait in Rust’s standard library is an example of dynamically constructing v tables at runtime.</li>
</ul>
<h2 id="understanding-waker-and-raw-waker"><a class="header" href="#understanding-waker-and-raw-waker">Understanding Waker and Raw Waker</a></h2>
<p>Section Overview: This section explains the structure of a waker and raw waker, which is a manually constructed v table
in the standard library.</p>
<h3 id="structure-of-waker-and-raw-waker"><a class="header" href="#structure-of-waker-and-raw-waker">Structure of Waker and Raw Waker</a></h3>
<ul>
<li>A waker is a struct that has the methods wake, wake by ref will awaken from raw, and you can drop it and clone it.</li>
<li>Inside of a waker is a raw waker. A raw waker if you look inside of it is a data pointer and a v table pointer so it
really is dynamic dispatch but in sort of a hidden way.</li>
<li>The v table is a raw waker v table and you construct by giving the function pointers for the clone method for the wake
method for the wake by ref and for drop.</li>
</ul>
<h3 id="manually-constructed-v-table"><a class="header" href="#manually-constructed-v-table">Manually Constructed V Table</a></h3>
<ul>
<li>It’s basically a manually constructed v table that gives you dynamic dispatch through a type rather than a trait.</li>
<li>This section concludes with no further information provided.</li>
</ul>
<h2 id="questions-on-references-metadata-types-dynamically-sized-types-box-u8-vs-vec-u8-din-fn-vs-fn"><a class="header" href="#questions-on-references-metadata-types-dynamically-sized-types-box-u8-vs-vec-u8-din-fn-vs-fn">Questions on References, Metadata Types, Dynamically Sized Types, Box U8 vs Vec U8, Din Fn vs Fn</a></h2>
<p>Section Overview: This section answers various questions related to Rust programming language.</p>
<h3 id="reference-to-u8"><a class="header" href="#reference-to-u8">Reference to U8</a></h3>
<ul>
<li>A reference to u8 had length not start pointer or endpoint.</li>
</ul>
<h3 id="metadata-types"><a class="header" href="#metadata-types">Metadata Types</a></h3>
<ul>
<li>RFC deprecates trait object stuff that existed nightly because this is replacement pointy trade thin metadata from raw
parts where is the definition of oh it doesn’t actually give.</li>
</ul>
<h3 id="dynamically-sized-types-1"><a class="header" href="#dynamically-sized-types-1">Dynamically Sized Types</a></h3>
<ul>
<li>You can create your own dynamically sized types by adding fields to a struct. If it’s the last field, then it’s fine
you can statically know the offset of f the offset of x and the offset of t.</li>
</ul>
<h3 id="box-u8-vs-vec-u8"><a class="header" href="#box-u8-vs-vec-u8">Box U8 vs Vec U8</a></h3>
<ul>
<li>Box u8 is not the same thing as a vec u8. Evacuate can grow so evacuate first of all has um it’s three three words it’
s the pointer to the vector on the heap uh it’s the length of the vector and it’s the capacity of the vector.</li>
<li>With a box u8, you can’t do that this will never grow or shrink you can’t push to it.</li>
</ul>
<h3 id="din-fn-vs-fn"><a class="header" href="#din-fn-vs-fn">Din Fn vs Fn</a></h3>
<ul>
<li>A din fn is different from an fn because din fn is really a v table which means that it both has a sort of v table.
This has to be a function; it can’t be a closure.</li>
</ul>
<h2 id="static-dispatch-vs-dynamic-dispatch-1"><a class="header" href="#static-dispatch-vs-dynamic-dispatch-1">Static Dispatch vs Dynamic Dispatch</a></h2>
<p>Section Overview: This section discusses the difference between static dispatch and dynamic dispatch.</p>
<h3 id="calling-functions-with-closures"><a class="header" href="#calling-functions-with-closures">Calling Functions with Closures</a></h3>
<ul>
<li><code>fn main</code> can call <code>foo</code> with a closure, but not <code>bar</code>.</li>
<li>The reason is that closures capture data from their environment, so when calling the closure, the address of the
captured data needs to be passed in as well.</li>
<li>For <code>bar</code>, only a function pointer is required, which means there’s nowhere to pass in the captured data.</li>
</ul>
<h3 id="using-dyn-fn-over-impl-fn"><a class="header" href="#using-dyn-fn-over-impl-fn">Using <code>dyn Fn</code> over <code>impl Fn</code></a></h3>
<ul>
<li>When using <code>dyn Fn</code> over <code>impl Fn</code>, we can use closures with functions like <code>baz</code>.</li>
<li>However, using <code>impl Fn</code> generates a copy of the function for each closure type passed in.</li>
<li>Sometimes it’s better to use <code>dyn Fn</code> to clean up your interface or make traits object-safe.</li>
</ul>
<h3 id="object-safety-2"><a class="header" href="#object-safety-2">Object Safety</a></h3>
<ul>
<li>Making a trait take an <code>impl Fn</code> makes it not object-safe because there could be multiple implementations of that
function.</li>
<li>Using a boxed trait object (<code>Box&lt;dyn Trait&gt;</code>) instead of making it generic cleans up your interface and makes it
easier to use.</li>
</ul>
<h2 id="coherence"><a class="header" href="#coherence">Coherence</a></h2>
<p>Section Overview: This section briefly mentions coherence but will not go into detail about it.</p>
<p>Coherence is different enough from previous topics that it will require its own separate stream.</p>
<h2 id="understanding-v-tables-and-dynamic-dispatch"><a class="header" href="#understanding-v-tables-and-dynamic-dispatch">Understanding V-Tables and Dynamic Dispatch</a></h2>
<p>Section Overview: This section discusses how Rust generates a V-table for each trait object, and how there are many
V-tables for each din trait. It also explains that dynamic detection of which traits something implements is not
possible.</p>
<h3 id="v-tables-and-trait-objects"><a class="header" href="#v-tables-and-trait-objects">V-Tables and Trait Objects</a></h3>
<ul>
<li>Rust generates a V-table for each trait object.</li>
<li>There are many V-tables for each din trait.</li>
<li>Dynamic detection of which traits something implements is not possible.</li>
</ul>
<h3 id="double-d-reference"><a class="header" href="#double-d-reference">Double D Reference</a></h3>
<ul>
<li>Calling a din function involves a double d reference.</li>
<li>The first reference is for the V-table pointer, while the second one is for the actual function pointer within.</li>
</ul>
<h3 id="comparing-v-tables"><a class="header" href="#comparing-v-tables">Comparing V-Tables</a></h3>
<ul>
<li>With the new pointer v table dynamic metadata RFC, it’s possible to compare v tables by checking if s.v_table equals
string as din asref stir dot v table.</li>
<li>However, this approach may not be guaranteed since there could be different v tables in different compilation units.</li>
</ul>
<h2 id="working-with-slices-and-vec-of-dins"><a class="header" href="#working-with-slices-and-vec-of-dins">Working with Slices and Vec of Dins</a></h2>
<p>Section Overview: This section covers working with slices and vec of dins in Rust.</p>
<h3 id="example-code"><a class="header" href="#example-code">Example Code</a></h3>
<ul>
<li>An example code was provided to demonstrate working with slices and vec of dins in Rust.</li>
<li>To make the code sized correctly, you have to use Box or Arc for the inner type.</li>
</ul>
<h2 id="rust-traits-and-the-any-trait"><a class="header" href="#rust-traits-and-the-any-trait">Rust Traits and the Any Trait</a></h2>
<p>Section Overview: In this section, the speaker talks about Rust traits and how they work. They also introduce the any
trait and explain its purpose.</p>
<h3 id="rust-traits"><a class="header" href="#rust-traits">Rust Traits</a></h3>
<ul>
<li>The speaker explains that Rust traits are similar to interfaces in other programming languages.</li>
<li>They mention that there is an invariant in Rust that states that if two types implement the same trait, then they
should have the same behavior for that trait. However, this invariant may not hold true in some cases.</li>
</ul>
<h3 id="the-any-trait"><a class="header" href="#the-any-trait">The Any Trait</a></h3>
<ul>
<li>The speaker introduces the any trait, which is a super magical trait in Rust.</li>
<li>They explain that any is just a trait with a function that returns a unique identifier for a type guaranteed by the
compiler.</li>
<li>Using type id on a trait object over any can give you a unique type identifier for that value, which can be used to
downcast from din any to the concrete type.</li>
<li>The speaker recommends reading the standard any module documentation to learn more about why this is safe.</li>
</ul>
<h2 id="conclusion-2"><a class="header" href="#conclusion-2">Conclusion</a></h2>
<p>Section Overview: In this section, the speaker concludes their talk and thanks their audience.</p>
<ul>
<li>The speaker ends their talk after covering many topics related to Rust traits and introducing the any trait.</li>
</ul>
<h2 id="generated-by-video-highlight"><a class="header" href="#generated-by-video-highlight">Generated by Video Highlight</a></h2>
<p>https://videohighlight.com/video/summary/xcygqF5LVmM</p>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../rust_video_summary/curst_of_rust/declarative_macros.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../rust_video_summary/curst_of_rust/functions_closures_and_their_traits.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../rust_video_summary/curst_of_rust/declarative_macros.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../rust_video_summary/curst_of_rust/functions_closures_and_their_traits.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>



    <script type="text/javascript">
        window.playground_line_numbers = true;
    </script>

    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../assets/ferris/ferris.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../assets/pagetoc/sidebar.js"></script>

</body>
</html>
